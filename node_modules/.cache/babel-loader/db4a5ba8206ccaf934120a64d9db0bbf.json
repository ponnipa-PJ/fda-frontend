{"remainingRequest":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/thread-loader/dist/cjs.js!/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/babel-loader/lib/index.js!/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ponnipa/Documents/GitHub/fda-frontend/src/components/Advertise.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/src/components/Advertise.vue","mtime":1694424908625},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/babel.config.js","mtime":1677654957527},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1687492401267},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1687492401222},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/babel-loader/lib/index.js","mtime":1687492401655},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1687492401267},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/vue-loader/lib/index.js","mtime":1687492401738}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9wb25uaXBhL0RvY3VtZW50cy9HaXRIdWIvZmRhLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgUHJvZHVjdHNTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL1Byb2R1Y3RzU2VydmljZS5qcyc7CmltcG9ydCBEaWN0U2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9EaWN0U2VydmljZSc7CmltcG9ydCBSdWxlQmFzZWRTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL1J1bGVCYXNlZFNlcnZpY2UnOwppbXBvcnQgTWFwUnVsZUJhc2VkU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9NYXBSdWxlQmFzZWRTZXJ2aWNlJzsKaW1wb3J0IExpbmtTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL0xpbmtTZXJ2aWNlJzsKaW1wb3J0IEtleXdvcmRTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL0tleXdvcmRTZXJ2aWNlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBcHAiLAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsaXN0OiBbXSwKICAgICAgdXJsOiAnJywKICAgICAgZmlsZTogJycsCiAgICAgIHN0YXR1czogZmFsc2UsCiAgICAgIHVybFBhdGg6ICcnLAogICAgICBpbWFnZWxpc3RzOiAnJywKICAgICAgdG9rZW5pemU6ICcnLAogICAgICBtYXRjaG5hbWU6ICcnLAogICAgICBtYXRjaGNhdGVnb3J5OiAnJywKICAgICAgdHlwZTogJycsCiAgICAgIG1hdGNobmFtZXN1bTogJycsCiAgICAgIHN0YXR1c25hbWU6IDAsCiAgICAgIHN0YXR1c2NhdDogMCwKICAgICAgc3RhdHVzZmRhOiAwLAogICAgICBjb2xvcm5hbWU6ICdiYWNrZ3JvdW5kLWNvbG9yOiNmOWJkYmInLAogICAgICBjb2xvcmZkYTogJ2JhY2tncm91bmQtY29sb3I6I2Y5YmRiYicsCiAgICAgIGNvbG9yY2F0OiAnYmFja2dyb3VuZC1jb2xvcjojZjliZGJiJywKICAgICAgaWQ6ICcnLAogICAgICBrZXl3b3JkOiBbXSwKICAgICAgY29sb3JrZXk6ICdiYWNrZ3JvdW5kLWNvbG9yOiNmOWJkYmInLAogICAgICBkZXNjOiAnJywKICAgICAgYXJyTGlzdDogW10sCiAgICAgIGFsbGRhdGE6IDAsCiAgICAgIGJhY2s6IDAsCiAgICAgIG5leHQ6IDAsCiAgICAgIHRpdGxlOiAnJywKICAgICAgZGF0YToge30sCiAgICAgIHByb19pZDogMAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldGlkOiBmdW5jdGlvbiBnZXRpZChpZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy8gY29uc29sZS5sb2coaWQpOwogICAgICB0aGlzLnByb19pZCA9IGlkOwoKICAgICAgaWYgKHRoaXMucHJvX2lkICE9IDApIHsKICAgICAgICB0aGlzLnRpdGxlID0gIuC5geC4geC5ieC5hOC4guC4guC5ieC4reC4oeC4ueC4peC4guC5ieC4reC4hOC4p+C4suC4oSI7IC8vIGNvbnNvbGUubG9nKHRoaXMudXNlcl9pZCk7CgogICAgICAgIEtleXdvcmRTZXJ2aWNlLmdldGtleXdvcmQodGhpcy5wcm9faWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAgICAgX3RoaXMuZGF0YSA9IHJlcy5kYXRhOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudGl0bGUgPSAi4LmA4Lie4Li04LmI4Lih4LiC4LmJ4Lit4Lih4Li54Lil4LiC4LmJ4Lit4LiE4Lin4Liy4LihIjsKICAgICAgICB0aGlzLmRhdGEgPSBbXTsKICAgICAgfQogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZGF0YSk7CgogICAgICBpZiAodGhpcy5kYXRhLm5hbWUgPT0gbnVsbCB8fCB0aGlzLmRhdGEuY2F0X2lkID09ICIiKSB7CiAgICAgICAgYWxlcnQoIuC4geC4o+C4uOC4k+C4suC4geC4o+C4reC4geC4guC5ieC4reC4hOC4p+C4suC4oSIpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBwcm9kYXRhID0gewogICAgICAgICAgaWQ6IHRoaXMuZGF0YS5pZCwKICAgICAgICAgIG5hbWU6IHRoaXMuZGF0YS5uYW1lLAogICAgICAgICAgc3RhdHVzOiAxCiAgICAgICAgfTsKICAgICAgICBjb25zb2xlLmxvZyhwcm9kYXRhKTsKCiAgICAgICAgaWYgKHRoaXMucHJvX2lkID09IDApIHsKICAgICAgICAgIEtleXdvcmRTZXJ2aWNlLmNyZWF0ZWtleXdvcmQocHJvZGF0YSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIERpY3RTZXJ2aWNlLmNyZWF0ZWRpY3QocHJvZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEgKTsKICAgICAgICAgICAgICBSdWxlQmFzZWRTZXJ2aWNlLmNyZWF0ZWRjb2x1bW5ydWxlX2Jhc2VkKHJlcy5kYXRhLmlkKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjbG9zZWRjYXRlZ29yeSIpLmNsaWNrKCk7IC8vIHRoaXMuZ2V0Y2F0ZWdvcnkoKTsKCiAgICAgICAgICAgICAgICBhbGVydCgn4Lia4Lix4LiZ4LiX4Li24LiB4Liq4Liz4LmA4Lij4LmH4LiIJyk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIEtleXdvcmRTZXJ2aWNlLnVwZGF0ZWtleXdvcmQodGhpcy5wcm9faWQsIHByb2RhdGEpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2xvc2VkY2F0ZWdvcnkiKS5jbGljaygpOyAvLyB0aGlzLmdldGNhdGVnb3J5KCk7CgogICAgICAgICAgICBhbGVydCgn4Lia4Lix4LiZ4LiX4Li24LiB4Liq4Liz4LmA4Lij4LmH4LiIJyk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBzYXZldG9ydWxlOiBmdW5jdGlvbiBzYXZldG9ydWxlKHNlbiwgYW5zd2VyLCBhZF9pZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKHNlbik7CiAgICAgIHZhciBpZGRhdGEgPSBbXTsKCiAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGQpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhc3BsaXRbZF0pOwogICAgICAgIERpY3RTZXJ2aWNlLmdldGRpY3RzKCcnLCBzZW5bZF0ubmFtZSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlcykgewogICAgICAgICAgICB2YXIgc3FsOwogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhWzBdLmlkKTsKICAgICAgICAgICAgICAgICAgICAgIGlkZGF0YS5wdXNoKHJlcy5kYXRhWzBdLmlkKTsKICAgICAgICAgICAgICAgICAgICB9IC8vIGNvbnNvbGUubG9nKGQrMSAsIHNlbi5sZW5ndGgpOwoKCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaWRkYXRhKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKCEoZCArIDEgPT0gc2VuLmxlbmd0aCkpIHsKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBzcWwgPSAiU0VMRUNUIHIuKiBGUk9NIG1hcF9ydWxlX2Jhc2VkIG0gam9pbiBydWxlX2Jhc2VkIHIgb24gbS5ydWxlX2Jhc2VkX2lkID0gci5pZCBXSEVSRSBtLnN0YXR1cyA9IDEgYW5kIGRpY3RfaWQgPSAnWyIuY29uY2F0KGlkZGF0YSwgIl0nIik7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc3FsKTsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gUnVsZUJhc2VkU2VydmljZS5nZXRieWRpY3Qoc3FsKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5sZW5ndGggPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dCA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9ICd7JzsKCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWRkYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coaWRkYXRhW2ldKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9ICciZGljdCcgKyBpZGRhdGFbaV0gKyAnIicgKyAnOicgKyAxICsgJywnOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9ICciYW5zd2VyJyArICciJyArICc6JyArIGFuc3dlciArICcsJzsKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRleHQuc2xpY2UoMCwgLTEpOwogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9ICd9JzsgLy8gY29uc29sZS5sb2codGV4dCk7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0ZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGpzb25EYXRhID0gSlNPTi5wYXJzZSh0ZXh0KTsgLy8gY29uc29sZS5sb2coanNvbkRhdGEpOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coanNvbkRhdGEpOwogICAgICAgICAgICAgICAgICAgICAgICBSdWxlQmFzZWRTZXJ2aWNlLmNyZWF0ZXJ1bGVfYmFzZWQoanNvbkRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXBydWxlID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZV9iYXNlZF9pZDogcmVzLmRhdGEuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWN0X2lkOiBpZGRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgIE1hcFJ1bGVCYXNlZFNlcnZpY2UuY3JlYXRlbWFwX3J1bGVfYmFzZWQobWFwcnVsZSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlYWR2ZXJ0aXNlID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWN0X2lkOiBpZGRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXBSdWxlQmFzZWRTZXJ2aWNlLnVwZGF0ZWFkdmVydGlzZShhZF9pZCwgdXBkYXRlYWR2ZXJ0aXNlKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB2YXIgcHJvID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIG1hcF9ydWxlX2Jhc2VkOnJlcy5kYXRhLmlkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJvZHVjdHNTZXJ2aWNlLm1hcF9ydWxlX2Jhc2VkKGlkLHBybykudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfguJrguLHguJnguJfguLbguIHguKrguLPguYDguKPguYfguIgnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5nZXRkYXRhKCk7IC8vICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0sIDUwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZW1hcHJ1bGUgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYW5zd2VyOiBhbnN3ZXIKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgUnVsZUJhc2VkU2VydmljZS51cGRhdGVydWxlX2Jhc2VkKHJlcy5kYXRhWzBdLmlkLCB1cGRhdGVtYXBydWxlKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn4Lia4Lix4LiZ4LiX4Li24LiB4Liq4Liz4LmA4Lij4LmH4LiIJyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5nZXRkYXRhKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICAgIH0pKTsKCiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICB9OwogICAgICAgIH0oKSk7CiAgICAgIH07CgogICAgICBmb3IgKHZhciBkID0gMDsgZCA8IHNlbi5sZW5ndGg7IGQrKykgewogICAgICAgIF9sb29wKGQpOwogICAgICB9CiAgICB9LAogICAgc2F2ZXRvcnVsZV9iYXNlZDogZnVuY3Rpb24gc2F2ZXRvcnVsZV9iYXNlZChpZCwgc2VuLCBhbnN3ZXIsIGFkX2lkKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgc2VuID0gSlNPTi5wYXJzZShzZW4pOwogICAgICBpZCA9IEpTT04ucGFyc2UoaWQpOwogICAgICBjb25zb2xlLmxvZyhpZCk7CiAgICAgIGNvbnNvbGUubG9nKGlkLmxlbmd0aCk7IC8vIGNvbnNvbGUubG9nKGFkX2lkKTsKCiAgICAgIGNvbnNvbGUubG9nKHNlbi5sZW5ndGgpOwogICAgICBjb25zb2xlLmxvZygnYW5zd2VyJywgYW5zd2VyKTsKCiAgICAgIGlmIChpZC5sZW5ndGggIT0gc2VuLmxlbmd0aCkgewogICAgICAgIHZhciBfbG9vcDIgPSBmdW5jdGlvbiBfbG9vcDIoYSkgewogICAgICAgICAgLy8gY29uc29sZS5sb2coc2VuW2FdLm5hbWUpOwogICAgICAgICAgRGljdFNlcnZpY2UuZ2V0ZGljdHMoJycsIHNlblthXS5uYW1lKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwoKICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgICAgdmFyIHByb2RhdGEgPSB7CiAgICAgICAgICAgICAgICBuYW1lOiBzZW5bYV0ubmFtZSwKICAgICAgICAgICAgICAgIHN0YXR1czogMQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgY29uc29sZS5sb2cocHJvZGF0YSk7CiAgICAgICAgICAgICAgRGljdFNlcnZpY2UuY3JlYXRlZGljdChwcm9kYXRhKS50aGVuKGZ1bmN0aW9uICgpIHsvLyAgIFJ1bGVCYXNlZFNlcnZpY2UuY3JlYXRlZGNvbHVtbnJ1bGVfYmFzZWQocmVzLmRhdGEuaWQpLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgLy8gfSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGEgKyAxLCBzZW4ubGVuZ3RoKTsKCiAgICAgICAgICAgIGlmIChhICsgMSA9PSBzZW4ubGVuZ3RoKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coMSk7CgogICAgICAgICAgICAgIF90aGlzMy5zYXZldG9ydWxlKHNlbiwgYW5zd2VyLCBhZF9pZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIGZvciAodmFyIGEgPSAwOyBhIDwgc2VuLmxlbmd0aDsgYSsrKSB7CiAgICAgICAgICBfbG9vcDIoYSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2F2ZXRvcnVsZShzZW4sIGFuc3dlciwgYWRfaWQpOwogICAgICB9CiAgICB9LAogICAgY2hlY2trZXl3b3JkOiBmdW5jdGlvbiBjaGVja2tleXdvcmQobmFtZSkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIC8vIGNvbnNvbGUubG9nKG5hbWUpOwogICAgICAvLyAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo4MDgxL2FwaS9rZXl3b3JkX2RpY3RzP25hbWU9MScpLnRoZW4oKHJlcykgPT4gewogICAgICAvLyAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAvLyBmb3IgKGxldCByID0gMDsgciA8IHJlcy5kYXRhLmxlbmd0aDsgcisrKSB7CiAgICAgIC8vIG5hbWUgPSBuYW1lLnJlcGxhY2VBbGwoLyhbXHVFMDAwLVx1RjhGRl18XHVEODNDW1x1REYwMC1cdURGRkZdfFx1RDgzRFtcdURDMDAtXHVEREZGXSkvZywgJycpCiAgICAgIC8vICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2VBbGwoLyg/OltcdTI3MDAtXHUyN2JmXXwoPzpcdWQ4M2NbXHVkZGU2LVx1ZGRmZl0pezJ9fFtcdWQ4MDAtXHVkYmZmXVtcdWRjMDAtXHVkZmZmXXxbXHUwMDIzLVx1MDAzOV1cdWZlMGY/XHUyMGUzfFx1MzI5OXxcdTMyOTd8XHUzMDNkfFx1MzAzMHxcdTI0YzJ8XHVkODNjW1x1ZGQ3MC1cdWRkNzFdfFx1ZDgzY1tcdWRkN2UtXHVkZDdmXXxcdWQ4M2NcdWRkOGV8XHVkODNjW1x1ZGQ5MS1cdWRkOWFdfFx1ZDgzY1tcdWRkZTYtXHVkZGZmXXxcdWQ4M2NbXHVkZTAxLVx1ZGUwMl18XHVkODNjXHVkZTFhfFx1ZDgzY1x1ZGUyZnxcdWQ4M2NbXHVkZTMyLVx1ZGUzYV18XHVkODNjW1x1ZGU1MC1cdWRlNTFdfFx1MjAzY3xcdTIwNDl8W1x1MjVhYS1cdTI1YWJdfFx1MjViNnxcdTI1YzB8W1x1MjVmYi1cdTI1ZmVdfFx1MDBhOXxcdTAwYWV8XHUyMTIyfFx1MjEzOXxcdWQ4M2NcdWRjMDR8W1x1MjYwMC1cdTI2RkZdfFx1MmIwNXxcdTJiMDZ8XHUyYjA3fFx1MmIxYnxcdTJiMWN8XHUyYjUwfFx1MmI1NXxcdTIzMWF8XHUyMzFifFx1MjMyOHxcdTIzY2Z8W1x1MjNlOS1cdTIzZjNdfFtcdTIzZjgtXHUyM2ZhXXxcdWQ4M2NcdWRjY2Z8XHUyOTM0fFx1MjkzNXxbXHUyMTkwLVx1MjFmZl0pL2csICcnKTsKICAgICAgLy8gICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZUFsbCgvKFxyXG58XG58XHIpL2dtLCAiIik7CiAgICAgIC8vICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2VBbGwoIl8iLCAiIik7CiAgICAgIC8vICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2VBbGwoIiEiLCAiIik7CiAgICAgIC8vICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2VBbGwoIioiLCAiIik7CiAgICAgIC8vIG5hbWUgPSBuYW1lLnJlcGxhY2VBbGwoYF8vbFxfYCwgIiIpOy8vIGVzbGludC1kaXNhYmxlLWxpbmUKICAgICAgLy8gY29uc29sZS5sb2coJ2h0dHA6Ly8xMjcuMC4wLjE6NTAwMC9jaGVja2tleXdvcmQ/bmFtZT0nICsgbmFtZSk7CiAgICAgIHZhciBkZXNjID0gdGhpcy5maW5kZGVzY3JpcHRpb24obmFtZSk7IC8vIGNvbnNvbGUubG9nKCdodHRwOi8vMTI3LjAuMC4xOjUwMDAvd29ya3Rva2VuZGVzYz90ZXh0PScrZGVzYyk7CgogICAgICBheGlvcy5nZXQoTGlua1NlcnZpY2UuZ2V0cHl0aG9ubGluaygpICsgJy93b3JrdG9rZW5kZXNjP3RleHQ9JyArIGRlc2MpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICBfdGhpczQuZGVzYyA9IHJlcy5kYXRhOwogICAgICB9KTsgLy8gbmFtZSA9ICfguILguYnguK3guKHguLnguKXguIjguLPguYDguJ7guLLguLDguILguK3guIfguKrguLTguJnguITguYnguLIg4Lir4Lih4Lin4LiU4Lir4Lih4Li54LmIIFNob3BlZSDguIHguKXguLjguYjguKHguJzguKXguLTguJXguKDguLHguJPguJHguYzguYDguJ7guLfguYjguK3guKrguLjguILguKDguLLguJ4g4Lit4Liy4Lir4Liy4Lij4LmA4Liq4Lij4Li04Lih4LmA4Lie4Li34LmI4Lit4LiE4Lin4Liy4Lih4LiH4Liy4LihIOC4nOC4tOC4pyDguKLguLXguYjguKvguYnguK0gQmx1ZWJpcmQo4Lia4Lil4Li54LmA4Lia4Li04Lij4LmM4LiUKSBTdG9yYWdlIENvbmRpdGlvbiBOb3JtYWwg4Lib4Lij4Liw4LmA4Lig4LiX4Liq4Liy4Lij4Lit4Liy4Lir4Liy4LijIOC4quC4suC4o+C4leC5ieC4suC4meC4reC4meC4uOC4oeC4ueC4peC4reC4tOC4quC4o+C4sCwg4Lin4Li04LiV4Liy4Lih4Li04LiZ4LiL4Li1IOC4m+C4o+C4sOC5gOC4l+C4qOC4leC5ieC4meC4geC4s+C5gOC4meC4tOC4lOC4quC4tOC4meC4hOC5ieC4siDguYTguJfguKIg4Lir4LiZ4LmJ4Liy4LiX4Li14LmI4LiC4Lit4LiH4Lit4Liy4Lir4Liy4Lij4LmA4Liq4Lij4Li04Lih4Liq4Liz4Lir4Lij4Lix4Lia4LiE4Lin4Liy4Lih4LiH4Liy4LihIOC4lOC4ueC5geC4peC4quC4tOC4pywg4Lib4LmJ4Lit4LiH4LiB4Lix4LiZ4Lij4Li04LmJ4Lin4Lij4Lit4LiiIOC4m+C4o+C4sOC5gOC4oOC4l+C4geC4suC4o+C4q+C5iOC4rSDguKvguYjguK3guKPguKfguKHguIHguLHguJkg4LmA4Lie4LioIOC4l+C4seC5ieC4h+C4quC4reC4h+C5gOC4nuC4qCDguK3guLLguKLguLjguIHguLLguKPguYDguIHguYfguJrguKPguLHguIHguKnguLIgMTIg4LmA4LiU4Li34Lit4LiZIOC4m+C4o+C4sOC5gOC4oOC4l+C4guC4reC4h+C4nOC4peC4tOC4leC4oOC4seC4k+C4keC5jOC4ouC4siDguYHguITguJvguIvguLnguKUg4Lir4Lih4Liy4Lii4LmA4Lil4LiC4LmD4Lia4Lit4LiZ4Li44LiN4Liy4LiVL+C4reC4oi4gMzAtMS0yNjc2NC01LTAwNTEg4LiI4Liz4LiZ4Lin4LiZ4Liq4Li04LiZ4LiE4LmJ4LiyIDE3OTAxIOC4quC5iOC4h+C4iOC4suC4gSDguIjguLHguIfguKvguKfguLHguJTguJnguITguKPguKPguLLguIrguKrguLXguKHguLIg4Lij4Liy4Lii4Lil4Liw4LmA4Lit4Li14Lii4LiU4Liq4Li04LiZ4LiE4LmJ4LiyIOC4p+C4tOC4leC4suC4oeC4tOC4meC4i+C4tSDguJ7guKXguLHguKog4LiV4Lij4LiyIOC4muC4peC4ueC5gOC4muC4tOC4o+C5jOC4lCDguJXguKPguLIg4Lia4Lil4Li54LmA4Lia4Li04Lij4LmM4LiUIOC4guC4meC4suC4lCAxMDAwIOC4oeC4tOC4peC4peC4tOC4geC4o+C4seC4oSA2MCDguYHguITguJvguIvguLnguKUg4LmA4Lij4LiX4LiC4Liy4Lii4Liq4LmI4LiHIOC4iuC5iOC4p+C4h+C4o+C4suC4hOC4suC4l+C4teC5iCAxIOC4quC4seC5iOC4h+C4i+C4t+C5ieC4reC4leC4seC5ieC4h+C5geC4leC5iCA1IOC4geC4o+C4sOC4m+C4uOC4geC4guC4tuC5ieC4meC5hOC4myDguJbguLbguIcgMjAg4LiB4Lij4Liw4Lib4Li44LiBIOC4o+C4suC4hOC4suC4geC4o+C4sOC4m+C4uOC4geC4peC4sCA5MyDguJrguLLguJcg4LiK4LmI4Lin4LiH4Lij4Liy4LiE4Liy4LiX4Li14LmIIDIg4Liq4Lix4LmI4LiH4LiL4Li34LmJ4Lit4LiV4Lix4LmJ4LiH4LmB4LiV4LmIIDIxIOC4geC4o+C4sOC4m+C4uOC4geC4guC4tuC5ieC4meC5hOC4myDguJbguLbguIcgNTAg4LiB4Lij4Liw4Lib4Li44LiBIOC4o+C4suC4hOC4suC4geC4o+C4sOC4m+C4uOC4geC4peC4sCA5MCDguJrguLLguJcg4LiK4LmI4Lin4LiH4Lij4Liy4LiE4Liy4LiX4Li14LmIIDMg4Liq4Lix4LmI4LiH4LiL4Li34LmJ4Lit4LiV4Lix4LmJ4LiH4LmB4LiV4LmIIDUxIOC4geC4o+C4sOC4m+C4uOC4geC4guC4tuC5ieC4meC5hOC4myDguJbguLbguIcgMTAwIOC4geC4o+C4sOC4m+C4uOC4gSDguKPguLLguITguLLguIHguKPguLDguJvguLjguIHguKXguLAgODcg4Lia4Liy4LiXIOC4iuC5iOC4p+C4h+C4o+C4suC4hOC4suC4l+C4teC5iCA0IOC4quC4seC5iOC4h+C4i+C4t+C5ieC4reC4leC4seC5ieC4h+C5geC4leC5iCAxMDAg4LiB4Lij4Liw4Lib4Li44LiB4LiC4Li24LmJ4LiZ4LmE4LibIC4uLi4uLi4uLi4uLi4uLi4uLi4uLiDguKPguLLguITguLLguIHguKPguLDguJvguLjguIHguKXguLAgODUg4Lia4Liy4LiXIFZpdGFtaW4gQyBQbHVzIERpZXRhcnkgU3VwcGxlbWVudCBQcm9kdWN0IEJsdWViaXJkIEJyYW5kIOC4nOC4peC4tOC4leC4oOC4seC4k+C4keC5jOC5gOC4quC4o+C4tOC4oeC4reC4suC4q+C4suC4o+C4p+C4tOC4leC4suC4oeC4tOC4meC4i+C4tSDguJ7guKXguLHguKog4LiV4Lij4LiyIOC4muC4peC4ueC5gOC4muC4tOC4o+C5jOC4lCDguKrguYjguKfguJnguJvguKPguLDguIHguK3guJrguJfguLHguYnguIfguKvguKHguJTguYPguJkgMSDguYHguITguJvguIvguLnguKUg4Liq4LmI4Lin4LiZ4Lib4Lij4Liw4LiB4Lit4Lia4LiX4Li14LmI4Liq4Liz4LiE4Lix4LiNIChBY3RpdmUgSW5ncmVkaWVudCkgVklUQU1JTiBDICgxMDAlKSAtIDYwIOC4oeC4tOC4peC4peC4tOC4geC4o+C4seC4oSBDSVRSVVMgQklPRkxBVk9OT0lEIFBPV0RFUiAtIDYzMCDguKHguLTguKXguKXguLTguIHguKPguLHguKEgQkFSQkFET1NDSEVSUlkgUE9XREVSL0FDRVJPTEEgQ0hFUlJZIFBPV0RFUiAo4Lic4LiH4Lia4Liy4Lij4LmM4LmA4Lia4LmC4LiU4Liq4LmA4LiK4Lit4Lij4LmM4Lij4Li1L+C4nOC4h+C4reC4sOC5gOC4i+C5guC4o+C4peC4suC5gOC4iuC4reC4o+C5jOC4o+C4tSkgKE1BTFBJR0hJQSBHTEFCUkEgTC4pIOC4nOC4pSAtIDYwIOC4oeC4tOC4peC4peC4tOC4geC4o+C4seC4oSBST1NFSElQIFBPV0RFUiAo4Lic4LiH4LmC4Lij4Liq4Liu4Li04Lib4Liq4LmMKSAoUk9TQSBDQU5JTkEgTC4pIOC4nOC4pSAtIDYwIOC4oeC4tOC4peC4peC4tOC4geC4o+C4seC4oSBSdXRpbiAtIDMwIOC4oeC4tOC4peC4peC4tOC4geC4o+C4seC4oSBJTkRJQU4gR09PU0VCRVJSWSBQT1dERVIgKOC4nOC4h+C4oeC4sOC4guC4suC4oeC4m+C5ieC4reC4oSkgKFBIWUxMQU5USFVTIEVNQkxJQ0EgTC4gKSDguJzguKUgLSA2MCDguKHguLTguKXguKXguLTguIHguKPguLHguKEg4Liq4LmI4Lin4LiZ4Lib4Lij4Liw4LiB4Lit4Lia4LiX4Li14LmI4LmE4Lih4LmI4Liq4Liz4LiE4Lix4LiNIChJbmFjdGl2ZSBJbmdyZWRpZW50KSBFRElCTEUgR0VMQVRJTiA0MjggLSA5OC41IOC4oeC4tOC4peC4peC4tOC4geC4o+C4seC4oSBUSVRBTklVTSBESU9YSURFIDE3MSAtMS45NSDguKHguLTguKXguKXguLTguIHguKPguLHguKEg4Lin4Li04LiY4Li14Lij4Lix4Lia4Lib4Lij4Liw4LiX4Liy4LiZIOC4hOC4o+C4seC5ieC4h+C4peC4sCAxLTIg4LmB4LiE4Lib4LiL4Li54LilIOC4q+C4peC4seC4h+C4reC4suC4q+C4suC4o+C5gOC4iuC5ieC4siDguYDguKXguILguJfguLXguYgg4LitLuC4oi4gMzAtMS0yNjc2NC01LTAwNTEg4LiE4Liz4LmA4LiV4Li34Lit4LiZIOC4hOC4p+C4o+C5gOC4geC5h+C4muC5g+C4q+C5ieC4nuC5ieC4meC5geC4quC4h+C5geC4lOC4h+C5geC4peC4sOC4hOC4p+C4suC4oeC4iuC4t+C5ieC4mSDguYDguJTguYfguIEg4Liq4LiV4Lij4Li14Lih4Li14LiE4Lij4Lij4Lig4LmMIOC5geC4peC4sOC4quC4leC4o+C4teC5g+C4q+C5ieC4meC4oeC4muC4uOC4leC4o+C5hOC4oeC5iOC4hOC4p+C4o+C4o+C4seC4muC4m+C4o+C4sOC4l+C4suC4mSDguITguKfguKPguIHguLTguJnguK3guLLguKvguLLguKPguKvguKXguLLguIHguKvguKXguLLguKLguYPguKvguYnguITguKPguJogNSDguKvguKHguLnguYgg4LmD4LiZ4Liq4Lix4LiU4Liq4LmI4Lin4LiZ4LiX4Li14LmI4LmA4Lir4Lih4Liy4Liw4Liq4Lih4LmA4Lib4LmH4LiZ4Lib4Lij4Liw4LiI4LizIOC5hOC4oeC5iOC4oeC4teC4nOC4peC5g+C4meC4geC4suC4o+C4m+C5ieC4reC4h+C4geC4seC4meC4q+C4o+C4t+C4reC4o+C4seC4geC4qeC4suC5guC4o+C4hCDguKrguKPguKPguJ7guITguLjguJMg4Lib4Lij4Liw4LmC4Lii4LiK4LiZ4LmM4LiC4Lit4LiH4LiB4Liy4Lij4LiB4Li04LiZ4Lin4Li04LiV4Liy4Lih4Li04LiZ4LiL4Li1IO+4j+C4l+C4s+C5g+C4q+C5ieC4q+C4meC5ieC4suC5hOC4oeC5iOC5guC4l+C4o+C4oSDguKvguJnguYnguLLguJXguLLguKrguJTguYPguKog77iP4LiK4LmI4Lin4Lii4Lif4Li34LmJ4LiZ4Lif4Li54Lic4Li04Lin4Lir4LiZ4LmJ4LiyIOC4quC4tOC4pyDguJ3guYnguLIg4LiB4Lij4LiwIOC4o+C4tOC5ieC4p+C4o+C4reC4oiDguJTguLnguIjguLLguIfguKXguIcg77iP4Lic4Li04Lin4Lie4Lij4Lij4LiT4LiZ4Li44LmI4Lih4LmA4Lij4Li14Lii4Lia4LmA4LiZ4Li14Lii4LiaIOC4iuC4uOC5iOC4oeC4iuC4t+C5iOC4mSDvuI/guKvguJnguYnguLLguJXguLLguJTguLnguYDguJTguYfguIHguYHguKXguLDguYDguJTguYnguIfguILguLbguYnguJkg77iP4Lic4Li04Lin4Lir4LiZ4LmJ4Liy4LiC4Liy4Lin4Lit4Lih4LiK4Lih4Lie4Li5IOC4quC4tOC4meC4hOC5ieC4suC4leC4seC4lOC4o+C4reC4muC4l+C4uOC4geC4p+C4seC4meC5gOC4p+C4peC4siDguJXguLHguJTguKPguK3guJrguYDguKfguKXguLIgMTIuMDAg4LiZIOC4guC4reC4h+C4l+C4uOC4geC4p+C4seC4mSDguYHguIjguYnguIfguYLguK3guJnguYDguIHguLTguJnguYDguKfguKXguLIg4Liq4LmI4LiH4Lij4Lit4Lia4Lin4Lix4LiZ4LiW4Lix4LiU4LmE4Lib4LiZ4Liw4LiI4LmK4LiwIOC4quC5iOC4h+C4nuC4seC4quC4lOC4uOC4l+C4uOC4geC4p+C4seC4mSDguYDguKfguYnguJnguKfguLHguJnguK3guLLguJfguLTguJXguKLguYwg4LmB4Lil4Liw4Lin4Lix4LiZ4Lir4Lii4Li44LiU4LiZ4Lix4LiB4LiC4Lix4LiV4Lik4LiB4Lip4LmMIOC4guC4reC4muC4nuC4o+C4sOC4hOC4uOC4k+C4peC4ueC4geC4hOC5ieC4suC4l+C4uOC4geC4l+C5iOC4suC4mSDguJfguLXguYjguYTguKfguYnguKfguLLguIfguYPguIjguJzguKXguLTguJXguKDguLHguJPguJHguYzguILguK3guIfguYDguKPguLLguYDguKrguKHguK3guKHguLJfL2xcXycKICAgICAgLy8gY29uc29sZS5sb2coJ2h0dHA6Ly8xMjcuMC4wLjE6NTAwMC9jaGVja2tleXdvcmQ/bmFtZT0nICsgZGVzYyk7ICAgIAoKICAgICAgYXhpb3MuZ2V0KExpbmtTZXJ2aWNlLmdldHB5dGhvbmxpbmsoKSArICcvY2hlY2trZXl3b3JkP25hbWU9JyArIGRlc2MpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICBpZiAocmVzLmRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgLy8gdGhpcy5rZXl3b3JkLnB1c2gocmVzLmRhdGEpCiAgICAgICAgICBfdGhpczQua2V5d29yZCA9IHJlcy5kYXRhOwogICAgICAgIH0KICAgICAgfSk7IC8vICAgICB9CiAgICAgIC8vIH0pOwogICAgICAvLyAgICAgICB2YXIgbGlzdGtleXdvcmRzID0gW10KICAgICAgLy8gICAgICAgdmFyIG5hbWVzcGxpdCA9IG5hbWUuc3BsaXQoIiAiKQogICAgICAvLyAgICAgICAvLyBjb25zb2xlLmxvZyhuYW1lc3BsaXQpOwogICAgICAvLyAgICAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9hcGkva2V5d29yZF9kaWN0cz9uYW1lPTEnKS50aGVuKChyZXMpID0+IHsKICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgIC8vICAgICAgICAgdmFyIGtleWxpc3QgPSBbXQogICAgICAvLyAgICAgICAgIGZvciAobGV0IHIgPSAwOyByIDwgcmVzLmRhdGEubGVuZ3RoOyByKyspIHsKICAgICAgLy8gICAgICAgICAgIHJlcy5kYXRhW3JdLm5hbWUgPSByZXMuZGF0YVtyXS5uYW1lLnJlcGxhY2VBbGwoIi4iLCIiKQogICAgICAvLyAgICAgICAgICAgdmFyIGtrID0gcmVzLmRhdGFbcl0ubmFtZS5zcGxpdCgiICIpCiAgICAgIC8vICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGtrLmxlbmd0aDsgaysrKSB7CiAgICAgIC8vICAgICAgICAgICAgIGtleWxpc3QucHVzaChra1trXSkKICAgICAgLy8gICAgICAgICAgIH0KICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICAgICAgZm9yIChsZXQga2V5ID0gMDsga2V5IDwga2V5bGlzdC5sZW5ndGg7IGtleSsrKSB7CiAgICAgIC8vICAgICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IG5hbWVzcGxpdC5sZW5ndGg7IG4rKykgewogICAgICAvLyAgICAgICAgICAgICBpZiAobmFtZXNwbGl0W25dID09IGtleWxpc3Rba2V5XSAmJiBrZXlsaXN0W2tleV0gIT0gJycgJiYgaXNOYU4oa2V5bGlzdFtrZXldKSkgewogICAgICAvLyAgICAgICAgICAgICAgIGxpc3RrZXl3b3Jkcy5wdXNoKGtleWxpc3Rba2V5XSkKICAgICAgLy8gICAgICAgICAgICAgfQogICAgICAvLyAgICAgICAgICAgfQogICAgICAvLyAgICAgICAgIH0KICAgICAgLy8gICAgICAgICAvLyBjb25zb2xlLmxvZyhrZXlsaXN0KTsKICAgICAgLy8gICAgICAgICAvLyBjb25zb2xlLmxvZyhsaXN0a2V5d29yZHMpOwogICAgICAvLyAgICAgICBjb25zb2xlLmxvZyhsaXN0a2V5d29yZHMubGVuZ3RoKTsKICAgICAgLy8gICAgICAgICBpZiAobGlzdGtleXdvcmRzLmxlbmd0aCA9PSAwKSB7CiAgICAgIC8vICAgICAgICAgICB0aGlzLmNvbG9ya2V5ID0gImJhY2tncm91bmQtY29sb3I6I2EzZTlhNCIKICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICAvLyAgICAgICAgIGxpc3RrZXl3b3Jkcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHsKICAgICAgLy8gICAgICBpZihyZXN1bHQuaW5kZXhPZihpdGVtKSA8IDApIHsKICAgICAgLy8gICAgICAgICAgcmVzdWx0LnB1c2goaXRlbSk7CiAgICAgIC8vICAgICAgfQogICAgICAvLyB9KTsKICAgICAgLy8gY29uc29sZS5sb2cocmVzdWx0KTsKICAgICAgLy8gbGlzdGtleXdvcmRzID0gcmVzdWx0CiAgICAgIC8vICAgICAgICAgZm9yIChsZXQgbCA9IDA7IGwgPCBsaXN0a2V5d29yZHMubGVuZ3RoOyBsKyspIHsKICAgICAgLy8gICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdodHRwOi8vMTI3LjAuMC4xOjUwMDAvY2hlY2trZXl3b3JkP25hbWU9JyArIG5hbWUrJyYmbmFtZV9yZWFsPScpOwogICAgICAvLyAgICAgICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vMTI3LjAuMC4xOjUwMDAvY2hlY2trZXl3b3JkP25hbWU9JyArIG5hbWUrJyYmbmFtZV9yZWFsPScgKyBsaXN0a2V5d29yZHNbbF0pLnRoZW4oKHJlcykgPT4gewogICAgICAvLyAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgIC8vICAgICAgICAgdGhpcy5rZXl3b3JkLnB1c2gocmVzLmRhdGEpCiAgICAgIC8vICAgICAgIH0pOwogICAgICAvLyAgICAgICAgIH0KICAgICAgLy8gICAgICAgfSk7CiAgICB9LAogICAgZmluZGRlc2NyaXB0aW9uOiBmdW5jdGlvbiBmaW5kZGVzY3JpcHRpb24oZGF0YSkgewogICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgdmFyIHRleHQgPSBbJ+C4o+C4suC4ouC4peC4sOC5gOC4reC4teC4ouC4lCddOwogICAgICB2YXIgZmluZGZkYSA9IGRhdGE7CgogICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IHRleHQubGVuZ3RoOyB0KyspIHsKICAgICAgICBpZiAoZmluZGZkYS5pbmRleE9mKHRleHRbdF0pICE9IC0xKSB7CiAgICAgICAgICBmaW5kZmRhID0gZmluZGZkYS5zdWJzdHJpbmcoZmluZGZkYS5pbmRleE9mKHRleHRbdF0pKTsKICAgICAgICB9CiAgICAgIH0gLy8gaWYgKGZpbmRmZGEgPT0gJ+C4reC4suC4q+C4suC4oycpIHsKICAgICAgLy8gICBmaW5kZmRhID0gZmluZGZkYSsgZmluZGZkYSsn4LmA4Liq4Lij4Li04LihJwogICAgICAvLyB9CiAgICAgIC8vIGNvbnNvbGUubG9nKGZpbmRmZGEpOwoKCiAgICAgIHJldHVybiBmaW5kZmRhOwogICAgfSwKICAgIGdldGRhdGE6IGZ1bmN0aW9uIGdldGRhdGEoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgLy8gdmFyIGVuZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkKjUKICAgICAgLy8gLy8gdmFyIHN0YXJ0ID0gZW5kLTQKICAgICAgLy8gdmFyIHN0YXJ0ID0gdGhpcy4kcm91dGUucXVlcnkuaWQKICAgICAgLy8gY29uc29sZS5sb2coc3RhcnQpOwogICAgICBQcm9kdWN0c1NlcnZpY2UuZ2V0ZGVjaXNpb24oKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocmVzKSB7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBfdGhpczUubGlzdCA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczUubGlzdCk7CgogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLiRyb3V0ZS5xdWVyeS5pZCk7CiAgICB0aGlzLmJhY2sgPSBwYXJzZUludCh0aGlzLiRyb3V0ZS5xdWVyeS5pZCkgLSAxOwogICAgdGhpcy5uZXh0ID0gcGFyc2VJbnQodGhpcy4kcm91dGUucXVlcnkuaWQpICsgMTsgLy8gUHJvZHVjdHNTZXJ2aWNlLmdldHByb2R1Y3RzKDEsJycsJycpLnRoZW4oKHJlcyk9PnsKCiAgICB0aGlzLmFsbGRhdGEgPSA3NTsgLy8gY29uc29sZS5sb2cocmVzLmRhdGEpOwoKICAgIHRoaXMuZ2V0ZGF0YSgpOyAvLyB9KTsKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACAA,aADA;AAEAC,gBAFA;AAGAC,MAHA,kBAGA;AACA;AACAC,cADA;AAEAC,aAFA;AAGAC,cAHA;AAIAC,mBAJA;AAKAC,iBALA;AAMAC,oBANA;AAOAC,kBAPA;AAQAC,mBARA;AASAC,uBATA;AAUAC,cAVA;AAWAC,sBAXA;AAYAC,mBAZA;AAaAC,kBAbA;AAcAC,kBAdA;AAeAC,2CAfA;AAgBAC,0CAhBA;AAiBAC,0CAjBA;AAkBAC,YAlBA;AAmBAC,iBAnBA;AAoBAC,0CApBA;AAqBAC,cArBA;AAsBAC,iBAtBA;AAuBAC,gBAvBA;AAwBAC,aAxBA;AAyBAC,aAzBA;AA0BAC,eA1BA;AA2BA1B,cA3BA;AA4BA2B;AA5BA;AA8BA,GAlCA;AAmCAC;AACAC,SADA,iBACAX,EADA,EACA;AAAA;;AACA;AACA;;AACA;AACA,0CADA,CAEA;;AACAY;AACA;AACA;AACA,SAHA;AAIA,OAPA,MAOA;AACA;AACA;AACA;AACA,KAfA;AAgBAC,QAhBA,kBAgBA;AACAC;;AACA;AACAC;AACA,OAFA,MAEA;AACA;AACAf,0BADA;AAEApB,8BAFA;AAGAM;AAHA;AAKA4B;;AACA;AACAF;AACAI;AACA;AACAC;AACAC,kEADA,CAEA;;AACAH;AACA,eAJA;AAKA,aAPA;AAQA,WATA;AAUA,SAXA,MAWA;AACAH;AACAM,8DADA,CAEA;;AACAH;AACA,WAJA;AAKA;AACA;AACA,KA9CA;AA+CAI,cA/CA,sBA+CAC,GA/CA,EA+CAC,MA/CA,EA+CAC,KA/CA,EA+CA;AAAA;;AACAR;AACA;;AAFA,iCAIAS,CAJA;AAKA;AACAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACAQ;AACA,qBALA,CAMA;;;AACAV;;AAPA,0BAQAS,mBARA;AAAA;AAAA;AAAA;;AASAE,uBATA,6HASAD,MATA;AAUAV;AAVA;AAAA,2BAYAG;AACA;AACA;AACAS;;AACA;AACA;AACAA;AAEA;;AACAA;AACAA;AACAA,oCAVA,CAWA;;AAAA;AACA,wDAZA,CAaA;;AAAA;AACAT;AACA;AACAU,sDADA;AAEAC,2CAFA;AAGA1C;AAHA;AAKA2C;AACA;AACAD;AADA;AAGAC;AACA;AACA;AACA;AACA;AACA;AACAd;;AAEA,+CARA,CASA;AACA;AACA;AACA;;AACA,6BAbA;AAcA,2BAlBA;AAmBA,yBAzBA;AA0BA,uBAxCA,MAwCA;AACA;AACA;AACAM;AADA;AAGAJ;AACAF;;AAEA;AACA,yBAJA;AAKA;AACA,qBApDA,CAZA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AANA;;AAIA;AAAA;AAuEA;AAEA,KA5HA;AA6HAe,oBA7HA,4BA6HA9B,EA7HA,EA6HAoB,GA7HA,EA6HAC,MA7HA,EA6HAC,KA7HA,EA6HA;AAAA;;AACAF;AACApB;AACAc;AACAA,6BAJA,CAKA;;AACAA;AACAA;;AACA;AAAA,qCACAiB,CADA;AAEA;AACAf;AACAF;;AACA;AACA;AACAlC,iCADA;AAEAM;AAFA;AAIA4B;AACAE,gEACA;AAEA;AAEA,eALA;AAMA;;AAEAF;;AACA;AACAA;;AACA;AACA;AACA,WArBA;AAHA;;AACA;AAAA;AAyBA;AACA,OA3BA,MA2BA;AACA;AACA;AACA,KAnKA;AAoKAkB,gBApKA,wBAoKApD,IApKA,EAoKA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAbA,CAcA;;AACAqD;AACA;AACA;AACA,OAHA,EAfA,CAmBA;AACA;;AACAA;AACA;AACA;AACA;AACA;AAEA;AACA,OAPA,EArBA,CA6BA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA,KAnPA;AAoPAC,mBApPA,2BAoPApD,IApPA,EAoPA;AACA;AACA;AACA;;AACA;AACA;AAEAqD;AACA;AAEA,OAVA,CAWA;AACA;AACA;AACA;;;AACA;AACA,KApQA;AAqQAC,WArQA,qBAqQA;AAAA;;AACA;AACA;AACA;AACA;AACAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACAvB;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAOA;AAjRA,GAnCA;AAsTAwB,SAtTA,qBAsTA;AACA;AACA;AACA,mDAHA,CAIA;;AACA,sBALA,CAMA;;AACA,mBAPA,CAQA;AACA;AA/TA","names":["name","components","data","list","url","file","status","urlPath","imagelists","tokenize","matchname","matchcategory","type","matchnamesum","statusname","statuscat","statusfda","colorname","colorfda","colorcat","id","keyword","colorkey","desc","arrList","alldata","back","next","title","pro_id","methods","getid","KeywordService","save","console","alert","DictService","RuleBasedService","document","savetorule","sen","answer","ad_id","d","iddata","sql","text","rule_based_id","dict_id","MapRuleBasedService","savetorule_based","a","checkkeyword","axios","finddescription","findfda","getdata","ProductsService","mounted"],"sourceRoot":"src/components","sources":["Advertise.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n\n    <table class=\"table table-bordered mt-3\" v-for=\"l in list\" :key=\"l.id\">\n      <thead>\n        <tr>\n          <th scope=\"col\" style=\"text-align:center;background-color:#ffb454\" colspan=\"2\">{{ l.file }}</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <th style=\"background-color:#ffb454\">รายละเอียดสินค้า</th>\n          <th style=\"background-color:#ffb454\">\n            <div class=\"row\">\n              <div class=\"col-md-6\">\n                ข้อความโฆษณา\n              </div>\n              <div class=\"col-md-6\">\n                \n           <div style=\"text-align: right;\"> <button @click=\"getid(0)\"\n             style=\"text-align: right;\"\n          data-bs-toggle=\"modal\" \n          data-bs-target=\"#AddScopus\"\n           type=\"submit\" class=\"mb-3 btn btn-success\">\n      <i class=\"fa fa-plus\" aria-hidden=\"true\"></i>\n    เพิ่ม keyword</button></div>\n              </div>\n            </div>  </th>\n        </tr>\n        <tr>\n          <td :style=\"colorkey\" style=\"width:40%\"><span v-html=\"l.sentent_keyword\"></span></td>\n          <!-- <th :style=\"colorkey\">ข้อความโฆษณา</th> -->\n          <td :style=\"colorkey\" v-if=\"l.data != 0\">\n        <tr v-for=\"(k, i) in l.data\" :key=\"i\">\n          <td style=\"width:70%\"><span v-html=\"k.sentent\"></span></td>\n          <td style=\"width:20%\"><span v-if=\"k.answer == 1\">เกินจริง</span><span v-if=\"k.answer == 9\">ไม่เกินจริง</span><span\n              v-if=\"k.answer == 0\"></span></td>\n          <td style=\"width:10%\"><button @click=\"savetorule_based(k.dict_id, k.sen, 1,k.id)\" type=\"submit\" class=\"mb-3 btn btn-success\">\n              <i class=\"fa fa-check\"></i>\n           เกินจริง </button>&nbsp;\n           <button @click=\"savetorule_based(k.dict_id, k.sen, 9,k.id)\" type=\"submit\" class=\"mb-3 btn btn-danger\">\n              <i class=\"fa fa-times\"></i>\n            ไม่เกินจริง</button></td>\n        </tr>\n        </td>\n        <td :style=\"colorkey\" v-else>\n        <tr >\n          ไม่พบข้อความโฆษณา\n        </tr>\n        </td>\n        </tr>\n      </tbody>\n    </table>\n    <div class=\"row\" v-if=\"list.length\">\n      <div class=\"col-md-6\">\n        <a :href=\"'Advertising?id='+back\"> <button type=\"submit\" class=\"mb-3 btn btn-info\" v-if=\"$route.query.id !=1\">\n          <i class=\"fa fa-arrow-left\" aria-hidden=\"true\"></i>\n            </button></a>\n      </div>\n      <div class=\"col-md-6\" style=\"text-align: right;\" v-if=\"$route.query.id < alldata\">\n        <a :href=\"'Advertising?id='+next\"><button type=\"submit\" class=\"mb-3 btn btn-info\" >\n              <i class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i>\n            </button></a></div>\n    </div>\n      <!-- Modal -->\n  <div\n      class=\"modal fade\"\n      id=\"AddScopus\"\n      tabindex=\"-1\"\n      aria-labelledby=\"exampleModalLabel\"\n      aria-hidden=\"true\"\n    >\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{ title }}</h5>\n            \n          </div>\n          <div class=\"modal-body\">\n            <form>\n              <div class=\"card-body mt-3\">\n                <div class=\"form-group mt-3\">\n                  <label>ข้อความโฆษณา</label>\n                  <input\n                    v-model=\"data.name\"\n                    type=\"text\"\n                    min=\"1\"\n                    class=\"form-control form-control-sm\"\n                  />\n                </div>\n              </div>\n            </form>\n          </div>\n          <div class=\"modal-footer mt-3\">\n            <button type=\"button\" class=\"btn btn-success\" @click=\"save()\">\n              บันทึก\n            </button>\n            <button\n            id=\"closedcategory\"\n              type=\"button\"\n              class=\"btn btn-secondary\"\n              data-bs-dismiss=\"modal\"\n            >\n              ปิด\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport ProductsService from '../services/ProductsService.js'\nimport DictService from '../services/DictService'\nimport RuleBasedService from '../services/RuleBasedService'\nimport MapRuleBasedService from '../services/MapRuleBasedService'\nimport LinkService from '../services/LinkService'\nimport KeywordService from '../services/KeywordService'\n\nexport default {\n  name: \"App\",\n  components: {},\n  data() {\n    return {\n      list: [],\n      url: '',\n      file: '',\n      status: false,\n      urlPath: '',\n      imagelists: '',\n      tokenize: '',\n      matchname: '',\n      matchcategory: '',\n      type: '',\n      matchnamesum: '',\n      statusname: 0,\n      statuscat: 0,\n      statusfda: 0,\n      colorname: 'background-color:#f9bdbb',\n      colorfda: 'background-color:#f9bdbb',\n      colorcat: 'background-color:#f9bdbb',\n      id: '',\n      keyword: [],\n      colorkey: 'background-color:#f9bdbb',\n      desc: '',\n      arrList: [],\n      alldata:0,\n      back:0,\n      next:0,\n      title:'',\n      data:{},\n      pro_id:0,\n    };\n  },\n  methods: {\n    getid(id) {\n      // console.log(id);\n      this.pro_id = id;\n      if (this.pro_id != 0) {\n        this.title = \"แก้ไขข้อมูลข้อความ\";\n        // console.log(this.user_id);\n        KeywordService.getkeyword(this.pro_id).then((res) => {\n          // console.log(res.data);\n          this.data = res.data;\n        });\n      } else {\n        this.title = \"เพิ่มข้อมูลข้อความ\";\n        this.data = [];\n      }\n    },\n    save() {\n      console.log(this.data);\n      if (this.data.name == null || this.data.cat_id == \"\") {\n        alert(\"กรุณากรอกข้อความ\");\n      } else {\n        var prodata = {\n          id:this.data.id,\n          name: this.data.name,\n          status:1,\n        };\n        console.log(prodata); \n        if (this.pro_id == 0) {\n          KeywordService.createkeyword(prodata).then(() => {\n          DictService.createdict(prodata).then((res) => {\n            // console.log(res.data );\n            RuleBasedService.createdcolumnrule_based(res.data.id).then(() => {\n            document.getElementById(\"closedcategory\").click();\n            // this.getcategory();\n            alert('บันทึกสำเร็จ')\n          });\n        });\n      });\n        } else {\n          KeywordService.updatekeyword(this.pro_id,prodata).then(() => {\n            document.getElementById(\"closedcategory\").click();\n            // this.getcategory();\n            alert('บันทึกสำเร็จ')\n          });\n            }\n      }\n    },\n    savetorule(sen, answer,ad_id) {\n      console.log(sen);\n      var iddata = []\n\n      for (let d = 0; d < sen.length; d++) {\n        // console.log(datasplit[d]);\n        DictService.getdicts('', sen[d].name).then(async (res) => {\n\n          if (res.data.length > 0) {\n            // console.log(res.data[0].id);\n            iddata.push(res.data[0].id)\n          }\n          // console.log(d+1 , sen.length);\n          console.log(iddata);\n          if (d + 1 == sen.length) {\n            var sql = `SELECT r.* FROM map_rule_based m join rule_based r on m.rule_based_id = r.id WHERE m.status = 1 and dict_id = '[${iddata}]'`\n            console.log(sql);\n            \n            await RuleBasedService.getbydict(sql).then((res) => {\n              if (res.data.length == 0) {\n                let text = ''\n                text += '{'\n                for (let i = 0; i < iddata.length; i++) {\n                  // console.log(iddata[i]);\n                  text += '\"dict' + iddata[i] + '\"' + ':' + 1 + ','\n\n                }\n                text += '\"answer' + '\"' + ':' + answer + ','\n                text = text.slice(0, -1);\n                text += '}'\n                // console.log(text);\n                let jsonData = JSON.parse(text);\n                // console.log(jsonData);\n                RuleBasedService.createrule_based(jsonData).then((res) => {\n                  var maprule = {\n                    rule_based_id: res.data.id,\n                    dict_id: iddata,\n                    status:1\n                  }\n                  MapRuleBasedService.createmap_rule_based(maprule).then(() => {\n                    var updateadvertise = {\n                    dict_id: iddata,\n                  }\n                  MapRuleBasedService.updateadvertise(ad_id,updateadvertise).then(() => {\n                    // console.log(res.data);\n                    // var pro = {\n                    //   map_rule_based:res.data.id\n                    // }\n                    // ProductsService.map_rule_based(id,pro).then(() => {\n                    alert('บันทึกสำเร็จ')\n\n                    this.getdata()\n                    //               setTimeout(function () {\n                    //   location.reload();\n                    // }, 500);\n                    // });\n                  });\n                  });\n                });\n              } else {\n                // console.log(res.data);\n                var updatemaprule = {\n                  answer: answer,\n                }\n                RuleBasedService.updaterule_based(res.data[0].id, updatemaprule).then(() => {\n                  alert('บันทึกสำเร็จ')\n\n                  this.getdata()\n                })\n              }\n            });\n\n          }\n        });\n\n      }\n\n    },\n    savetorule_based(id, sen, answer,ad_id) {\n      sen = JSON.parse(sen)\n      id = JSON.parse(id)\n      console.log(id);\n      console.log(id.length);\n      // console.log(ad_id);\n      console.log(sen.length);\n      console.log('answer',answer);\n      if (id.length != sen.length) {\n        for (let a = 0; a < sen.length; a++) {\n          // console.log(sen[a].name);\n          DictService.getdicts('', sen[a].name).then((res) => {\n            console.log(res.data);\n            if (res.data.length == 0) {\n              var prodata = {\n                name: sen[a].name,\n                status: 1,\n              };\n              console.log(prodata);\n              DictService.createdict(prodata).then(() => {\n                //   RuleBasedService.createdcolumnrule_based(res.data.id).then(() => {\n\n                // });\n                \n              });\n            }\n            \n            console.log(a + 1,sen.length);\n                if (a + 1 == sen.length) {\n                  console.log(1);\n              this.savetorule(sen, answer,ad_id)\n            }\n          })\n\n        }\n      } else {\n        this.savetorule(sen, answer,ad_id)\n      }\n    },\n    checkkeyword(name) {\n      // console.log(name);\n      //   axios.get('http://localhost:8081/api/keyword_dicts?name=1').then((res) => {\n      //     console.log(res.data);\n      // for (let r = 0; r < res.data.length; r++) {\n      // name = name.replaceAll(/([\\uE000-\\uF8FF]|\\uD83C[\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDDFF])/g, '')\n      //       name = name.replaceAll(/(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\u0023-\\u0039]\\ufe0f?\\u20e3|\\u3299|\\u3297|\\u303d|\\u3030|\\u24c2|\\ud83c[\\udd70-\\udd71]|\\ud83c[\\udd7e-\\udd7f]|\\ud83c\\udd8e|\\ud83c[\\udd91-\\udd9a]|\\ud83c[\\udde6-\\uddff]|\\ud83c[\\ude01-\\ude02]|\\ud83c\\ude1a|\\ud83c\\ude2f|\\ud83c[\\ude32-\\ude3a]|\\ud83c[\\ude50-\\ude51]|\\u203c|\\u2049|[\\u25aa-\\u25ab]|\\u25b6|\\u25c0|[\\u25fb-\\u25fe]|\\u00a9|\\u00ae|\\u2122|\\u2139|\\ud83c\\udc04|[\\u2600-\\u26FF]|\\u2b05|\\u2b06|\\u2b07|\\u2b1b|\\u2b1c|\\u2b50|\\u2b55|\\u231a|\\u231b|\\u2328|\\u23cf|[\\u23e9-\\u23f3]|[\\u23f8-\\u23fa]|\\ud83c\\udccf|\\u2934|\\u2935|[\\u2190-\\u21ff])/g, '');\n      //       name = name.replaceAll(/(\\r\\n|\\n|\\r)/gm, \"\");\n      //       name = name.replaceAll(\"_\", \"\");\n      //       name = name.replaceAll(\"!\", \"\");\n      //       name = name.replaceAll(\"*\", \"\");\n      // name = name.replaceAll(`_/l\\_`, \"\");// eslint-disable-line\n      // console.log('http://127.0.0.1:5000/checkkeyword?name=' + name);\n      var desc = this.finddescription(name)\n      // console.log('http://127.0.0.1:5000/worktokendesc?text='+desc);\n      axios.get(LinkService.getpythonlink()+'/worktokendesc?text=' + desc).then((res) => {\n        // console.log(res.data);\n        this.desc = res.data\n      });\n      // name = 'ข้อมูลจำเพาะของสินค้า หมวดหมู่ Shopee กลุ่มผลิตภัณฑ์เพื่อสุขภาพ อาหารเสริมเพื่อความงาม ผิว ยี่ห้อ Bluebird(บลูเบิร์ด) Storage Condition Normal ประเภทสารอาหาร สารต้านอนุมูลอิสระ, วิตามินซี ประเทศต้นกำเนิดสินค้า ไทย หน้าที่ของอาหารเสริมสำหรับความงาม ดูแลสิว, ป้องกันริ้วรอย ประเภทการห่อ ห่อรวมกัน เพศ ทั้งสองเพศ อายุการเก็บรักษา 12 เดือน ประเภทของผลิตภัณฑ์ยา แคปซูล หมายเลขใบอนุญาต/อย. 30-1-26764-5-0051 จำนวนสินค้า 17901 ส่งจาก จังหวัดนครราชสีมา รายละเอียดสินค้า วิตามินซี พลัส ตรา บลูเบิร์ด ตรา บลูเบิร์ด ขนาด 1000 มิลลิกรัม 60 แคปซูล เรทขายส่ง ช่วงราคาที่ 1 สั่งซื้อตั้งแต่ 5 กระปุกขึ้นไป ถึง 20 กระปุก ราคากระปุกละ 93 บาท ช่วงราคาที่ 2 สั่งซื้อตั้งแต่ 21 กระปุกขึ้นไป ถึง 50 กระปุก ราคากระปุกละ 90 บาท ช่วงราคาที่ 3 สั่งซื้อตั้งแต่ 51 กระปุกขึ้นไป ถึง 100 กระปุก ราคากระปุกละ 87 บาท ช่วงราคาที่ 4 สั่งซื้อตั้งแต่ 100 กระปุกขึ้นไป ..................... ราคากระปุกละ 85 บาท Vitamin C Plus Dietary Supplement Product Bluebird Brand ผลิตภัณฑ์เสริมอาหารวิตามินซี พลัส ตรา บลูเบิร์ด ส่วนประกอบทั้งหมดใน 1 แคปซูล ส่วนประกอบที่สำคัญ (Active Ingredient) VITAMIN C (100%) - 60 มิลลิกรัม CITRUS BIOFLAVONOID POWDER - 630 มิลลิกรัม BARBADOSCHERRY POWDER/ACEROLA CHERRY POWDER (ผงบาร์เบโดสเชอร์รี/ผงอะเซโรลาเชอร์รี) (MALPIGHIA GLABRA L.) ผล - 60 มิลลิกรัม ROSEHIP POWDER (ผงโรสฮิปส์) (ROSA CANINA L.) ผล - 60 มิลลิกรัม Rutin - 30 มิลลิกรัม INDIAN GOOSEBERRY POWDER (ผงมะขามป้อม) (PHYLLANTHUS EMBLICA L. ) ผล - 60 มิลลิกรัม ส่วนประกอบที่ไม่สำคัญ (Inactive Ingredient) EDIBLE GELATIN 428 - 98.5 มิลลิกรัม TITANIUM DIOXIDE 171 -1.95 มิลลิกรัม วิธีรับประทาน ครั้งละ 1-2 แคปซูล หลังอาหารเช้า เลขที่ อ.ย. 30-1-26764-5-0051 คำเตือน ควรเก็บให้พ้นแสงแดงและความชื้น เด็ก สตรีมีครรภ์ และสตรีให้นมบุตรไม่ควรรับประทาน ควรกินอาหารหลากหลายให้ครบ 5 หมู่ ในสัดส่วนที่เหมาะสมเป็นประจำ ไม่มีผลในการป้องกันหรือรักษาโรค สรรพคุณ ประโยชน์ของการกินวิตามินซี ️ทำให้หน้าไม่โทรม หน้าตาสดใส ️ช่วยฟื้นฟูผิวหน้า สิว ฝ้า กระ ริ้วรอย ดูจางลง ️ผิวพรรณนุ่มเรียบเนียบ ชุ่มชื่น ️หน้าตาดูเด็กและเด้งขึ้น ️ผิวหน้าขาวอมชมพู สินค้าตัดรอบทุกวันเวลา ตัดรอบเวลา 12.00 น ของทุกวัน แจ้งโอนเกินเวลา ส่งรอบวันถัดไปนะจ๊ะ ส่งพัสดุทุกวัน เว้นวันอาทิตย์ และวันหยุดนักขัตฤกษ์ ขอบพระคุณลูกค้าทุกท่าน ที่ไว้วางใจผลิตภัณฑ์ของเราเสมอมา_/l\\_'\n      // console.log('http://127.0.0.1:5000/checkkeyword?name=' + desc);    \n      axios.get(LinkService.getpythonlink()+'/checkkeyword?name=' + desc).then((res) => {\n        // console.log(res.data);\n        if (res.data.length > 0) {\n          // this.keyword.push(res.data)\n          this.keyword = res.data\n\n        }\n      });\n      //     }\n\n      // });\n      //       var listkeywords = []\n      //       var namesplit = name.split(\" \")\n      //       // console.log(namesplit);\n      //       axios.get('http://localhost:8081/api/keyword_dicts?name=1').then((res) => {\n      //         console.log(res.data);\n      //         var keylist = []\n      //         for (let r = 0; r < res.data.length; r++) {\n      //           res.data[r].name = res.data[r].name.replaceAll(\".\",\"\")\n      //           var kk = res.data[r].name.split(\" \")\n      //           for (let k = 0; k < kk.length; k++) {\n      //             keylist.push(kk[k])\n      //           }\n      //         }\n      //         for (let key = 0; key < keylist.length; key++) {\n      //           for (let n = 0; n < namesplit.length; n++) {\n      //             if (namesplit[n] == keylist[key] && keylist[key] != '' && isNaN(keylist[key])) {\n      //               listkeywords.push(keylist[key])\n      //             }\n\n      //           }\n      //         }\n      //         // console.log(keylist);\n      //         // console.log(listkeywords);\n\n      //       console.log(listkeywords.length);\n      //         if (listkeywords.length == 0) {\n\n      //           this.colorkey = \"background-color:#a3e9a4\"\n      //         }\n      //         var result = [];\n      //         listkeywords.forEach(function(item) {\n      //      if(result.indexOf(item) < 0) {\n      //          result.push(item);\n      //      }\n      // });\n      // console.log(result);\n      // listkeywords = result\n      //         for (let l = 0; l < listkeywords.length; l++) {\n      //           // console.log('http://127.0.0.1:5000/checkkeyword?name=' + name+'&&name_real=');\n      //           axios.get('http://127.0.0.1:5000/checkkeyword?name=' + name+'&&name_real=' + listkeywords[l]).then((res) => {\n      //             // console.log(res.data);\n      //         this.keyword.push(res.data)\n      //       });\n\n      //         }\n      //       });\n\n    },\n    finddescription(data) {\n      // console.log(data);\n      var text = ['รายละเอียด']\n      var findfda = data\n      for (let t = 0; t < text.length; t++) {\n        if (findfda.indexOf(text[t]) != -1) {\n\n          findfda = findfda.substring(findfda.indexOf(text[t]));\n        }\n\n      }\n      // if (findfda == 'อาหาร') {\n      //   findfda = findfda+ findfda+'เสริม'\n      // }\n      // console.log(findfda);\n      return findfda\n    },\n    getdata() {\n      // var end = this.$route.query.id*5\n      // // var start = end-4\n      // var start = this.$route.query.id\n      // console.log(start);\n      ProductsService.getdecision().then(async (res) => {\n      \n        this.list = res.data\n        console.log(this.list);\n      })\n\n\n    }\n  },\n  mounted() {\n    // console.log(this.$route.query.id);\n    this.back = parseInt(this.$route.query.id)-1\n    this.next = parseInt(this.$route.query.id)+1\n    // ProductsService.getproducts(1,'','').then((res)=>{\n      this.alldata = 75\n      // console.log(res.data);\n    this.getdata()\n    // });\n  },\n};\n</script>\n\n<style>\nhtml,\nbody {\n  height: 100%;\n  margin: 0px;\n}\n</style>\n"]}]}