{"remainingRequest":"D:\\fda\\fda-frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\fda\\fda-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\fda\\fda-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\fda\\fda-frontend\\src\\components\\searchbyfda.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\fda\\fda-frontend\\src\\components\\searchbyfda.vue","mtime":1695524600765},{"path":"D:\\fda\\fda-frontend\\babel.config.js","mtime":1695524577754},{"path":"D:\\fda\\fda-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1695526242921},{"path":"D:\\fda\\fda-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1695526245291},{"path":"D:\\fda\\fda-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1695526242921},{"path":"D:\\fda\\fda-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1695526233884}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L2ZkYS9mZGEtZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS1hbGwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCByZWFkWGxzeEZpbGUgZnJvbSAicmVhZC1leGNlbC1maWxlIjsgLy8gaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnCgppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgUHJvZHVjdHNTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL1Byb2R1Y3RzU2VydmljZS5qcyc7CmltcG9ydCBGREFUeXBlc1NlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvRkRBVHlwZXNTZXJ2aWNlJzsKaW1wb3J0IGZkYWNvbnRlbnQgZnJvbSAnLi4vY29tcG9uZW50cy9mZGFjb250ZW50LnZ1ZSc7CmltcG9ydCBMaW5rU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9MaW5rU2VydmljZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQXBwIiwKICBjb21wb25lbnRzOiB7CiAgICBmZGFjb250ZW50OiBmZGFjb250ZW50CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmRhaWQ6IDAsCiAgICAgIGxpc3Q6IFtdLAogICAgICB1cmw6ICcnLAogICAgICBmaWxlOiAnJywKICAgICAgc3RhdHVzOiBmYWxzZSwKICAgICAgdXJsUGF0aDogJycsCiAgICAgIGltYWdlbGlzdHM6ICcnLAogICAgICB0b2tlbml6ZTogJycsCiAgICAgIG1hdGNobmFtZTogJycsCiAgICAgIG1hdGNoY2F0ZWdvcnk6ICcnLAogICAgICB0eXBlOiAnJywKICAgICAgbWF0Y2huYW1lc3VtOiAnJywKICAgICAgc3RhdHVzbmFtZTogMCwKICAgICAgc3RhdHVzY2F0OiAwLAogICAgICBzdGF0dXNmZGE6IDAsCiAgICAgIGNvbG9ybmFtZTogJ2JhY2tncm91bmQtY29sb3I6I2Y5YmRiYicsCiAgICAgIGNvbG9yZmRhOiAnYmFja2dyb3VuZC1jb2xvcjojZjliZGJiJywKICAgICAgY29sb3JjYXQ6ICdiYWNrZ3JvdW5kLWNvbG9yOiNmOWJkYmInLAogICAgICBpZDogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGVja2ZkYW1hdGNoOiBmdW5jdGlvbiBjaGVja2ZkYW1hdGNoKG5hbWUsIG5hbWVfcmVhbCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5tYXRjaG5hbWUgPSAnJzsKICAgICAgdGhpcy5zdGF0dXNuYW1lID0gMDsKICAgICAgdGhpcy5jb2xvcm5hbWUgPSAiYmFja2dyb3VuZC1jb2xvcjojZjliZGJiIjsgLy8gICAgIGNvbnNvbGUubG9nKG5hbWVfcmVhbCk7CiAgICAgIC8vICBjb25zb2xlLmxvZygnaHR0cDovLzEyNy4wLjAuMTo1MDAwL21hdGNobmFtZT9uYW1lPScgKyBuYW1lKycmJm5hbWVfcmVhbD0nICsgbmFtZV9yZWFsKTsKCiAgICAgIGF4aW9zLmdldChMaW5rU2VydmljZS5nZXRweXRob25saW5rKCkgKyAnL21hdGNobmFtZT9uYW1lPScgKyBuYW1lICsgJyYmbmFtZV9yZWFsPScgKyBuYW1lX3JlYWwpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICBfdGhpcy5tYXRjaG5hbWUgPSByZXMuZGF0YTsKICAgICAgICBfdGhpcy5tYXRjaG5hbWVzdW0gPSBfdGhpcy5tYXRjaG5hbWUucmVwbGFjZUFsbCgncmVkJywgJ2JsYWNrJyk7CgogICAgICAgIGlmIChfdGhpcy5tYXRjaG5hbWUuaW5jbHVkZXMoJ3JlZCcpKSB7CiAgICAgICAgICBfdGhpcy5zdGF0dXNuYW1lID0gMTsKICAgICAgICAgIF90aGlzLmNvbG9ybmFtZSA9ICJiYWNrZ3JvdW5kLWNvbG9yOiNhM2U5YTQiOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2hlY2tjYXRlZ29yeW1hdGNoOiBmdW5jdGlvbiBjaGVja2NhdGVnb3J5bWF0Y2goY2F0ZWdvcnksIGNhdGVnb3J5X3JlYWwpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAvLyBjb25zb2xlLmxvZyhjYXRlZ29yeV9yZWFsKTsKICAgICAgLy8gY29uc29sZS5sb2coY2F0ZWdvcnkpOwogICAgICB0aGlzLm1hdGNoY2F0ZWdvcnkgPSAnJzsKICAgICAgdGhpcy5zdGF0dXNjYXQgPSAwOwogICAgICB0aGlzLmNvbG9yY2F0ID0gImJhY2tncm91bmQtY29sb3I6I2Y5YmRiYiI7CgogICAgICBpZiAoY2F0ZWdvcnlfcmVhbCkgewogICAgICAgIC8vICBjb25zb2xlLmxvZygnaHR0cDovLzEyNy4wLjAuMTo1MDAwL21hdGNoY2F0ZWdvcnk/Y2F0ZWdvcnk9JyArIGNhdGVnb3J5KycmJmNhdGVnb3J5X3JlYWw9JyArIGNhdGVnb3J5X3JlYWwpOwogICAgICAgIGF4aW9zLmdldChMaW5rU2VydmljZS5nZXRweXRob25saW5rKCkgKyAnL21hdGNoY2F0ZWdvcnk/Y2F0ZWdvcnk9JyArIGNhdGVnb3J5ICsgJyYmY2F0ZWdvcnlfcmVhbD0nICsgY2F0ZWdvcnlfcmVhbCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgICBfdGhpczIubWF0Y2hjYXRlZ29yeSA9IHJlcy5kYXRhOyAvLyBjb25zb2xlLmxvZyh0aGlzLm1hdGNoY2F0ZWdvcnkuaW5jbHVkZXMoJ3JlZCcpKTsKCiAgICAgICAgICBpZiAoX3RoaXMyLm1hdGNoY2F0ZWdvcnkuaW5jbHVkZXMoJ3JlZCcpKSB7CiAgICAgICAgICAgIF90aGlzMi5zdGF0dXNjYXQgPSAxOwogICAgICAgICAgICBfdGhpczIuY29sb3JjYXQgPSAiYmFja2dyb3VuZC1jb2xvcjojYTNlOWE0IjsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGN1dDogZnVuY3Rpb24gY3V0KHdvcmQpIHsKICAgICAgdmFyIHdvID0gd29yZC50b1N0cmluZygpOyAvLyB3byA9IHdvLnJlcGxhY2VBbGwoJyAnLCAnIHwgJykKCiAgICAgIHJldHVybiB3bzsKICAgIH0sCiAgICBnZXR0b2tlbml6ZTogZnVuY3Rpb24gZ2V0dG9rZW5pemUod29yZHMsIG5hbWVyZWFsX3Jlc3VsdCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cod29yZHMpOwogICAgICAgICAgICAgICAgaWYgKCFuYW1lcmVhbF9yZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgbmFtZXJlYWxfcmVzdWx0ID0gJ3h4eCc7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYXhpb3MuZ2V0KExpbmtTZXJ2aWNlLmdldHB5dGhvbmxpbmsoKSArICcvd29ya3Rva2VuP25hbWVyZWFsX3Jlc3VsdD0nICsgbmFtZXJlYWxfcmVzdWx0ICsgJyYmdGV4dD0nICsgd29yZHMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgICAgICAgICAgIF90aGlzMy50b2tlbml6ZSA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRpbWFnZWZpbGU6IGZ1bmN0aW9uIGdldGltYWdlZmlsZShpZCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuaW1hZ2VsaXN0cyA9ICcnOwogICAgICBheGlvcy5nZXQoTGlua1NlcnZpY2UuZ2V0cHl0aG9ubGluaygpICsgJy9iYXNlNjQ/aWQ9JyArIGlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgX3RoaXM0LmltYWdlbGlzdHMgPSAnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwnICsgcmVzLmRhdGE7CiAgICAgIH0pOyAvLyBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9nZXRpbWFnZT9wYXRoPScgKyBmb2xkZXIpLnRoZW4oKHJlcykgPT4gewogICAgICAvLyAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgLy8gICBmb3IgKGxldCBpbSA9IDA7IGltIDwgcmVzLmRhdGEubGVuZ3RoOyBpbSsrKSB7CiAgICAgIC8vICAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9pbWc/bmFtZT0nICsgcmVzLmRhdGFbaW1dKS50aGVuKChyZXMpID0+IHsKICAgICAgLy8gICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEuYmFzZTY0KTsKICAgICAgLy8gICAgICAgdGhpcy5pbWFnZWxpc3RzLnB1c2gocmVzLmRhdGEuYmFzZTY0KQogICAgICAvLyAgICAgfSk7CiAgICAgIC8vICAgfQogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmltYWdlbGlzdHMpOwoKICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VsaXN0czsgLy8gfSkKICAgIH0sCiAgICBkb3dubG9hZEh0bWw6IGZ1bmN0aW9uIGRvd25sb2FkSHRtbCgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB2YXIgdXJsID0gdGhpcy51cmxJbnB1dDsKICAgICAgZmV0Y2godXJsKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICByZXR1cm4gcmVzLnRleHQoKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoaHRtbCkgewogICAgICAgIHJldHVybiBfdGhpczUuZG93bmxvYWRBc0ZpbGUoInJlcG9ydC5odG1sIiwgaHRtbCk7CiAgICAgIH0pOwogICAgfSwKICAgIGRvd25sb2FkQXNGaWxlOiBmdW5jdGlvbiBkb3dubG9hZEFzRmlsZShuYW1lLCB0ZXh0KSB7CiAgICAgIHZhciBsaW5rID0gdGhpcy5jcmVhdGVEb3dubG9hZGFibGVMaW5rKG5hbWUsIHRleHQpOwogICAgICB2YXIgY2xpY2tFdmVudCA9IG5ldyBNb3VzZUV2ZW50KCdjbGljaycpOwogICAgICBsaW5rLmRpc3BhdGNoRXZlbnQoY2xpY2tFdmVudCk7CiAgICB9LAogICAgY3JlYXRlRG93bmxvYWRhYmxlTGluazogZnVuY3Rpb24gY3JlYXRlRG93bmxvYWRhYmxlTGluayhmaWxlTmFtZSwgY29udGVudCkgewogICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgbGluay5kb3dubG9hZCA9IGZpbGVOYW1lOwogICAgICBsaW5rLmhyZWYgPSAiZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0sIi5jb25jYXQoY29udGVudCk7CiAgICAgIHJldHVybiBsaW5rOwogICAgfSwKICAgIC8vICAgICBzZWFyY2goKXsKICAgIC8vICAgICAgIHRoaXMubGlzdCA9IFtdCiAgICAvLyAgICAgICBNZW51U2VydmljZS5nZXRwcm9kdWN0KHRoaXMudXJsKS50aGVuKCkudGhlbigocmVzKT0+ewogICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAvLyAgICAgICAgIHZhciBmZGFsaXN0ID0gW10KICAgIC8vICAgICAgICAgdmFyIGRldGFpbCA9IHJlcy5kYXRhCiAgICAvLyAgICAgICAgIC8vIHZhciBkZXRhaWwgPSAn4LiC4LmJ4Lit4Lih4Li54Lil4LiI4Liz4LmA4Lie4Liy4Liw4LiC4Lit4LiH4Liq4Li04LiZ4LiE4LmJ4Liy4Lir4Lih4Lin4LiU4Lir4Lih4Li54LmIU2hvcGVl4LiB4Lil4Li44LmI4Lih4Lic4Lil4Li04LiV4Lig4Lix4LiT4LiR4LmM4LmA4Lie4Li34LmI4Lit4Liq4Li44LiC4Lig4Liy4Lie4Lit4Liy4Lir4Liy4Lij4LmA4Liq4Lij4Li04Lih4LmA4Lie4Li34LmI4Lit4LiE4Lin4Liy4Lih4LiH4Liy4Lih4Lic4Li04Lin4Lii4Li14LmI4Lir4LmJ4LitR2xvYmFsIFdoaXRlKOC5guC4geC4peC4muC4reC4peC5hOC4p+C4l+C5jCnguKvguJnguYnguLLguJfguLXguYjguILguK3guIfguK3guLLguKvguLLguKPguYDguKrguKPguLTguKHguKrguLPguKvguKPguLHguJrguITguKfguLLguKHguIfguLLguKHguITguK3guKXguKXguLLguYDguIjguJksIOC4nOC4oSDguJzguLTguKcg4LmB4Lil4Liw4LmA4Lil4LmH4Lia4Lir4Lih4Liy4Lii4LmA4Lil4LiC4LmD4Lia4Lit4LiZ4Li44LiN4Liy4LiVL+C4reC4oi43MC0xLTI3MTYwLTUtMDI2OOC4iOC4s+C4meC4p+C4meC4quC4tOC4meC4hOC5ieC4sjI1OOC4quC5iOC4h+C4iOC4suC4geC4iOC4seC4h+C4q+C4p+C4seC4lOC4m+C4l+C4uOC4oeC4mOC4suC4meC4teC4o+C4suC4ouC4peC4sOC5gOC4reC4teC4ouC4lOC4quC4tOC4meC4hOC5ieC4suC4q+C4oeC4suC4ouC5gOC4peC4guC5g+C4muC4reC4meC4uOC4jeC4suC4lS/guK3guKIu8J+MvDcwLTEtMjcxNjAtNS0wMjY44Lit4Liy4Lii4Li44LiB4Liy4Lij4LmA4LiB4LmH4Lia4Lij4Lix4LiB4Lip4LiyIDI0IOC5gOC4lOC4t+C4reC4mScKICAgIC8vICAgICAgICAgICAgIHZhciBmZGEgPSB0aGlzLmZpbmRmZGEoZGV0YWlsKQogICAgLy8gICAgICAgICAgICAgZmRhbGlzdC5wdXNoKHsKICAgIC8vICAgICAgICAgICAgICAgZGV0YWlsOiBkZXRhaWwsCiAgICAvLyAgICAgICAgICAgICAgIGZkYTogZmRhCiAgICAvLyAgICAgICAgICAgICB9KQogICAgLy8gICAgICAgICAgICAgZm9yIChsZXQgZiA9IDA7IGYgPCBmZGFsaXN0Lmxlbmd0aDsgZisrKSB7CiAgICAvLyBjb25zdCB1cmwgPSAiaHR0cHM6Ly90YXdhaWZvcmhlYWx0aC5vcmcvYXBpL29yeW9yL2NoZWNrLXByb2R1Y3QiOwogICAgLy8gY29uc3QgZGF0YSA9IHsgIm51bWJlcl9zcmMiOiBmZGFsaXN0W2ZdLmZkYSB9OwogICAgLy8gY29uc3Qgb3B0aW9ucyA9IHsKICAgIC8vICAgbWV0aG9kOiAiUE9TVCIsCiAgICAvLyAgIGhlYWRlcnM6IHsKICAgIC8vICAgICBBY2NlcHQ6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgIC8vICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCIsCiAgICAvLyAgIH0sCiAgICAvLyAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLAogICAgLy8gfTsKICAgIC8vIGZldGNoKHVybCwgb3B0aW9ucykKICAgIC8vICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpCiAgICAvLyAgIC50aGVuKChkYXRhKSA9PiB7CiAgICAvLyAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7CiAgICAvLyAgICAgaWYgKGRhdGEubWVzc2FnZSkgewogICAgLy8gICAgICAgZmRhbGlzdFtmXS5zdGF0dXMgPSAwCiAgICAvLyAgICAgICBmZGFsaXN0W2ZdLmxpc3QgPSBbXQogICAgLy8gICAgICAgZmRhbGlzdFtmXS5iZyA9ICdiYWNrZ3JvdW5kLWNvbG9yOiNmOWJkYmInCiAgICAvLyAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgIGZkYWxpc3RbZl0ubGlzdCA9IGRhdGEKICAgIC8vICAgICAgIGZkYWxpc3RbZl0uc3RhdHVzID0gMQogICAgLy8gICAgICAgZmRhbGlzdFtmXS5iZyA9ICdiYWNrZ3JvdW5kLWNvbG9yOiNhM2U5YTQnCiAgICAvLyAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhLlNUQVRVU19JRC5pbmNsdWRlcyg3KSkKICAgIC8vICAgICAgIGlmIChkYXRhLmNuY25tID09ICLguITguIfguK3guKLguLnguYgiKSB7CiAgICAvLyAgICAgICBmZGFsaXN0W2ZdLmljb24gPSAnY29sb3I6IGdyZWVuJwogICAgLy8gICAgICAgfWVsc2V7CiAgICAvLyAgICAgICBmZGFsaXN0W2ZdLmljb24gPSAnY29sb3I6IHJlZCcKICAgIC8vICAgICAgIGZkYWxpc3RbZl0uYmcgPSAnYmFja2dyb3VuZC1jb2xvcjojZjliZGJiJwogICAgLy8gICAgICAgfQogICAgLy8gICAgIH0KICAgIC8vICAgICAvLyBjb25zb2xlLmxvZyhmKzEsIGZkYWxpc3QubGVuZ3RoKTsKICAgIC8vICAgICBpZiAoZisxID09IGZkYWxpc3QubGVuZ3RoKSB7CiAgICAvLyAgY29uc29sZS5sb2coZmRhbGlzdCk7IAogICAgLy8gIHRoaXMubGlzdCA9IGZkYWxpc3QKICAgIC8vIH0KICAgIC8vICAgfSk7CiAgICAvLyB9CiAgICAvLyAgICAgICB9KQogICAgLy8gICAgIH0sCiAgICBzZWFyY2g6IGZ1bmN0aW9uIHNlYXJjaCgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB0aGlzLmxpc3QgPSBbXTsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgZmRhOiB0aGlzLnVybAogICAgICB9OwogICAgICBQcm9kdWN0c1NlcnZpY2UuZmluZHByb2R1Y3RmZGEoZGF0YSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocmVzKSB7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBfdGhpczYubGlzdCA9IHJlcy5kYXRhOyAvLyB9CgogICAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSk7CiAgICB9LAogICAgc2VhcmNoYnlmZGE6IGZ1bmN0aW9uIHNlYXJjaGJ5ZmRhKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHRoaXMuc3RhdHVzbmFtZSA9IDAsIHRoaXMuc3RhdHVzY2F0ID0gMCwgdGhpcy5zdGF0dXNmZGEgPSAwLCB0aGlzLmNvbG9ybmFtZSA9ICdiYWNrZ3JvdW5kLWNvbG9yOiNmOWJkYmInLCB0aGlzLmNvbG9yZmRhID0gJ2JhY2tncm91bmQtY29sb3I6I2Y5YmRiYicsIHRoaXMuY29sb3JjYXQgPSAnYmFja2dyb3VuZC1jb2xvcjojZjliZGJiJywgdGhpcy5saXN0ID0gW107CiAgICAgIFByb2R1Y3RzU2VydmljZS5nZXRwcm9kdWN0KHRoaXMuaWQpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhyZXMpIHsKICAgICAgICAgIHZhciBkZXRhaWwsIGZkYSwgZmRhbGlzdCwgX2xvb3AsIGY7CgogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29udGVudCA9PSAnJyB8fCByZXMuZGF0YS5sZW5ndGggPT0gMCkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfguYTguKHguYjguJ7guJrguILguYnguK3guKHguLnguKXguYPguJnguKPguLDguJrguJonKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczcudXJsID0gcmVzLmRhdGEudXJsOyAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YVswXS5jb250ZW50KTsKICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnRva2VuaXplKTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXM3LmdldGltYWdlZmlsZShyZXMuZGF0YS5pZCk7CgogICAgICAgICAgICAgICAgICAgIGRldGFpbCA9IHJlcy5kYXRhLmNvbnRlbnQ7IC8vIHZhciBkZXRhaWwgPSAn4LiC4LmJ4Lit4Lih4Li54Lil4LiI4Liz4LmA4Lie4Liy4Liw4LiC4Lit4LiH4Liq4Li04LiZ4LiE4LmJ4Liy4Lir4Lih4Lin4LiU4Lir4Lih4Li54LmIU2hvcGVl4LiB4Lil4Li44LmI4Lih4Lic4Lil4Li04LiV4Lig4Lix4LiT4LiR4LmM4LmA4Lie4Li34LmI4Lit4Liq4Li44LiC4Lig4Liy4Lie4Lit4Liy4Lir4Liy4Lij4LmA4Liq4Lij4Li04Lih4LmA4Lie4Li34LmI4Lit4LiE4Lin4Liy4Lih4LiH4Liy4Lih4Lic4Li04Lin4Lii4Li14LmI4Lir4LmJ4LitR2xvYmFsIFdoaXRlKOC5guC4geC4peC4muC4reC4peC5hOC4p+C4l+C5jCnguKvguJnguYnguLLguJfguLXguYjguILguK3guIfguK3guLLguKvguLLguKPguYDguKrguKPguLTguKHguKrguLPguKvguKPguLHguJrguITguKfguLLguKHguIfguLLguKHguITguK3guKXguKXguLLguYDguIjguJksIOC4nOC4oSDguJzguLTguKcg4LmB4Lil4Liw4LmA4Lil4LmH4Lia4Lir4Lih4Liy4Lii4LmA4Lil4LiC4LmD4Lia4Lit4LiZ4Li44LiN4Liy4LiVL+C4reC4oi43MC0xLTI3MTYwLTUtMDI2OOC4iOC4s+C4meC4p+C4meC4quC4tOC4meC4hOC5ieC4sjI1OOC4quC5iOC4h+C4iOC4suC4geC4iOC4seC4h+C4q+C4p+C4seC4lOC4m+C4l+C4uOC4oeC4mOC4suC4meC4teC4o+C4suC4ouC4peC4sOC5gOC4reC4teC4ouC4lOC4quC4tOC4meC4hOC5ieC4suC4q+C4oeC4suC4ouC5gOC4peC4guC5g+C4muC4reC4meC4uOC4jeC4suC4lS/guK3guKIu8J+MvDcwLTEtMjcxNjAtNS0wMjY44Lit4Liy4Lii4Li44LiB4Liy4Lij4LmA4LiB4LmH4Lia4Lij4Lix4LiB4Lip4LiyIDI0IOC5gOC4lOC4t+C4reC4mScKCiAgICAgICAgICAgICAgICAgICAgZmRhID0gJyc7IC8vIGNvbnNvbGUubG9nKGZkYSk7CgogICAgICAgICAgICAgICAgICAgIGZkYWxpc3QgPSBbXTsgLy8gY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAgICAgICAgICAgICAgIC8vIGlmIChmZGEubGVuZ3RoICE9IDEyKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gICBhbGVydCgn4Lir4Lih4Liy4Lii4LmA4Lil4LiC4LmD4Lia4Lit4LiZ4Li44LiN4Liy4LiV4LmE4Lih4LmI4LiW4Li54LiB4LiV4LmJ4Lit4LiHJykKICAgICAgICAgICAgICAgICAgICAvLyB9ZWxzZXsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmZkYSkgewogICAgICAgICAgICAgICAgICAgICAgZmRhID0gcmVzLmRhdGEuZmRhLnJlcGxhY2VBbGwoJyAnLCAnJyk7CiAgICAgICAgICAgICAgICAgICAgICBmZGEgPSByZXMuZGF0YS5mZGEucmVwbGFjZUFsbCgnXG5cbicsICcnKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgZmRhID0gJyc7CiAgICAgICAgICAgICAgICAgICAgfSAvLyBjb25zb2xlLmxvZyhmZGEpOwoKCiAgICAgICAgICAgICAgICAgICAgZmRhbGlzdC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIGlkOiByZXMuZGF0YS5pZCwKICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHJlcy5kYXRhLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IGRldGFpbCwKICAgICAgICAgICAgICAgICAgICAgIGZkYTogZmRhLAogICAgICAgICAgICAgICAgICAgICAgY2F0X25hbWU6IHJlcy5kYXRhLmNhdF9uYW1lCiAgICAgICAgICAgICAgICAgICAgfSk7IC8vIGNvbnNvbGUubG9nKGZkYWxpc3QpOwoKICAgICAgICAgICAgICAgICAgICBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGYpIHsKICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGZkYWxpc3RbZl0uZmRhLmxlbmd0aCk7CiAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmZGFsaXN0W2ZdLmZkYSk7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZkYSB8fCBpc05hTihmZGEpIHx8IGZkYSA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0uc3RhdHVzID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5saXN0ID0ge307IC8vIGNvbnNvbGUubG9nKGZkYWxpc3RbZl0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LmdldHRva2VuaXplKGZkYWxpc3RbZl0uZGV0YWlsLCAnJyk7CgogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczcubGlzdCA9IGZkYWxpc3Q7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfguYDguKXguILguK3guKIu4LiC4Lit4LiH4Lic4Lil4Li04LiV4Lig4Lix4LiT4LiR4LmM4LiZ4Li14LmJ4LmE4Lih4LmI4LiW4Li54LiB4LiV4LmJ4Lit4LiHJyk7CiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gImh0dHBzOi8vdGF3YWlmb3JoZWFsdGgub3JnL2FwaS9vcnlvci9jaGVjay1wcm9kdWN0IjsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgIm51bWJlcl9zcmMiOiBmZGFsaXN0W2ZdLmZkYQogICAgICAgICAgICAgICAgICAgICAgICB9OyAvLyBjb25zb2xlLmxvZyhkYXRhKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0gewogICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFjY2VwdDogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgiCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICBmZXRjaCh1cmwsIG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByb2R1Y3RoYQogICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wcm9kdWNlbmcgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHJvZHVjdGhhID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnR5cGVwcm8gPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0uc3RhdHVzID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0ubGlzdCA9IHt9OyAvLyBjb25zb2xlLmxvZyhmZGFsaXN0W2ZdKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuZ2V0dG9rZW5pemUoZmRhbGlzdFtmXS5kZXRhaWwsICcnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczcubGlzdCA9IGZkYWxpc3Q7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn4LmE4Lih4LmI4Lie4Lia4LmA4Lil4LiC4Lit4LiiLuC5g+C4meC5gOC4p+C5h+C4muC5hOC4i+C4leC5jOC4guC4reC4h+C4nOC4peC4tOC4leC4oOC4seC4k+C4keC5jOC4meC4teC5iScpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWVmdWxsID0gZmRhbGlzdFtmXS5uYW1lICsgZmRhbGlzdFtmXS5kZXRhaWw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZWZ1bGwgPSBuYW1lZnVsbC5yZXBsYWNlQWxsKC8oW1x1RTAwMC1cdUY4RkZdfFx1RDgzQ1tcdURGMDAtXHVERkZGXXxcdUQ4M0RbXHVEQzAwLVx1RERGRl0pL2csICcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lZnVsbCA9IG5hbWVmdWxsLnJlcGxhY2VBbGwoLyg/OltcdTI3MDAtXHUyN2JmXXwoPzpcdWQ4M2NbXHVkZGU2LVx1ZGRmZl0pezJ9fFtcdWQ4MDAtXHVkYmZmXVtcdWRjMDAtXHVkZmZmXXxbXHUwMDIzLVx1MDAzOV1cdWZlMGY/XHUyMGUzfFx1MzI5OXxcdTMyOTd8XHUzMDNkfFx1MzAzMHxcdTI0YzJ8XHVkODNjW1x1ZGQ3MC1cdWRkNzFdfFx1ZDgzY1tcdWRkN2UtXHVkZDdmXXxcdWQ4M2NcdWRkOGV8XHVkODNjW1x1ZGQ5MS1cdWRkOWFdfFx1ZDgzY1tcdWRkZTYtXHVkZGZmXXxcdWQ4M2NbXHVkZTAxLVx1ZGUwMl18XHVkODNjXHVkZTFhfFx1ZDgzY1x1ZGUyZnxcdWQ4M2NbXHVkZTMyLVx1ZGUzYV18XHVkODNjW1x1ZGU1MC1cdWRlNTFdfFx1MjAzY3xcdTIwNDl8W1x1MjVhYS1cdTI1YWJdfFx1MjViNnxcdTI1YzB8W1x1MjVmYi1cdTI1ZmVdfFx1MDBhOXxcdTAwYWV8XHUyMTIyfFx1MjEzOXxcdWQ4M2NcdWRjMDR8W1x1MjYwMC1cdTI2RkZdfFx1MmIwNXxcdTJiMDZ8XHUyYjA3fFx1MmIxYnxcdTJiMWN8XHUyYjUwfFx1MmI1NXxcdTIzMWF8XHUyMzFifFx1MjMyOHxcdTIzY2Z8W1x1MjNlOS1cdTIzZjNdfFtcdTIzZjgtXHUyM2ZhXXxcdWQ4M2NcdWRjY2Z8XHUyOTM0fFx1MjkzNXxbXHUyMTkwLVx1MjFmZl0pL2csICcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lZnVsbCA9IG5hbWVmdWxsLnJlcGxhY2VBbGwoLyhcclxufFxufFxyKS9nbSwgIiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVmdWxsID0gbmFtZWZ1bGwucmVwbGFjZUFsbCgiXyIsICIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lZnVsbCA9IG5hbWVmdWxsLnJlcGxhY2VBbGwoIiEiLCAiIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZWZ1bGwgPSBuYW1lZnVsbC5yZXBsYWNlQWxsKCIqIiwgIiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVmdWxsID0gbmFtZWZ1bGwucmVwbGFjZUFsbCgiIyIsICIiKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LmNoZWNrZmRhbWF0Y2gobmFtZWZ1bGwsIGRhdGEucHJvZHVjdGhhICsgZGF0YS5wcm9kdWNlbmcpOyAvLyBjb25zb2xlLmxvZyhmZGFsaXN0W2ZdLmRldGFpbCk7CgoKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2F0ID0gX3RoaXM3LmZpbmRjYXRlZ29yeShmZGFsaXN0W2ZdLmRldGFpbCk7IC8vIGNvbnNvbGUubG9nKGNhdCk7CgoKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmRhdHlwZSA9IF90aGlzNy5mZGF0eXBlKGRhdGEudHlwZXBybyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGZkYXR5cGUgPSBmZGF0eXBlLnJlcGxhY2VBbGwoJyAnLCAnJyk7IC8vIGNvbnNvbGUubG9nKGZkYXR5cGUpOyAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBkYXRhLnByb2R1Y3RoYS5yZXBsYWNlQWxsKCfguJzguKXguLTguJXguKDguLHguJPguJHguYwnLCAnJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LnR5cGUgPSBmZGF0eXBlOyAvLyBjb25zb2xlLmxvZyh0aGlzLnR5cGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEudHlwZXBybyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczcudHlwZSA9PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEudHlwZXBybykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczcudHlwZSA9IGRhdGEudHlwZXBybzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmRhdHlwZSA9IGRhdGEudHlwZXBybzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9IC8vIGNvbnNvbGUubG9nKGZkYXR5cGUpOwoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgRkRBVHlwZXNTZXJ2aWNlLmdldGZkYXR5cGVzKGZkYXR5cGUpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYXR0eXBlID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZkYXR5cGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRkRBVHlwZXNTZXJ2aWNlLmNyZWF0ZWZkYXR5cGUoY2F0dHlwZSkudGhlbihmdW5jdGlvbiAoKSB7Ly8gY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LmNoZWNrY2F0ZWdvcnltYXRjaChjYXQsIGZkYXR5cGUpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuZ2V0dG9rZW5pemUocmVzLmRhdGEuY29udGVudCwgZmRhdHlwZSArIG5hbWUgKyBkYXRhLnByb2R1Y2VuZyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGF0YS5sY25ubykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5zdGF0dXMgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5saXN0ID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZGFsaXN0W2ZdLmJnID0gJ2JhY2tncm91bmQtY29sb3I6I2Y5YmRiYic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0ubGlzdCA9IGRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZGFsaXN0W2ZdLnN0YXR1cyA9IDE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZGFsaXN0W2ZdLmJnID0gJ2JhY2tncm91bmQtY29sb3I6I2EzZTlhNCc7IC8vIGNvbnNvbGUubG9nKGRhdGEuU1RBVFVTX0lELmluY2x1ZGVzKDcpKQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNuY25tID09ICLguITguIfguK3guKLguLnguYgiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5zdGF0dXNmZGEgPSAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuY29sb3JmZGEgPSAiYmFja2dyb3VuZC1jb2xvcjojYTNlOWE0IjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5pY29uID0gJ2NvbG9yOiBncmVlbic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZGFsaXN0W2ZdLmljb24gPSAnY29sb3I6IHJlZCc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0uYmcgPSAnYmFja2dyb3VuZC1jb2xvcjojZjliZGJiJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9IC8vIGNvbnNvbGUubG9nKGYrMSwgZmRhbGlzdC5sZW5ndGgpOwoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGYgKyAxID09IGZkYWxpc3QubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmZGFsaXN0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5saXN0ID0gZmRhbGlzdDsKICAgICAgICAgICAgICAgICAgICAgICAgICB9IC8vIGNvbnNvbGUubG9nKHRoaXMubGlzdCk7CgogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgICBmb3IgKGYgPSAwOyBmIDwgZmRhbGlzdC5sZW5ndGg7IGYrKykgewogICAgICAgICAgICAgICAgICAgICAgX2xvb3AoZik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9IC8vIH0KCgogICAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0sCiAgICBvbkNoYW5nZUExOiBmdW5jdGlvbiBvbkNoYW5nZUExKGV2ZW50KSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgdGhpcy5saXN0ID0gW107CiAgICAgIHRoaXMuZmlsZSA9IGV2ZW50LnRhcmdldC5maWxlcyA/IGV2ZW50LnRhcmdldC5maWxlc1swXSA6IG51bGw7IC8vIHZhciBjID0gJ+KYle+4j1vguJ7guKPguYnguK3guKHguKrguYjguIddIENhbCBzIENvZmZlZSBieSBQcmltYXlhIOC4geC4suC5geC4n+C5geC4hOC4peC5gOC4reC4qiDguYLguIHguYLguIHguYnguYHguITguKXguYDguK3guKog4LiK4Liy4LmE4LiX4Lii4LmB4LiE4Lil4LmA4Lit4LiqIDEg4LiB4Lil4LmI4Lit4LiHIDEwIOC4i+C4reC4h+C4meC5ieC4s+C4q+C4meC4seC4geC4o+C4seC4geC4qeC4suC4quC4seC4lOC4quC5iOC4p+C4meC4q+C4oeC4suC4ouC5gOC4peC4guC4reC4oi4v4LmD4Lia4Lit4LiZ4Li44LiN4Liy4LiVMTMxMDE3NjAyMDA4MOC4peC4seC4geC4qeC4k+C4sOC4nOC4h+C4iOC4s+C4meC4p+C4meC4quC4tOC4meC4hOC5ieC4sjM5MuC4quC5iOC4h+C4iOC4suC4geC5gOC4guC4leC4lOC4reC4meC5gOC4oeC4t+C4reC4hywg4LiI4Lix4LiH4Lir4Lin4Lix4LiU4LiB4Lij4Li44LiH4LmA4LiX4Lie4Lih4Lir4Liy4LiZ4LiE4LijJwogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmZpbmRmZGEoYykpCgogICAgICB2YXIgZmRhbGlzdCA9IFtdOwoKICAgICAgaWYgKHRoaXMuZmlsZSkgewogICAgICAgIHRoaXMuc3RhdHVzID0gdHJ1ZTsKICAgICAgICByZWFkWGxzeEZpbGUoZXZlbnQudGFyZ2V0LmZpbGVzWzBdKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNChleGNlbCkgewogICAgICAgICAgICB2YXIgaSwgZGV0YWlsLCBmZGEsIF9sb29wMiwgZjsKCiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ1KSB7CiAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgaSA9IDE7CgogICAgICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICAgICAgaWYgKCEoaSA8IGV4Y2VsLmxlbmd0aCkpIHsKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGFbaV1bMF0pOwogICAgICAgICAgICAgICAgICAgIGRldGFpbCA9IGV4Y2VsW2ldWzBdOwogICAgICAgICAgICAgICAgICAgIGZkYSA9IF90aGlzOC5maW5kZmRhKGRldGFpbCk7CiAgICAgICAgICAgICAgICAgICAgZmRhbGlzdC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIGRldGFpbDogZGV0YWlsLAogICAgICAgICAgICAgICAgICAgICAgZmRhOiBmZGEKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKCEoaSArIDEgPT0gZXhjZWwubGVuZ3RoKSkgewogICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgX2xvb3AyID0gLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9sb29wMihmKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsLCBkYXRhLCBvcHRpb25zOwogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9sb29wMiQoX2NvbnRleHQ0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmZGFsaXN0W2ZdLmZkYSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+C5gOC4peC4guC4reC4oi7guILguK3guIfguJzguKXguLTguJXguKDguLHguJPguJHguYzguJnguLXguYnguYTguKHguYjguJbguLnguIHguJXguYnguK3guIcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9ICJodHRwczovL3Rhd2FpZm9yaGVhbHRoLm9yZy9hcGkvb3J5b3IvY2hlY2stcHJvZHVjdCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm51bWJlcl9zcmMiOiBmZGFsaXN0W2ZdLmZkYQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFjY2VwdDogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCh1cmwsIG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0uc3RhdHVzID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0ubGlzdCA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5iZyA9ICdiYWNrZ3JvdW5kLWNvbG9yOiNmOWJkYmInOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZGFsaXN0W2ZdLmxpc3QgPSBkYXRhOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5zdGF0dXMgPSAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5iZyA9ICdiYWNrZ3JvdW5kLWNvbG9yOiNhM2U5YTQnOyAvLyBjb25zb2xlLmxvZyhkYXRhLlNUQVRVU19JRC5pbmNsdWRlcyg3KSkKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhLlNUQVRVU19JRC5pbmNsdWRlcyg3KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNuY25tID09ICLguITguIfguK3guKLguLnguYgiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0uaWNvbiA9ICdjb2xvcjogZ3JlZW4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5pY29uID0gJ2NvbG9yOiByZWQnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZGFsaXN0W2ZdLmJnID0gJ2JhY2tncm91bmQtY29sb3I6I2Y5YmRiYic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAvLyBjb25zb2xlLmxvZyhmKzEsIGZkYWxpc3QubGVuZ3RoKTsKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGYrMSwgZmRhbGlzdC5sZW5ndGgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmICsgMSA9PSBmZGFsaXN0Lmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZmRhbGlzdCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczgubGlzdCA9IGZkYWxpc3Q7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczguc3RhdHVzID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0sIF9sb29wMik7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgZiA9IDA7CgogICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgaWYgKCEoZiA8IGZkYWxpc3QubGVuZ3RoKSkgewogICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5kZWxlZ2F0ZVlpZWxkKF9sb29wMihmKSwgInQwIiwgMTApOwoKICAgICAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgICAgICBmKys7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgICAgICBpKys7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgICAgIH0pKTsKCiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MykgewogICAgICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgIH07CiAgICAgICAgfSgpKTsKICAgICAgfQoKICAgICAgdGhpcy5maWxlID0gJyc7CiAgICB9LAogICAgZmluZGNhdGVnb3J5OiBmdW5jdGlvbiBmaW5kY2F0ZWdvcnkoZGF0YSkgewogICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgdmFyIHRleHQgPSBbJ+C4q+C4oeC4p+C4lOC4q+C4oeC4ueC5iCddOwogICAgICB2YXIgZW5kID0gWyfguKLguLXguYjguKvguYnguK0nLCAn4Lib4Lij4Liw4LmA4LiX4LioJ107CiAgICAgIHZhciBmaW5kZmRhID0gZGF0YTsKCiAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgZW5kLmxlbmd0aDsgdCsrKSB7CiAgICAgICAgaWYgKGZpbmRmZGEuaW5kZXhPZihlbmRbdF0pICE9IC0xKSB7CiAgICAgICAgICBmaW5kZmRhID0gZmluZGZkYS5zdWJzdHJpbmcoZmluZGZkYS5pbmRleE9mKHRleHRbMF0pLCBmaW5kZmRhLmluZGV4T2YoZW5kW3RdKSk7CiAgICAgICAgfQogICAgICB9IC8vIGlmIChmaW5kZmRhID09ICfguK3guLLguKvguLLguKMnKSB7CiAgICAgIC8vICAgZmluZGZkYSA9IGZpbmRmZGErIGZpbmRmZGErJ+C5gOC4quC4o+C4tOC4oScKICAgICAgLy8gfQogICAgICAvLyBjb25zb2xlLmxvZyhmaW5kZmRhKTsKCgogICAgICByZXR1cm4gZmluZGZkYTsKICAgIH0sCiAgICBmZGF0eXBlOiBmdW5jdGlvbiBmZGF0eXBlKGRhdGEpIHsKICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7CiAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgdmFyIHRleHQgPSBbJygnXTsKICAgICAgICB2YXIgZmluZGZkYSA9IGRhdGE7CgogICAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgdGV4dC5sZW5ndGg7IHQrKykgewogICAgICAgICAgZmluZGZkYSA9IGZpbmRmZGEuc3Vic3RyaW5nKGZpbmRmZGEuaW5kZXhPZigwKSwgZmluZGZkYS5pbmRleE9mKHRleHRbMF0pKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZmluZGZkYSA9ICcnOwogICAgICB9CgogICAgICByZXR1cm4gZmluZGZkYTsKICAgIH0sCiAgICBmaW5kZmRhOiBmdW5jdGlvbiBmaW5kZmRhKGRhdGEpIHsKICAgICAgdmFyIHRleHQgPSBbJ+C4q+C4oeC4suC4ouC5gOC4peC4guC5g+C4muC4reC4meC4uOC4jeC4suC4lS/guK3guKIuJ107CiAgICAgIHZhciBlbmQgPSBbJ+C4iOC4s+C4meC4p+C4mSddOwogICAgICB2YXIgZmluZGZkYSA9IGRhdGE7CgogICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IHRleHQubGVuZ3RoOyB0KyspIHsKICAgICAgICBmaW5kZmRhID0gZmluZGZkYS5zdWJzdHJpbmcoZmluZGZkYS5pbmRleE9mKHRleHRbdF0pLCBmaW5kZmRhLmluZGV4T2YoZW5kWzBdKSk7CiAgICAgIH0gLy8gY29uc29sZS5sb2coZmluZGZkYSk7CgoKICAgICAgZmluZGZkYSA9IGZpbmRmZGEucmVwbGFjZUFsbCgi4Lir4Lih4Liy4Lii4LmA4Lil4LiC4LmD4Lia4Lit4LiZ4Li44LiN4Liy4LiVL+C4reC4oi4iLCAiIik7CiAgICAgIGZpbmRmZGEgPSBmaW5kZmRhLnJlcGxhY2VBbGwoIi0iLCAiIik7CiAgICAgIGZpbmRmZGEgPSBmaW5kZmRhLnJlcGxhY2VBbGwoIuKAkyIsICIiKTsgLy8gY29uc29sZS5sb2coZmluZGZkYSk7CiAgICAgIC8vIHZhciByZWdleCA9IC9cZCsvZzsKICAgICAgLy8gdmFyIG1hdGNoZXMgPSBmaW5kZmRhLm1hdGNoKHJlZ2V4KTsgIC8vIGNyZWF0ZXMgYXJyYXkgZnJvbSBtYXRjaGVzCiAgICAgIC8vIGNvbnNvbGUubG9nKG1hdGNoZXNbMF0pOwoKICAgICAgcmV0dXJuIGZpbmRmZGE7CiAgICB9LAogICAgbG9hZGRhdGE6IGZ1bmN0aW9uIGxvYWRkYXRhKGZkYSkgewogICAgICB2YXIgdXJsID0gImh0dHBzOi8vdGF3YWlmb3JoZWFsdGgub3JnL2FwaS9vcnlvci9jaGVjay1wcm9kdWN0IjsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgIm51bWJlcl9zcmMiOiBmZGEKICAgICAgfTsKICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQWNjZXB0OiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCIKICAgICAgICB9LAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpCiAgICAgIH07CiAgICAgIGZldGNoKHVybCwgb3B0aW9ucykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgcmV0dXJuIGRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGNoZWNrZmRhOiBmdW5jdGlvbiBjaGVja2ZkYShmZGEpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKCIvZGV0YWlsLyIgKyBmZGEsICJfYmxhbmsiIC8vIDwtIFRoaXMgaXMgd2hhdCBtYWtlcyBpdCBvcGVuIGluIGEgbmV3IHdpbmRvdy4KICAgICAgICAgICAgICAgICk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuJHJvdXRlLnF1ZXJ5LmlkKTsKICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5pZCkgewogICAgICB0aGlzLmlkID0gdGhpcy4kcm91dGUucXVlcnkuaWQ7IC8vICAgICAgIHZhciBjdXR1cmwgPSB0aGlzLiRyb3V0ZS5xdWVyeS51cmwuc3BsaXQoJy8nKQogICAgICAvLyAgICAgICB2YXIgbCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnVybC5zcGxpdCgnPycpCiAgICAgIC8vICAgICAgIGNvbnNvbGUubG9nKGwpOwogICAgICAvLyAgICAgICBjb25zb2xlLmxvZyhjdXR1cmwpOwogICAgICAvLyAgICAgICAvLyBjb25zb2xlLmxvZyhlbmNvZGVVUklDb21wb25lbnQoY3V0dXJsWzNdKSk7CiAgICAgIC8vICAgICAgIHZhciBlbmNvZGV1cmwgPSBlbmNvZGVVUklDb21wb25lbnQoY3V0dXJsWzNdKQogICAgICAvLyAgICAgICB2YXIgbGVuY29kZSA9IGVuY29kZXVybC5zcGxpdCgnJTNGc3BfYXRrJScpIAogICAgICAvLyAgICAgICBjb25zb2xlLmxvZyhsZW5jb2RlKTsKICAgICAgLy8gdGhpcy51cmwgPSAnaHR0cHM6Ly9zaG9wZWUuY28udGgvJytlbmNvZGVVUklDb21wb25lbnQobGVuY29kZVswXSkrIj8iK2xbMV0KICAgICAgLy8gY29uc29sZS5sb2codGhpcy51cmwpOwoKICAgICAgdGhpcy5zZWFyY2hieWZkYSgpOwogICAgfSAvLyBjb25zb2xlLmxvZyh0aGlzLmZpbmRjYXRlZ29yeSgn4LiC4LmJ4Lit4Lih4Li54Lil4LiI4Liz4LmA4Lie4Liy4Liw4LiC4Lit4LiH4Liq4Li04LiZ4LiE4LmJ4Liy4Lir4Lih4Lin4LiU4Lir4Lih4Li54LmIU2hvcGVl4Lit4Liy4Lir4Liy4Lij4LmB4Lil4Liw4LmA4LiE4Lij4Li34LmI4Lit4LiH4LiU4Li34LmI4Lih4LmA4LiE4Lij4Li34LmI4Lit4LiH4LiU4Li34LmI4Lih4LiB4Liy4LmB4Lif4Lii4Li14LmI4Lir4LmJ4LitQmUgRWFzeSjguJrguLXguK3guLXguIvguLXguYgp4LmA4LiE4Lij4Li34LmI4Lit4LiH4LiU4Li34LmI4LihMy1pbi0xIOC5geC4peC4sOC4geC4suC5geC4n+C4quC4s+C5gOC4o+C5h+C4iOC4o+C4ueC4m+C4reC4suC4ouC4uOC4geC4suC4o+C5gOC4geC5h+C4muC4o+C4seC4geC4qeC4sjI0IOC5gOC4lOC4t+C4reC4meC4meC5ieC4s+C4q+C4meC4seC4gTE1MGfguKfguLHguJnguKvguKHguJTguK3guLLguKLguLgwOC0xMi0yMDIz4Lir4Lih4Liy4Lii4LmA4Lil4LiC4LmD4Lia4Lit4LiZ4Li44LiN4Liy4LiVL+C4reC4oi4xMy0yLTAzNjU3LTItMDA1NOC4iOC4s+C4meC4p+C4meC4quC4tOC4meC4hOC5ieC4sjk14Liq4LmI4LiH4LiI4Liy4LiB4LiI4Lix4LiH4Lir4Lin4Lix4LiU4Lib4LiX4Li44Lih4LiY4Liy4LiZ4Li14Lij4Liy4Lii4Lil4Liw4LmA4Lit4Li14Lii4LiU4Liq4Li04LiZ4LiE4LmJ4LiyQmUgRWFzeSDguJfguLXguYjguKrguLjguJTguILguK3guIfguIHguLLguYHguJ/guITguKfguJrguITguLjguKHguJnguYnguLPguKvguJnguLHguIEg4LmA4Lie4Li14Lii4LiHIDcwIEtjYWwgLSDguIHguKPguLDguIrguLHguJrguKrguLHguJTguKrguYjguKfguJkg4LmE4LiC4Lih4Lix4LiZ4Liq4LmI4Lin4LiZ4LmA4LiB4Li04LiZIC0g4LiU4Li14LiX4LmK4Lit4LiB4LiL4LmM4LiC4Lit4LiH4LmA4Liq4Li14Lii4Lit4Lit4LiB4LiI4Liy4LiB4Lij4LmI4Liy4Lii4LiB4Liy4LiiIC0g4Lic4Li04Lin4Lie4Lij4Lij4LiT4LmA4Lib4Lil4LmI4LiH4Lib4Lil4Lix4LmI4LiHIOC4geC4o+C4sOC4iOC5iOC4suC4h+C5g+C4qiAtIOC4muC4s+C4o+C4uOC4h+C4o+C5iOC4suC4h+C4geC4suC4oiDguJrguLPguKPguLjguIfguKfguKHguK3guIcg4Lih4Li14LiC4Lit4LiH4Lie4Lij4LmJ4Lit4Lih4Liq4LmI4LiH4LiV4Lil4Lit4LiUIOC4quC4seC5iOC4h+C5hOC4lOC5ieC5gOC4peC4ouC4iOC5ieC4siDguK3guKIuIOC5gOC4peC4guC4l+C4teC5iCAxMy0yLTAzNjU3LTItMDA1NCDguIHguLLguYHguJ/guJrguLXguK3guLXguIvguLXguYgg4LiB4Lil4Li04LmI4LiZ4Lir4Lit4LihIOC4o+C4quC4iuC4suC4leC4tCDguIHguKXguKHguIHguKXguYjguK3guKEg4oCc4LiE4Liy4Lib4Li54LiK4Li04LmC4LiZ4LmI4oCd4LiZ4Li44LmI4Lih4LmG4Lil4Liw4Lih4Li44LiZ4Lil4Li04LmJ4LiZIDEg4Lir4LmI4LitIOC4oeC4tSAxMCDguIvguK3guIcg4LmD4Lir4LmJ4LiV4Liy4Lii4LmA4LiW4Lit4LiwISDguIHguLLguYHguJ/guJrguYnguLLguK3guLDguYTguKPguKLguLTguYjguIfguJTguLfguYjguKHguKLguLTguYjguIfguKvguLjguYjguJnguJTguLUhIOC4meC5ieC4s+C4q+C4meC4seC4geC4peC4lCDguYDguK3guKfguJnguLXguYjguKvguJTguKXguIfguJfguLjguIHguKfguLHguJnguYYhIOC5guC4hOC4o+C4leC4q+C4reC4oSDguYLguITguKPguJXguK3guKPguYjguK3guKIg4LmC4LiE4Lij4LiV4LiB4Lil4Lih4LiB4Lil4LmI4Lit4LihIOC4peC4reC4h+C4quC4tOC5geC4peC5ieC4p+C4hOC4uOC4k+C4iOC4sOC4leC4tOC4lOC5g+C4iCEgI+C4geC4suC5geC4n+C4muC4teC4reC4teC4i+C4teC5iCAj4LiB4Liy4LmB4Lif4LiZ4Liy4LiH4Lia4Li1ICNCZWVhc3ljYXBwdWNjaW5vJykpCiAgICAvLyB2YXIgdXJsID0gJ2ZpbGU6Ly8vVXNlcnMvcG9ubmlwYS9Eb2N1bWVudHMvR2l0SHViL3Nob3BodG1sLyVGMCU5RiU4RCU5MiUyMCglRTAlQjglODIlRTAlQjglQUQlRTAlQjglODclRTAlQjklODElRTAlQjglOTclRTAlQjklODkxMDAlMjUpJTIwSmVsbHklMjBGaWJlciUyMCVFMCVCOSU4MCVFMCVCOCU4OCVFMCVCOCVBNSVFMCVCOCVBNSVFMCVCOCVCNSVFMCVCOSU4OCVFMCVCOSU4NCVFMCVCOCU5RiVFMCVCOSU4MCVFMCVCOCU5QSVFMCVCOCVBRCVFMCVCOCVBMyVFMCVCOSU4QyUyMCVFMCVCOCVBNSVFMCVCOCU5NCVFMCVCOCU5RSVFMCVCOCVCOCVFMCVCOCU4NyUyMCVFMCVCOCVBNSVFMCVCOCU5NCVFMCVCOCU5OSVFMCVCOSU4OSVFMCVCOCVCMyVFMCVCOCVBQiVFMCVCOCU5OSVFMCVCOCVCMSVFMCVCOCU4MSUyMDElRTAlQjglODElRTAlQjglQTUlRTAlQjklODglRTAlQjglQUQlRTAlQjglODdfNSUyMCVFMCVCOCU4QiVFMCVCOCVBRCVFMCVCOCU4NyUyMF8lMjBTaG9wZWUlMjBUaGFpbGFuZC5odG1sJwogICAgLy8gUHJvZHVjdHNTZXJ2aWNlLnNjcmFwaW5nKHVybCkudGhlbigocmVzKT0+ewogICAgLy8gICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAvLyB9KQoKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiBA,2C,CACA;;AACA;AACA;AACA;AACA;AACA;AAEA;AACAA,aADA;AAEAC;AAAAC;AAAA,GAFA;AAGAC,MAHA,kBAGA;AACA;AACAC,cADA;AAEAC,cAFA;AAGAC,aAHA;AAIAC,cAJA;AAKAC,mBALA;AAMAC,iBANA;AAOAC,oBAPA;AAQAC,kBARA;AASAC,mBATA;AAUAC,uBAVA;AAWAC,cAXA;AAYAC,sBAZA;AAaAC,mBAbA;AAcAC,kBAdA;AAeAC,kBAfA;AAgBAC,2CAhBA;AAiBAC,0CAjBA;AAkBAC,0CAlBA;AAmBAC;AAnBA;AAsBA,GA1BA;AA2BAC;AACAC,iBADA,yBACAxB,IADA,EACAyB,SADA,EACA;AAAA;;AACA;AACA;AACA,kDAHA,CAIA;AACA;;AACAC;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AAGA,OAVA;AAWA,KAlBA;AAmBAC,sBAnBA,8BAmBAC,QAnBA,EAmBAC,aAnBA,EAmBA;AAAA;;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACAH;AACA;AACA,0CAFA,CAGA;;AACA;AACA;AACA;AACA;AAEA,SATA;AAUA;AACA,KAvCA;AAwCAI,OAxCA,eAwCAC,IAxCA,EAwCA;AACA,+BADA,CAEA;;AACA;AACA,KA5CA;AA6CAC,eA7CA,uBA6CAC,KA7CA,EA6CAC,eA7CA,EA6CA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACAA;AACA;;AACAR;AACA;AACA;AACA,iBAHA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA,KAtDA;AAuDAS,gBAvDA,wBAuDAb,EAvDA,EAuDA;AAAA;;AACA;AACAI;AACA;AACA;AACA,OAHA,EAFA,CAOA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;;AACA,6BAlBA,CAmBA;AACA,KA3EA;AA4EAU,gBA5EA,0BA4EA;AAAA;;AACA;AACAC,iBACAC,IADA,CACA;AAAA;AAAA,OADA,EAEAA,IAFA,CAEA;AAAA;AAAA,OAFA;AAGA,KAjFA;AAkFAC,kBAlFA,0BAkFAvC,IAlFA,EAkFAwC,IAlFA,EAkFA;AACA;AACA;AACAC;AACA,KAtFA;AAuFAC,0BAvFA,kCAuFAC,QAvFA,EAuFAC,OAvFA,EAuFA;AACA;AACAH;AACAA;AACA;AACA,KA5FA;AA6FA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACAI,UA3JA,oBA2JA;AAAA;;AACA;AACA;AACAC;AADA;AAGAC;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,yCADA,CAEA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAIA,KApKA;AAqKAC,eArKA,yBAqKA;AAAA;;AACA,2BACA,kBADA,EAEA,kBAFA,EAGA,2CAHA,EAIA,0CAJA,EAKA,0CALA,EAMA,cANA;AAOAD;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACAE;AACA,mBAFA,MAEA;AAEA,8CAFA,CAGA;AACA;;AACA;;AACAC,0BANA,GAMAC,gBANA,EAOA;;AACAL,uBARA,GAQA,EARA,EASA;;AACAM,2BAVA,GAUA,EAVA,EAWA;AACA;AACA;AACA;;AACA;AACAN;AACAA;AACA,qBAHA,MAGA;AACAA;AACA,qBApBA,CAqBA;;;AACAM;AACA9B,qCADA;AAEAtB,yCAFA;AAGAkD,oCAHA;AAIAJ,8BAJA;AAKAO;AALA,uBAtBA,CA6BA;;AA7BA,2CA8BAC,CA9BA;AA+BA;AACA;AACA;AACAF;AACAA,6CAFA,CAGA;;AACA;;AACA;AACAH;AACA,uBAPA,MAOA;AACA;AACA;AAAA;AAAA,0BAFA,CAGA;;AACA;AACAM,wCADA;AAEAC;AACAC,sDADA;AAEA;AAFA,2BAFA;AAMAC;AANA;AASArB,4CACAC,IADA,CACA;AAAA;AAAA,yBADA,EAEAA,IAFA,CAEA;AACA;AACA;AACA;AACA;AACAnC;AACAA;AACAA;AACA;;AACA;AACAiD;AACAA,iDAFA,CAGA;;AACA;;AACA;AACAH;AACA;;AACA;AACAU;AACAA;AACAA;AACAA;AACAA;AACAA;AACAA;;AACA,0FAzBA,CA2BA;;;AACA,2EA5BA,CA6BA;;;AACA;;AACAC,gEA/BA,CAgCA;;AACA;AACA,gDAlCA,CAmCA;AACA;;AACA;AACA;AACA;AACAA;AACA;AACA,2BA1CA,CA2CA;;;AACAC;AACA;AACA;AACA;AACA7D;AADA;AAGA6D,uFACA;AACA,+BAFA;AAGA;AACA,2BAVA;;AAWA;;AACA;;AACA;AACAT;AACAA;AACAA;AACA,2BAJA,MAIA;AACAA;AACAA;AACAA,uEAHA,CAIA;;AACA;AACA;AACA;AACAA;AAEA,6BALA,MAKA;AACAA;AACAA;AACA;AAGA,2BA7EA,CA+EA;;;AACA;AACA;AACA;AAEA,2BApFA,CAsFA;;AACA,yBAzFA;AA2FA;AAhJA;;AA8BA;AAAA;AAmHA;AACA,mBAvJA,CAwJA;;;AAxJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AA0JA,KAvUA;AAwUAU,cAxUA,sBAwUAC,KAxUA,EAwUA;AAAA;;AACA;AACA,oEAFA,CAGA;AACA;;AACA;;AACA;AACA;AACAC;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAEAC,qBAFA,GAEA,CAFA;;AAAA;AAAA,0BAEAA,gBAFA;AAAA;AAAA;AAAA;;AAGA;AACAf,0BAJA,GAIAgB,WAJA;AAKApB,uBALA,GAKA,sBALA;AAOAM;AACAF,oCADA;AAEAJ;AAFA;;AAPA,0BAWAmB,qBAXA;AAAA;AAAA;AAAA;;AAAA,kFAaAX,CAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAcAF,cAdA;AAAA;AAAA;AAAA;;AAeAH;AAfA;AAAA;;AAAA;AAiBA3C,iCAjBA,GAiBA,oDAjBA;AAkBAH,kCAlBA,GAkBA;AAAA;AAAA,+BAlBA;AAoBAgE,qCApBA,GAoBA;AACAZ,8CADA;AAEAC;AACAC,4DADA;AAEA;AAFA,iCAFA;AAMAC;AANA,+BApBA;AAAA;AAAA,qCA6BArB,oBACAC,IADA,CACA;AAAA;AAAA,+BADA,EAEAA,IAFA,CAEA;AACA;AACA;AACAc;AACAA;AACAA;AACA,iCAJA,MAIA;AACAA;AACAA;AACAA,6EAHA,CAIA;;AAAA;AACA;AACAA;AAEA,mCAHA,MAGA;AACAA;AACAA;AACA;AACA,iCAlBA,CAoBA;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,+BA5BA,CA7BA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaAE,qBAbA,GAaA,CAbA;;AAAA;AAAA,0BAaAA,kBAbA;AAAA;AAAA;AAAA;;AAAA,0DAaAA,CAbA;;AAAA;AAaAA,uBAbA;AAAA;AAAA;;AAAA;AAEAW,uBAFA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAgEA;;AACA;AACA,KAlZA;AAmZAG,gBAnZA,wBAmZAjE,IAnZA,EAmZA;AACA;AACA;AACA;AACA;;AACA;AACA;AACAkE;AACA;AAEA,OAVA,CAWA;AACA;AACA;AACA;;;AACA;AACA,KAnaA;AAoaAT,WApaA,mBAoaAzD,IApaA,EAoaA;AACA;AACA;AACA;AACA;;AACA;AACAkE;AAEA;AACA,OAPA,MAOA;AACAA;AACA;;AACA;AACA,KAjbA;AAkbAA,WAlbA,mBAkbAlE,IAlbA,EAkbA;AACA;AACA;AACA;;AACA;AACAkE;AAEA,OAPA,CAQA;;;AAEAA;AACAA;AACAA,4CAZA,CAaA;AACA;AACA;AACA;;AACA;AACA,KApcA;AAqcAC,YArcA,oBAqcAxB,GArcA,EAqcA;AACA;AACA;AAAA;AAAA;AAEA;AACAS,sBADA;AAEAC;AACAC,oCADA;AAEA;AAFA,SAFA;AAMAC;AANA;AASArB,0BACAC,IADA,CACA;AAAA;AAAA,OADA,EAEAA,IAFA,CAEA;AACA;AACA;AACA,OALA;AAMA,KAxdA;AAydAiC,YAzdA,oBAydAzB,GAzdA,EAydA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA0B,4BACA,gBADA,EAEA,QAFA,CAEA;AAFA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AA9dA,GA3BA;AA2fAC,SA3fA,qBA2fA;AACA;AAEA;AACA,qCADA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,KAhBA,CAiBA;AACA;AACA;AACA;AACA;;AACA;AAjhBA","names":["name","components","fdacontent","data","fdaid","list","url","file","status","urlPath","imagelists","tokenize","matchname","matchcategory","type","matchnamesum","statusname","statuscat","statusfda","colorname","colorfda","colorcat","id","methods","checkfdamatch","name_real","axios","checkcategorymatch","category","category_real","cut","word","gettokenize","words","namereal_result","getimagefile","downloadHtml","fetch","then","downloadAsFile","text","link","createDownloadableLink","fileName","content","search","fda","ProductsService","searchbyfda","alert","detail","res","fdalist","cat_name","f","method","headers","Accept","body","namefull","fdatype","FDATypesService","onChangeA1","event","readXlsxFile","i","excel","options","findcategory","findfda","loaddata","checkfda","window","mounted"],"sourceRoot":"src/components","sources":["searchbyfda.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\" style=\"height: 600px\">\r\n    <div class=\"form-group mt-5\">\r\n\r\n      <label for=\"exampleFormControlTextarea1\">URL</label>\r\n      <input v-model=\"url\" class=\"form-control\" style=\"width:500px\" id=\"exampleFormControlTextarea1\"/>\r\n    </div>\r\n    <button @click=\"search()\" type=\"submit\" class=\"mb-3 btn btn-success\">\r\n      ค้นหา\r\n    </button>\r\n    <div  v-for=\"(l, i) in list\" :key=\"i\">\r\n      <h4 class=\"mt-3\">สินค้ารายการที่ {{ i+1 }}</h4>\r\n<fdacontent :fdaid=\"l.id\" class=\"mb-5\"></fdacontent></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport readXlsxFile from \"read-excel-file\";\r\n// import moment from 'moment'\r\nimport axios from \"axios\";\r\nimport ProductsService from '../services/ProductsService.js'\r\nimport FDATypesService from '../services/FDATypesService'\r\nimport fdacontent from '../components/fdacontent.vue'\r\nimport LinkService from '../services/LinkService'\r\n\r\nexport default {\r\n  name: \"App\",\r\n  components: {fdacontent},\r\n  data() {\r\n    return {\r\n      fdaid:0,\r\n      list: [],\r\n      url: '',\r\n      file: '',\r\n      status: false,\r\n      urlPath: '',\r\n      imagelists: '',\r\n      tokenize: '',\r\n      matchname:'',\r\n      matchcategory:'',\r\n      type:'',\r\n      matchnamesum:'',\r\n      statusname:0,\r\n      statuscat:0,\r\n      statusfda:0,\r\n      colorname:'background-color:#f9bdbb',\r\n      colorfda:'background-color:#f9bdbb',\r\n      colorcat:'background-color:#f9bdbb',\r\n      id:'',\r\n      \r\n    };\r\n  },\r\n  methods: {\r\n    checkfdamatch(name,name_real) {\r\n      this.matchname = ''\r\n      this.statusname = 0\r\n          this.colorname = \"background-color:#f9bdbb\"\r\n      //     console.log(name_real);\r\n      //  console.log('http://127.0.0.1:5000/matchname?name=' + name+'&&name_real=' + name_real);\r\n      axios.get(LinkService.getpythonlink()+'/matchname?name=' + name+'&&name_real=' + name_real).then((res) => {\r\n        // console.log(res.data);\r\n        this.matchname = res.data\r\n        this.matchnamesum = this.matchname.replaceAll('red','black')\r\n        if(this.matchname.includes('red')){\r\n          this.statusname = 1\r\n          this.colorname = \"background-color:#a3e9a4\"\r\n        }\r\n\r\n\r\n      });\r\n    },\r\n    checkcategorymatch(category,category_real) {\r\n      // console.log(category_real);\r\n      // console.log(category);\r\n       this.matchcategory = ''\r\n       this.statuscat = 0\r\n          this.colorcat = \"background-color:#f9bdbb\"\r\n          \r\n          if (category_real) {\r\n      //  console.log('http://127.0.0.1:5000/matchcategory?category=' + category+'&&category_real=' + category_real);\r\n      axios.get(LinkService.getpythonlink()+'/matchcategory?category=' + category+'&&category_real=' + category_real).then((res) => {\r\n        // console.log(res.data);\r\n        this.matchcategory = res.data\r\n        // console.log(this.matchcategory.includes('red'));\r\n        if(this.matchcategory.includes('red')){\r\n          this.statuscat = 1\r\n          this.colorcat = \"background-color:#a3e9a4\"\r\n        }\r\n      \r\n      });\r\n    }\r\n    },\r\n    cut(word) {\r\n      var wo = word.toString()\r\n      // wo = wo.replaceAll(' ', ' | ')\r\n      return wo\r\n    },\r\n    async gettokenize(words,namereal_result) {\r\n      // console.log(words);\r\n      if (!namereal_result) {\r\n        namereal_result = 'xxx'\r\n      }\r\n      axios.get(LinkService.getpythonlink()+'/worktoken?namereal_result=' + namereal_result+'&&text='+words).then((res) => {\r\n        // console.log(res.data);\r\n        this.tokenize = res.data\r\n      });\r\n    },\r\n    getimagefile(id) {\r\n      this.imagelists = ''\r\n      axios.get(LinkService.getpythonlink()+'/base64?id=' + id).then((res) => {\r\n        // console.log(res.data);\r\n        this.imagelists = 'data:image/jpeg;base64,'+res.data\r\n      });\r\n      \r\n      // axios.get('http://localhost:8081/getimage?path=' + folder).then((res) => {\r\n      //   // console.log(res.data);\r\n      //   for (let im = 0; im < res.data.length; im++) {\r\n      //     axios.get('http://localhost:8081/img?name=' + res.data[im]).then((res) => {\r\n      //       // console.log(res.data.base64);\r\n      //       this.imagelists.push(res.data.base64)\r\n\r\n      //     });\r\n\r\n      //   }\r\n        // console.log(this.imagelists);\r\n        return this.imagelists\r\n      // })\r\n    },\r\n    downloadHtml() {\r\n      let url = this.urlInput;\r\n      fetch(url)\r\n        .then((res) => res.text())\r\n        .then((html) => this.downloadAsFile(\"report.html\", html));\r\n    },\r\n    downloadAsFile(name, text) {\r\n      const link = this.createDownloadableLink(name, text);\r\n      const clickEvent = new MouseEvent('click');\r\n      link.dispatchEvent(clickEvent);\r\n    },\r\n    createDownloadableLink(fileName, content) {\r\n      let link = document.createElement(\"a\");\r\n      link.download = fileName;\r\n      link.href = `data:application/octet-stream,${content}`;\r\n      return link;\r\n    },\r\n    //     search(){\r\n    //       this.list = []\r\n    //       MenuService.getproduct(this.url).then().then((res)=>{\r\n    //         console.log(res.data);\r\n\r\n    //         var fdalist = []\r\n    //         var detail = res.data\r\n    //         // var detail = 'ข้อมูลจำเพาะของสินค้าหมวดหมู่Shopeeกลุ่มผลิตภัณฑ์เพื่อสุขภาพอาหารเสริมเพื่อความงามผิวยี่ห้อGlobal White(โกลบอลไวท์)หน้าที่ของอาหารเสริมสำหรับความงามคอลลาเจน, ผม ผิว และเล็บหมายเลขใบอนุญาต/อย.70-1-27160-5-0268จำนวนสินค้า258ส่งจากจังหวัดปทุมธานีรายละเอียดสินค้าหมายเลขใบอนุญาต/อย.🌼70-1-27160-5-0268อายุการเก็บรักษา 24 เดือน'\r\n    //             var fda = this.findfda(detail)\r\n\r\n    //             fdalist.push({\r\n    //               detail: detail,\r\n    //               fda: fda\r\n    //             })\r\n    //             for (let f = 0; f < fdalist.length; f++) {\r\n\r\n    // const url = \"https://tawaiforhealth.org/api/oryor/check-product\";\r\n    // const data = { \"number_src\": fdalist[f].fda };\r\n\r\n    // const options = {\r\n    //   method: \"POST\",\r\n    //   headers: {\r\n    //     Accept: \"application/json\",\r\n    //     \"Content-Type\": \"application/json;charset=UTF-8\",\r\n    //   },\r\n    //   body: JSON.stringify(data),\r\n    // };\r\n\r\n    // fetch(url, options)\r\n    //   .then((response) => response.json())\r\n    //   .then((data) => {\r\n    //     // console.log(data);\r\n    //     if (data.message) {\r\n    //       fdalist[f].status = 0\r\n    //       fdalist[f].list = []\r\n    //       fdalist[f].bg = 'background-color:#f9bdbb'\r\n    //     } else {\r\n    //       fdalist[f].list = data\r\n    //       fdalist[f].status = 1\r\n    //       fdalist[f].bg = 'background-color:#a3e9a4'\r\n    //       // console.log(data.STATUS_ID.includes(7))\r\n    //       if (data.cncnm == \"คงอยู่\") {\r\n    //       fdalist[f].icon = 'color: green'\r\n\r\n    //       }else{\r\n    //       fdalist[f].icon = 'color: red'\r\n    //       fdalist[f].bg = 'background-color:#f9bdbb'\r\n    //       }\r\n    //     }\r\n\r\n    //     // console.log(f+1, fdalist.length);\r\n    //     if (f+1 == fdalist.length) {\r\n    //  console.log(fdalist); \r\n    //  this.list = fdalist\r\n\r\n    // }\r\n    //   });\r\n\r\n\r\n    // }\r\n    //       })\r\n    //     },\r\n    search() {\r\n      this.list = []\r\n      var data = {\r\n        fda: this.url\r\n      }\r\n      ProductsService.findproductfda(data).then(async (res) => {\r\n        this.list = res.data\r\n      // }\r\n      })\r\n    },\r\n    searchbyfda() {\r\n      this.statusname=0,\r\n      this.statuscat=0,\r\n      this.statusfda=0,\r\n      this.colorname='background-color:#f9bdbb',\r\n      this.colorfda='background-color:#f9bdbb',\r\n      this.colorcat='background-color:#f9bdbb',\r\n      this.list = []\r\n      ProductsService.getproduct(this.id).then(async (res) => {\r\n        \r\n        // console.log(res.data);\r\n        if (res.data.content == '' || res.data.length == 0) {\r\n          alert('ไม่พบข้อมูลในระบบ')\r\n        } else {\r\n\r\n  this.url = res.data.url\r\n          // console.log(res.data[0].content);\r\n          // console.log(this.tokenize);\r\n          this.getimagefile(res.data.id)\r\n          var detail = res.data.content\r\n          // var detail = 'ข้อมูลจำเพาะของสินค้าหมวดหมู่Shopeeกลุ่มผลิตภัณฑ์เพื่อสุขภาพอาหารเสริมเพื่อความงามผิวยี่ห้อGlobal White(โกลบอลไวท์)หน้าที่ของอาหารเสริมสำหรับความงามคอลลาเจน, ผม ผิว และเล็บหมายเลขใบอนุญาต/อย.70-1-27160-5-0268จำนวนสินค้า258ส่งจากจังหวัดปทุมธานีรายละเอียดสินค้าหมายเลขใบอนุญาต/อย.🌼70-1-27160-5-0268อายุการเก็บรักษา 24 เดือน'\r\n          var fda = ''\r\n          // console.log(fda);\r\n          var fdalist = []\r\n          // console.log(res.data);\r\n// if (fda.length != 12) {\r\n//   alert('หมายเลขใบอนุญาตไม่ถูกต้อง')\r\n// }else{\r\n  if (res.data.fda) {\r\n  fda = res.data.fda.replaceAll(' ','')\r\n  fda = res.data.fda.replaceAll('\\n\\n','')\r\n  }else{\r\n    fda = ''\r\n  }\r\n  // console.log(fda);\r\n          fdalist.push({\r\n            id: res.data.id,\r\n            name: res.data.name,\r\n            detail: detail,\r\n            fda: fda,\r\n            cat_name:res.data.cat_name\r\n          })\r\n          // console.log(fdalist);\r\n          for (let f = 0; f < fdalist.length; f++) {\r\n            // console.log(fdalist[f].fda.length);\r\n            // console.log(fdalist[f].fda);\r\n            if (!fda || isNaN(fda) || fda ==0) { \r\n              fdalist[f].status = 0\r\n              fdalist[f].list = {}\r\n              // console.log(fdalist[f]);\r\n              this.gettokenize(fdalist[f].detail,'')\r\n              this.list = fdalist\r\n              alert('เลขอย.ของผลิตภัณฑ์นี้ไม่ถูกต้อง')\r\n            }else{\r\n            const url = \"https://tawaiforhealth.org/api/oryor/check-product\";\r\n            const data = { \"number_src\": fdalist[f].fda };\r\n// console.log(data);\r\n            const options = {\r\n              method: \"POST\",\r\n              headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json;charset=UTF-8\",\r\n              },\r\n              body: JSON.stringify(data),\r\n            };\r\n\r\n            fetch(url, options)\r\n              .then((response) => response.json())\r\n              .then((data) => {\r\n                // console.log(data);\r\n                // productha\r\n                // console.log(data.message);\r\n                if (data.message) {\r\n                  data.produceng = ''\r\n                  data.productha = ''\r\n                  data.typepro = ''\r\n                }\r\n                if (data.length > 1) {\r\n                  fdalist[f].status = 0\r\n                  fdalist[f].list = {}\r\n                  // console.log(fdalist[f]);\r\n                  this.gettokenize(fdalist[f].detail,'')\r\n                  this.list = fdalist\r\n                  alert('ไม่พบเลขอย.ในเว็บไซต์ของผลิตภัณฑ์นี้')\r\n                }\r\n                var namefull =fdalist[f].name+fdalist[f].detail\r\n                namefull = namefull.replaceAll(/([\\uE000-\\uF8FF]|\\uD83C[\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDDFF])/g, '')\r\n                namefull = namefull.replaceAll(/(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\u0023-\\u0039]\\ufe0f?\\u20e3|\\u3299|\\u3297|\\u303d|\\u3030|\\u24c2|\\ud83c[\\udd70-\\udd71]|\\ud83c[\\udd7e-\\udd7f]|\\ud83c\\udd8e|\\ud83c[\\udd91-\\udd9a]|\\ud83c[\\udde6-\\uddff]|\\ud83c[\\ude01-\\ude02]|\\ud83c\\ude1a|\\ud83c\\ude2f|\\ud83c[\\ude32-\\ude3a]|\\ud83c[\\ude50-\\ude51]|\\u203c|\\u2049|[\\u25aa-\\u25ab]|\\u25b6|\\u25c0|[\\u25fb-\\u25fe]|\\u00a9|\\u00ae|\\u2122|\\u2139|\\ud83c\\udc04|[\\u2600-\\u26FF]|\\u2b05|\\u2b06|\\u2b07|\\u2b1b|\\u2b1c|\\u2b50|\\u2b55|\\u231a|\\u231b|\\u2328|\\u23cf|[\\u23e9-\\u23f3]|[\\u23f8-\\u23fa]|\\ud83c\\udccf|\\u2934|\\u2935|[\\u2190-\\u21ff])/g, '');\r\n                namefull = namefull.replaceAll(/(\\r\\n|\\n|\\r)/gm, \"\");\r\n                namefull = namefull.replaceAll(\"_\", \"\");\r\n                namefull = namefull.replaceAll(\"!\", \"\");\r\n                namefull = namefull.replaceAll(\"*\", \"\");\r\n                namefull = namefull.replaceAll(\"#\", \"\");\r\n                  this.checkfdamatch(namefull,data.productha+data.produceng)\r\n\r\n                // console.log(fdalist[f].detail);\r\n                var cat = this.findcategory(fdalist[f].detail)\r\n                // console.log(cat);\r\n                var fdatype = this.fdatype(data.typepro)\r\n                fdatype = fdatype.replaceAll(' ','')\r\n                // console.log(fdatype);    \r\n                var name = data.productha.replaceAll('ผลิตภัณฑ์','')\r\n                this.type = fdatype\r\n                // console.log(this.type);\r\n                // console.log(data.typepro);\r\n                if (this.type == '') {\r\n                  if (data.typepro) {\r\n                    this.type = data.typepro\r\n                    fdatype = data.typepro\r\n                  }\r\n                }\r\n                // console.log(fdatype);\r\n                FDATypesService.getfdatypes(fdatype).then(()=>{\r\n                  // console.log(res.data);\r\n                  if (res.data.length == 0) {\r\n                    var cattype = {\r\n                      name:fdatype\r\n                    }\r\n                    FDATypesService.createfdatype(cattype).then(()=>{\r\n                      // console.log(res.data);\r\n                    })\r\n                  }\r\n                })\r\n                this.checkcategorymatch(cat,fdatype)\r\n                this.gettokenize(res.data.content,fdatype+name+data.produceng)\r\n                if (!data.lcnno) {\r\n                  fdalist[f].status = 0\r\n                  fdalist[f].list = []\r\n                  fdalist[f].bg = 'background-color:#f9bdbb'\r\n                } else {\r\n                  fdalist[f].list = data\r\n                  fdalist[f].status = 1\r\n                  fdalist[f].bg = 'background-color:#a3e9a4'\r\n                  // console.log(data.STATUS_ID.includes(7))\r\n                  if (data.cncnm == \"คงอยู่\") {\r\n                    this.statusfda = 1\r\n                    this.colorfda = \"background-color:#a3e9a4\"\r\n                    fdalist[f].icon = 'color: green'\r\n\r\n                  } else {\r\n                    fdalist[f].icon = 'color: red'\r\n                    fdalist[f].bg = 'background-color:#f9bdbb'\r\n                  }\r\n                  \r\n\r\n                }\r\n\r\n                // console.log(f+1, fdalist.length);\r\n                if (f + 1 == fdalist.length) {\r\n                  // console.log(fdalist);\r\n                  this.list = fdalist\r\n\r\n                }\r\n                \r\n                // console.log(this.list);\r\n              });\r\n\r\n            }\r\n          }\r\n        }\r\n      // }\r\n      })\r\n    },\r\n    onChangeA1(event) {\r\n      this.list = []\r\n      this.file = event.target.files ? event.target.files[0] : null;\r\n      // var c = '☕️[พร้อมส่ง] Cal s Coffee by Primaya กาแฟแคลเอส โกโก้แคลเอส ชาไทยแคลเอส 1 กล่อง 10 ซองน้ำหนักรักษาสัดส่วนหมายเลขอย./ใบอนุญาต1310176020080ลักษณะผงจำนวนสินค้า392ส่งจากเขตดอนเมือง, จังหวัดกรุงเทพมหานคร'\r\n      // console.log(this.findfda(c))\r\n      var fdalist = []\r\n      if (this.file) {\r\n        this.status = true\r\n        readXlsxFile(event.target.files[0]).then(async (excel) => {\r\n          // console.log(excel);\r\n          for (let i = 1; i < excel.length; i++) {\r\n            // console.log(data[i][0]);\r\n            var detail = excel[i][0]\r\n            var fda = this.findfda(detail)\r\n\r\n            fdalist.push({\r\n              detail: detail,\r\n              fda: fda\r\n            })\r\n            if (i + 1 == excel.length) {\r\n              // console.log(fdalist);\r\n              for (let f = 0; f < fdalist.length; f++) {\r\n                if (!fdalist[f].fda) {\r\n              alert('เลขอย.ของผลิตภัณฑ์นี้ไม่ถูกต้อง')\r\n            }else{\r\n                const url = \"https://tawaiforhealth.org/api/oryor/check-product\";\r\n                const data = { \"number_src\": fdalist[f].fda };\r\n\r\n                const options = {\r\n                  method: \"POST\",\r\n                  headers: {\r\n                    Accept: \"application/json\",\r\n                    \"Content-Type\": \"application/json;charset=UTF-8\",\r\n                  },\r\n                  body: JSON.stringify(data),\r\n                };\r\n\r\n                await fetch(url, options)\r\n                  .then((response) => response.json())\r\n                  .then((data) => {\r\n                    // console.log(data);\r\n                    if (data.message) {\r\n                      fdalist[f].status = 0\r\n                      fdalist[f].list = []\r\n                      fdalist[f].bg = 'background-color:#f9bdbb'\r\n                    } else {\r\n                      fdalist[f].list = data\r\n                      fdalist[f].status = 1\r\n                      fdalist[f].bg = 'background-color:#a3e9a4'\r\n                      // console.log(data.STATUS_ID.includes(7))\r\n                      if (data.cncnm == \"คงอยู่\") {\r\n                        fdalist[f].icon = 'color: green'\r\n\r\n                      } else {\r\n                        fdalist[f].icon = 'color: red'\r\n                        fdalist[f].bg = 'background-color:#f9bdbb'\r\n                      }\r\n                    }\r\n\r\n                    // console.log(f+1, fdalist.length);\r\n                    if (f + 1 == fdalist.length) {\r\n                      // console.log(fdalist);\r\n                      this.list = fdalist\r\n                      this.status = false\r\n                    }\r\n                  });\r\n\r\n                }\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n      this.file = ''\r\n    },\r\n    findcategory(data){\r\n      // console.log(data);\r\n      var text = ['หมวดหมู่']\r\n      var end = ['ยี่ห้อ','ประเทศ']\r\n      var findfda = data\r\n      for (let t = 0; t < end.length; t++) {\r\n        if (findfda.indexOf(end[t]) != -1) {\r\n          findfda = findfda.substring(findfda.indexOf(text[0]),findfda.indexOf(end[t]));    \r\n        }\r\n\r\n      }\r\n      // if (findfda == 'อาหาร') {\r\n      //   findfda = findfda+ findfda+'เสริม'\r\n      // }\r\n      // console.log(findfda);\r\n      return findfda\r\n    },\r\n    fdatype(data){\r\n      // console.log(data);\r\n      if (data) {\r\n        var text = ['(']\r\n      var findfda = data\r\n      for (let t = 0; t < text.length; t++) {\r\n        findfda = findfda.substring(findfda.indexOf(0),findfda.indexOf(text[0]));\r\n\r\n      }\r\n      }else{\r\n        findfda = ''\r\n      }\r\n      return findfda\r\n    },\r\n    findfda(data) {\r\n      var text = ['หมายเลขใบอนุญาต/อย.']\r\n      var end = ['จำนวน']\r\n      var findfda = data\r\n      for (let t = 0; t < text.length; t++) {\r\n        findfda = findfda.substring(findfda.indexOf(text[t]),findfda.indexOf(end[0]));\r\n\r\n      }\r\n      // console.log(findfda);\r\n\r\n      findfda = findfda.replaceAll(\"หมายเลขใบอนุญาต/อย.\", \"\");\r\n      findfda = findfda.replaceAll(\"-\", \"\");\r\n      findfda = findfda.replaceAll(\"–\", \"\");\r\n      // console.log(findfda);\r\n      // var regex = /\\d+/g;\r\n      // var matches = findfda.match(regex);  // creates array from matches\r\n      // console.log(matches[0]);\r\n      return findfda\r\n    },\r\n    loaddata(fda) {\r\n      const url = \"https://tawaiforhealth.org/api/oryor/check-product\";\r\n      const data = { \"number_src\": fda };\r\n\r\n      const options = {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        },\r\n        body: JSON.stringify(data),\r\n      };\r\n\r\n      fetch(url, options)\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          // console.log(data);\r\n          return data\r\n        });\r\n    },\r\n    async checkfda(fda) {\r\n      window.open(\r\n        \"/detail/\" + fda,\r\n        \"_blank\" // <- This is what makes it open in a new window.\r\n      );\r\n    }\r\n  },\r\n  mounted() {\r\n    // console.log(this.$route.query.id);\r\n   \r\n    if (this.$route.query.id) {\r\n      this.id = this.$route.query.id\r\n//       var cuturl = this.$route.query.url.split('/')\r\n//       var l = this.$route.query.url.split('?')\r\n//       console.log(l);\r\n//       console.log(cuturl);\r\n//       // console.log(encodeURIComponent(cuturl[3]));\r\n//       var encodeurl = encodeURIComponent(cuturl[3])\r\n//       var lencode = encodeurl.split('%3Fsp_atk%') \r\n//       console.log(lencode);\r\n// this.url = 'https://shopee.co.th/'+encodeURIComponent(lencode[0])+\"?\"+l[1]\r\n// console.log(this.url);\r\n      this.searchbyfda()\r\n    }\r\n    // console.log(this.findcategory('ข้อมูลจำเพาะของสินค้าหมวดหมู่Shopeeอาหารและเครื่องดื่มเครื่องดื่มกาแฟยี่ห้อBe Easy(บีอีซี่)เครื่องดื่ม3-in-1 และกาแฟสำเร็จรูปอายุการเก็บรักษา24 เดือนน้ำหนัก150gวันหมดอายุ08-12-2023หมายเลขใบอนุญาต/อย.13-2-03657-2-0054จำนวนสินค้า95ส่งจากจังหวัดปทุมธานีรายละเอียดสินค้าBe Easy ที่สุดของกาแฟควบคุมน้ำหนัก เพียง 70 Kcal - กระชับสัดส่วน ไขมันส่วนเกิน - ดีท๊อกซ์ของเสียออกจากร่ายกาย - ผิวพรรณเปล่งปลั่ง กระจ่างใส - บำรุงร่างกาย บำรุงวมอง มีของพร้อมส่งตลอด สั่งได้เลยจ้า อย. เลขที่ 13-2-03657-2-0054 กาแฟบีอีซี่ กลิ่นหอม รสชาติ กลมกล่อม “คาปูชิโน่”นุ่มๆละมุนลิ้น 1 ห่อ มี 10 ซอง ให้ตายเถอะ! กาแฟบ้าอะไรยิ่งดื่มยิ่งหุ่นดี! น้ำหนักลด เอวนี่หดลงทุกวันๆ! โครตหอม โครตอร่อย โครตกลมกล่อม ลองสิแล้วคุณจะติดใจ! #กาแฟบีอีซี่ #กาแฟนางบี #Beeasycappuccino'))\r\n    // var url = 'file:///Users/ponnipa/Documents/GitHub/shophtml/%F0%9F%8D%92%20(%E0%B8%82%E0%B8%AD%E0%B8%87%E0%B9%81%E0%B8%97%E0%B9%89100%25)%20Jelly%20Fiber%20%E0%B9%80%E0%B8%88%E0%B8%A5%E0%B8%A5%E0%B8%B5%E0%B9%88%E0%B9%84%E0%B8%9F%E0%B9%80%E0%B8%9A%E0%B8%AD%E0%B8%A3%E0%B9%8C%20%E0%B8%A5%E0%B8%94%E0%B8%9E%E0%B8%B8%E0%B8%87%20%E0%B8%A5%E0%B8%94%E0%B8%99%E0%B9%89%E0%B8%B3%E0%B8%AB%E0%B8%99%E0%B8%B1%E0%B8%81%201%E0%B8%81%E0%B8%A5%E0%B9%88%E0%B8%AD%E0%B8%87_5%20%E0%B8%8B%E0%B8%AD%E0%B8%87%20_%20Shopee%20Thailand.html'\r\n    // ProductsService.scraping(url).then((res)=>{\r\n    //   console.log(res.data);\r\n    // })\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\nhtml,\r\nbody {\r\n  height: 100%;\r\n  margin: 0px;\r\n}\r\n</style>\r\n"]}]}