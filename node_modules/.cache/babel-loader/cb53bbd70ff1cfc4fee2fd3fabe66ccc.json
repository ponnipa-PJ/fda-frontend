{"remainingRequest":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/babel-loader/lib/index.js!/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ponnipa/Documents/GitHub/fda-frontend/src/components/category.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/src/components/category.vue","mtime":1689752970071},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/babel.config.js","mtime":1677654957527},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1687492401267},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/babel-loader/lib/index.js","mtime":1687492401655},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1687492401267},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/vue-loader/lib/index.js","mtime":1687492401738}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBDYXRlZ29yeVNlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvQ2F0ZWdvcnlTZXJ2aWNlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBcHAiLAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0eXBlOiAwLAogICAgICBsaXN0OiBbXSwKICAgICAgdXJsOiAnJywKICAgICAgZmlsZTogJycsCiAgICAgIHN0YXR1czogZmFsc2UsCiAgICAgIHVybFBhdGg6ICcnLAogICAgICB0aXRsZTogJycsCiAgICAgIGRhdGE6IHt9LAogICAgICBwcm9faWQ6IDAsCiAgICAgIGNhdGVnb3J5OiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGRlbGV0ZWNhdGVnb3J5OiBmdW5jdGlvbiBkZWxldGVjYXRlZ29yeSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIENhdGVnb3J5U2VydmljZS5kZWxldGVjYXRlZ29yeSh0aGlzLnByb19pZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjbG9zZWRkZWxldGVjYXRlZ29yeSIpLmNsaWNrKCk7CgogICAgICAgIF90aGlzLmdldGNhdGVnb3J5KCk7CgogICAgICAgIGFsZXJ0KCfguJrguLHguJnguJfguLbguIHguKrguLPguYDguKPguYfguIgnKTsKICAgICAgfSk7CiAgICB9LAogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZyh0aGlzLmRhdGEpOwoKICAgICAgaWYgKHRoaXMuZGF0YS5uYW1lID09IG51bGwgfHwgdGhpcy5kYXRhLmNhdF9pZCA9PSAiIikgewogICAgICAgIGFsZXJ0KCLguIHguKPguLjguJPguLLguIHguKPguK3guIHguIrguLfguYjguK3guKvguKHguKfguJQiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgcHJvZGF0YSA9IHsKICAgICAgICAgIG5hbWU6IHRoaXMuZGF0YS5uYW1lLAogICAgICAgICAgc3RhdHVzOiAxCiAgICAgICAgfTsKICAgICAgICBjb25zb2xlLmxvZyhwcm9kYXRhKTsKCiAgICAgICAgaWYgKHRoaXMucHJvX2lkID09IDApIHsKICAgICAgICAgIENhdGVnb3J5U2VydmljZS5jcmVhdGVjYXRlZ29yeShwcm9kYXRhKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNsb3NlZGNhdGVnb3J5IikuY2xpY2soKTsKCiAgICAgICAgICAgIF90aGlzMi5nZXRjYXRlZ29yeSgpOwoKICAgICAgICAgICAgYWxlcnQoJ+C4muC4seC4meC4l+C4tuC4geC4quC4s+C5gOC4o+C5h+C4iCcpOyAvLyAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy8gICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgLy8gfSwgNTAwKTsKICAgICAgICAgICAgLy8gd2luZG93LnNjcm9sbFRvKDAsIDApOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIENhdGVnb3J5U2VydmljZS51cGRhdGVjYXRlZ29yeSh0aGlzLnByb19pZCwgcHJvZGF0YSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNsb3NlZGNhdGVnb3J5IikuY2xpY2soKTsKCiAgICAgICAgICAgIF90aGlzMi5nZXRjYXRlZ29yeSgpOwoKICAgICAgICAgICAgYWxlcnQoJ+C4muC4seC4meC4l+C4tuC4geC4quC4s+C5gOC4o+C5h+C4iCcpOyAvLyAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy8gICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgLy8gfSwgNTAwKTsKICAgICAgICAgICAgLy8gd2luZG93LnNjcm9sbFRvKDAsIDApOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZ2V0Y2F0ZWdvcnk6IGZ1bmN0aW9uIGdldGNhdGVnb3J5KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIENhdGVnb3J5U2VydmljZS5nZXRjYXRlZ29yeXMoMSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMzLmxpc3QgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0aWQ6IGZ1bmN0aW9uIGdldGlkKGlkKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy5wcm9faWQgPSBpZDsKCiAgICAgIGlmICh0aGlzLnByb19pZCAhPSAwKSB7CiAgICAgICAgdGhpcy50aXRsZSA9ICLguYHguIHguYnguYTguILguILguYnguK3guKHguLnguKXguKvguKHguKfguJTguKrguLTguJnguITguYnguLIiOyAvLyBjb25zb2xlLmxvZyh0aGlzLnVzZXJfaWQpOwoKICAgICAgICBDYXRlZ29yeVNlcnZpY2UuZ2V0Y2F0ZWdvcnkodGhpcy5wcm9faWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAgICAgX3RoaXM0LmRhdGEgPSByZXMuZGF0YTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnRpdGxlID0gIuC5gOC4nuC4tOC5iOC4oeC4guC5ieC4reC4oeC4ueC4peC4q+C4oeC4p+C4lOC4quC4tOC4meC4hOC5ieC4siI7CiAgICAgICAgdGhpcy5kYXRhID0gW107CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldGNhdGVnb3J5KCk7CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+HA;AAEA;AACAA,aADA;AAEAC,gBAFA;AAGAC,MAHA,kBAGA;AACA;AACAC,aADA;AAEAC,cAFA;AAGAC,aAHA;AAIAC,cAJA;AAKAC,mBALA;AAMAC,iBANA;AAOAC,eAPA;AAQAP,cARA;AASAQ,eATA;AAUAC;AAVA;AAYA,GAhBA;AAiBAC;AACAC,kBADA,4BACA;AAAA;;AACAC;AACAC;AACAC;;AACA;;AACAC;AACA,OALA;AAMA,KARA;AASAC,QATA,kBASA;AAAA;;AACAH;;AACA;AACAE;AACA,OAFA,MAEA;AACA;AACAjB,8BADA;AAEAO;AAFA;AAIAQ;;AACA;AACAD;AACAE;;AACA;;AACAC,kCAHA,CAIA;AACA;AACA;AACA;AACA,WARA;AASA,SAVA,MAUA;AACAH;AACA;AACAE;;AACA;;AACAC,kCAJA,CAKA;AACA;AACA;AACA;AACA,WATA;AAUA;AACA;AACA,KA1CA;AA2CAE,eA3CA,yBA2CA;AAAA;;AACAL;AACA;AACA,OAFA;AAGA,KA/CA;AAgDAM,SAhDA,iBAgDAC,EAhDA,EAgDA;AAAA;;AACA;;AACA;AACA,6CADA,CAEA;;AACAP;AACA;AACA;AACA,SAHA;AAIA,OAPA,MAOA;AACA;AACA;AACA;AACA;AA7DA,GAjBA;AAgFAQ,SAhFA,qBAgFA;AACA;AACA;AAlFA","names":["name","components","data","type","list","url","file","status","urlPath","title","pro_id","category","methods","deletecategory","CategoryService","console","document","alert","save","getcategory","getid","id","mounted"],"sourceRoot":"src/components","sources":["category.vue"],"sourcesContent":["<template>\n  <div class=\"mt-5\">\n    <div style=\"text-align:right\"> <button @click=\"getid(0)\"\n          data-bs-toggle=\"modal\"\n          data-bs-target=\"#AddProduct\"\n           type=\"submit\" class=\"mb-3 btn btn-success\">\n      <i class=\"fa fa-plus\" aria-hidden=\"true\"></i>\n    </button></div>\n      <table class=\"table\" v-if=\"list.length > 0\" width=\"100%\">\n        <thead>\n          <tr>\n            <th scope=\"col\">#</th>\n            <th scope=\"col\">หมวด</th>\n            <th scope=\"col\"></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"(l, i) in list\" :key=\"i\">\n            <td :style=\"l.bg\">{{ i + 1 }}</td>\n            <td :style=\"l.bg\">{{ l.name }}</td>\n            <td>\n            <a @click=\"getid(l.id)\">\n              <button\n                type=\"button\"\n                class=\"btn btn-warning\"\n                data-bs-toggle=\"modal\"\n                data-bs-target=\"#AddProduct\"\n              >\n                <i class=\"fa fa-edit\"></i></button\n            ></a>&nbsp;\n            <a @click=\"getid(l.id)\">\n              <button\n                type=\"button\"\n                class=\"btn btn-danger\"\n                data-bs-toggle=\"modal\"\n                data-bs-target=\"#DeleteCategory\"\n              >\n                <i class=\"fa fa-trash\"></i></button\n            ></a>\n          </td>\n          </tr>\n        </tbody>\n      </table>\n      <div v-if=\"list.length == 0\" class=\"mt-5\">\n<h3 style=\"text-align:center\">ไม่พบข้อมูล</h3>\n      </div>\n  <!-- Modal -->\n  <div\n      class=\"modal fade\"\n      id=\"AddProduct\"\n      tabindex=\"-1\"\n      aria-labelledby=\"exampleModalLabel\"\n      aria-hidden=\"true\"\n    >\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{ title }}</h5>\n            \n          </div>\n          <div class=\"modal-body\">\n            <form>\n              <div class=\"card-body mt-3\">\n                <div class=\"form-group mt-3\">\n                  <label>หมวด</label>\n                  <input\n                    v-model=\"data.name\"\n                    type=\"text\"\n                    min=\"1\"\n                    class=\"form-control form-control-sm\"\n                  />\n                </div>\n              </div>\n            </form>\n          </div>\n          <div class=\"modal-footer mt-3\">\n            <button type=\"button\" class=\"btn btn-success\" @click=\"save()\">\n              บันทึก\n            </button>\n            <button\n            id=\"closedcategory\"\n              type=\"button\"\n              class=\"btn btn-secondary\"\n              data-bs-dismiss=\"modal\"\n            >\n              ปิด\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- Modal -->\n  <div\n      class=\"modal fade\"\n      id=\"DeleteCategory\"\n      tabindex=\"-1\"\n      aria-labelledby=\"exampleModalLabel\"\n      aria-hidden=\"true\"\n    >\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">ยืนยันการลบหมวด</h5>\n            \n          </div>\n         \n          <div class=\"modal-footer mt-3\">\n            <button type=\"button\" class=\"btn btn-success\" @click=\"deletecategory()\">\n              ยืนยัน\n            </button>\n            <button\n            id=\"closeddeletecategory\"\n              type=\"button\"\n              class=\"btn btn-secondary\"\n              data-bs-dismiss=\"modal\"\n            >\n              ยกเลิก\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport CategoryService from '../services/CategoryService'\n\nexport default {\n  name: \"App\",\n  components: {},\n  data() {\n    return {\n      type: 0,\n      list: [],\n      url:'',\n      file:'',\n      status:false,\n      urlPath:'',\n      title:'',\n      data:{},\n      pro_id:0,\n      category:[]\n    };\n  },\n  methods: {\n    deletecategory(){\n      CategoryService.deletecategory(this.pro_id).then((res)=>{\n        console.log(res.data);\n        document.getElementById(\"closeddeletecategory\").click();\n        this.getcategory();\n        alert('บันทึกสำเร็จ')\n      })\n    },\n    save() {\n      console.log(this.data);\n      if (this.data.name == null || this.data.cat_id == \"\") {\n        alert(\"กรุณากรอกชื่อหมวด\");\n      } else {\n        var prodata = {\n          name: this.data.name,\n          status:1,\n        };\n        console.log(prodata);\n        if (this.pro_id == 0) {\n          CategoryService.createcategory(prodata).then(() => {\n            document.getElementById(\"closedcategory\").click();\n            this.getcategory();\n            alert('บันทึกสำเร็จ')\n            //       setTimeout(function () {\n            //   location.reload();\n            // }, 500);\n            // window.scrollTo(0, 0);\n          });\n        } else {\n          CategoryService.updatecategory(this.pro_id, prodata).then(() => {\n            // console.log(res.data);\n            document.getElementById(\"closedcategory\").click();\n            this.getcategory();\n            alert('บันทึกสำเร็จ')\n            //       setTimeout(function () {\n            //   location.reload();\n            // }, 500);\n            // window.scrollTo(0, 0);\n          });\n        }\n      }\n    },\n    getcategory(){\n      CategoryService.getcategorys(1).then((res)=>{\n        this.list = res.data\n      })\n    },\n    getid(id) {\n      this.pro_id = id;\n      if (this.pro_id != 0) {\n        this.title = \"แก้ไขข้อมูลหมวดสินค้า\";\n        // console.log(this.user_id);\n        CategoryService.getcategory(this.pro_id).then((res) => {\n          // console.log(res.data);\n          this.data = res.data;\n        });\n      } else {\n        this.title = \"เพิ่มข้อมูลหมวดสินค้า\";\n        this.data = [];\n      }\n    },\n  },\n  mounted() {\n    this.getcategory()\n  },\n};\n</script>\n\n<style>\nhtml,\nbody {\n  height: 100%;\n  margin: 0px;\n}</style>\n"]}]}