{"remainingRequest":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/babel-loader/lib/index.js!/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ponnipa/Documents/GitHub/fda-frontend/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/src/components/Login.vue","mtime":1677654957535},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/babel.config.js","mtime":1677654957527},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1687492401267},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/babel-loader/lib/index.js","mtime":1687492401655},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1687492401267},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/vue-loader/lib/index.js","mtime":1687492401738}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJsb2dpbiIsCiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGxvZ2dlZEluOiBmdW5jdGlvbiBsb2dnZWRJbigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGguc3RhdHVzLmxvZ2dlZEluOwogICAgfSwKICAgIGN1cnJlbnRVc2VyOiBmdW5jdGlvbiBjdXJyZW50VXNlcigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgudXNlcjsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNpZ25JbjogZnVuY3Rpb24gc2lnbkluKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMudXNlci51c2VybmFtZSA9PSAiIiB8fCB0aGlzLnVzZXIudXNlcm5hbWUgPT0gbnVsbCkgewogICAgICAgIGFsZXJ0KCLguIHguKPguLjguJPguLLguIHguKPguK3guIHguIrguLfguYjguK3guJzguLnguYnguYPguIrguYnguIfguLLguJkiKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnVzZXIucGFzc3dvcmQgPT0gIiIgfHwgdGhpcy51c2VyLnBhc3N3b3JkID09IG51bGwpIHsKICAgICAgICBhbGVydCgi4LiB4Lij4Li44LiT4Liy4LiB4Lij4Lit4LiB4Lij4Lir4Lix4Liq4Lic4LmI4Liy4LiZIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHVzZXIgPSB7CiAgICAgICAgICB1c2VybmFtZTogdGhpcy51c2VyLnVzZXJuYW1lLAogICAgICAgICAgcGFzc3dvcmQ6IHRoaXMudXNlci5wYXNzd29yZAogICAgICAgIH07CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImF1dGgvbG9naW4iLCB1c2VyKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL21hcHMiKTsKICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBhbGVydCgi4LiK4Li34LmI4Lit4Lir4Lij4Li34Lit4Lij4Lir4Lix4Liq4Lic4LmI4Liy4LiZ4LmE4Lih4LmI4LiW4Li54LiB4LiV4LmJ4Lit4LiHIik7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7IC8vIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgLy8gdGhpcy5tZXNzYWdlID0KICAgICAgICAgIC8vICAgKGVycm9yLnJlc3BvbnNlICYmCiAgICAgICAgICAvLyAgICAgZXJyb3IucmVzcG9uc2UuZGF0YSAmJgogICAgICAgICAgLy8gICAgIGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZSkgfHwKICAgICAgICAgIC8vICAgZXJyb3IubWVzc2FnZSB8fAogICAgICAgICAgLy8gICBlcnJvci50b1N0cmluZygpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgaWYgKHRoaXMuY3VycmVudFVzZXIpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9tYXBzIik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACAA,eADA;AAEAC,gBAFA;AAGAC,MAHA,kBAGA;AACA;AACAC;AADA;AAGA,GAPA;AAQAC;AACAC,YADA,sBACA;AACA;AACA,KAHA;AAIAC,eAJA,yBAIA;AACA;AACA;AANA,GARA;AAgBAC;AACAC,UADA,oBACA;AAAA;;AACA;AACAC;AACA,OAFA,MAEA;AACAA;AACA,OAFA,MAEA;AACA;AACAC,sCADA;AAEAC;AAFA;AAIA,sDACA;AACA;AACAC;AACAC;AAEA;AACA,WAJA,EAIA,GAJA;AAKA,SARA,EASA;AACAJ;AACAK,6BAFA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAnBA;AAqBA;AACA;AAjCA,GAhBA;AAoDAC,SApDA,qBAoDA;AACA;AACA;AACA;AACA;AAxDA","names":["name","components","data","user","computed","loggedIn","currentUser","methods","signIn","alert","username","password","setTimeout","location","console","mounted"],"sourceRoot":"src/components","sources":["Login.vue"],"sourcesContent":["<template>\n  <div class=\"card mt-5\" style=\"width: 500px\">\n    <div class=\"card-body login-card-body\">\n      <h3 class=\"login-box-msg\">เข้าสู่ระบบ</h3>\n      <form>\n        <div class=\"card-body\">\n          <div class=\"form-group\">\n            <label for=\"username\">ชื่อผู้ใช้งาน</label>\n            <input\n              v-model=\"user.username\"\n              type=\"text\"\n              min=\"1\"\n              class=\"form-control\"\n              id=\"username\"\n              placeholder=\"กรุณากรอกชื่อผู้ใช้งาน\"\n            />\n          </div>\n          <div class=\"form-group\">\n            <label for=\"password\">รหัสผ่าน</label>\n            <input\n              v-model=\"user.password\"\n              v-on:keyup.enter=\"signIn()\"\n              type=\"password\"\n              class=\"form-control\"\n              id=\"password\"\n              placeholder=\"กรุณากรอกรหัสผ่าน\"\n            />\n          </div>\n          <div class=\"social-auth-links text-center mb-3 mt-5\">\n            <!-- <a href=\"register\"><button type=\"button\" class=\"btn btn-secondary\">สมัครสมาชิก</button></a>\n            &nbsp; -->\n            <button @click=\"signIn()\" type=\"button\" class=\"btn btn-success\">เข้าสู่ระบบ</button>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n<script src=\"https://raw.githubusercontent.com/biggora/device-uuid/master/lib/device-uuid.min.js\"></script>\n\n<script>\n\nexport default {\n  name: \"login\",\n  components: {},\n  data() {\n    return {\n      user: [],\n    };\n  },\n  computed: {\n    loggedIn() {\n      return this.$store.state.auth.status.loggedIn;\n    },\n    currentUser() {\n      return this.$store.state.auth.user;\n    },\n  },\n  methods: {   \n     signIn() {\n      if (this.user.username == \"\" || this.user.username == null) {\n        alert(\"กรุณากรอกชื่อผู้ใช้งาน\");\n      } else if (this.user.password == \"\" || this.user.password == null) {\n        alert(\"กรุณากรอกรหัสผ่าน\");\n      } else {\n        var user = {\n          username: this.user.username,\n          password: this.user.password,\n        };\n        this.$store.dispatch(\"auth/login\", user).then(\n          () => {\n            this.loading = true;\n            setTimeout(function () {\n              location.reload();\n              \n            this.$router.push(\"/maps\");\n            }, 500);\n          },\n          (error) => {\n            alert(\"ชื่อหรือรหัสผ่านไม่ถูกต้อง\");\n            console.log(error);\n            // this.loading = false;\n            // this.message =\n            //   (error.response &&\n            //     error.response.data &&\n            //     error.response.data.message) ||\n            //   error.message ||\n            //   error.toString();\n          }\n        );\n      }\n    },\n    \n  },\n  mounted() {\n    if (this.currentUser) {\n      this.$router.push(\"/maps\");\n    }\n    },\n};\n</script>\n\n<style>\nbody {\n  font-family: \"Kanit\" !important;\n  color: black !important;\n}\n.card {\n  max-width: 500px;\n  margin: auto;\n  background: white;\n  padding: 10px;\n  color: black !important;\n}\n</style>"]}]}