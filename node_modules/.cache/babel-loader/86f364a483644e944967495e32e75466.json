{"remainingRequest":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/thread-loader/dist/cjs.js!/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/babel-loader/lib/index.js!/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ponnipa/Documents/GitHub/fda-frontend/src/components/graphvolumn.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/src/components/graphvolumn.vue","mtime":1677654957537},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/babel.config.js","mtime":1677654957527},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1687492401267},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1687492401222},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/babel-loader/lib/index.js","mtime":1687492401655},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1687492401267},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/vue-loader/lib/index.js","mtime":1687492401738}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmlzLWludGVnZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IE1lcmdlTGlxdW9yUmVwb3J0U2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy9NZXJnZUxpcXVvclJlcG9ydFNlcnZpY2UuanMiOwppbXBvcnQgRGV0YWlsRXhjaXNlU2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy9EZXRhaWxFeGNpc2VTZXJ2aWNlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJIZWxsb1dvcmxkIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdDogW10sCiAgICAgIGl0ZW1QcmV2aWV3SW1hZ2U6ICIiLAogICAgICBpZDogIiIsCiAgICAgIGl0ZW06IFtdLAogICAgICBkYXRhOiBbXSwKICAgICAgaW1nOiAiIiwKICAgICAgaW1hZ2U6ICIiLAogICAgICBuZXRfdGF4OiBbXSwKICAgICAgc3RhcnRkYXRlOiAiIiwKICAgICAgZW5kZGF0ZTogIiIsCiAgICAgIGZhY3RvcnlfY29kZTogIiIsCiAgICAgIHllYXJjdXJyZW50OiAiIiwKICAgICAgbmV3bGlzdDogW10sCiAgICAgIHRibW9udGg6IFt7CiAgICAgICAgbW9udGg6IDEwCiAgICAgIH0sIHsKICAgICAgICBtb250aDogMTEKICAgICAgfSwgewogICAgICAgIG1vbnRoOiAxMgogICAgICB9LCB7CiAgICAgICAgbW9udGg6IDEKICAgICAgfSwgewogICAgICAgIG1vbnRoOiAyCiAgICAgIH0sIHsKICAgICAgICBtb250aDogMwogICAgICB9LCB7CiAgICAgICAgbW9udGg6IDQKICAgICAgfSwgewogICAgICAgIG1vbnRoOiA1CiAgICAgIH0sIHsKICAgICAgICBtb250aDogNgogICAgICB9LCB7CiAgICAgICAgbW9udGg6IDcKICAgICAgfSwgewogICAgICAgIG1vbnRoOiA4CiAgICAgIH0sIHsKICAgICAgICBtb250aDogOQogICAgICB9XSwKICAgICAgdGJzaXplOiBbMC4zMywgMC42MjUsIDAuNjMsIDAuNywgMC43NV0sCiAgICAgIGhlYWRlcjogW10sCiAgICAgIGNvbnRlbnQ6IFtdLAogICAgICB0YnllYXI6IFtdLAogICAgICBiZWZvcmU6IFtdLAogICAgICBjdXJyZW50OiBbXSwKICAgICAgdGF4bGlzdDogW10sCiAgICAgIHN1bW11bmJlcjogMCwKICAgICAgc3VtbXVuYmVyeTogMCwKICAgICAgc3Vtdm9sdW1lX2xpcXVvcjogMCwKICAgICAgc3Vtdm9sdW1lX2xpcXVvcnk6IDAsCiAgICAgIHN1bW11bmJlcnR3bzogMCwKICAgICAgc3VtbXVuYmVyeXR3bzogMCwKICAgICAgc3Vtdm9sdW1lX2xpcXVvcnR3bzogMCwKICAgICAgc3Vtdm9sdW1lX2xpcXVvcnl0d286IDAsCiAgICAgIGRpZnN1bW11bmJlcjogMCwKICAgICAgZGlmc3Vtdm9sdW1lX2xpcXVvcjogMCwKICAgICAgZGlmc3VtbXVuYmVydHdvOiAwLAogICAgICBkaWZzdW12b2x1bWVfbGlxdW9ydHdvOiAwLAogICAgICB0YXhkYXRhYmVmb3JlOiBbXSwKICAgICAgc3VtdGhyZWV0aHJlZTogMCwKICAgICAgc3Vtc2l4dGhyZWU6IDAsCiAgICAgIHN1bXNpeHR3b2ZpdmU6IDAsCiAgICAgIHN1bXNldmVuOiAwLAogICAgICBzdW1zZXZlbmZpdmU6IDAsCiAgICAgIHRheGRhdGFjdXJyZW50OiBbXSwKICAgICAgc3VtdGhyZWV0aHJlZWM6IDAsCiAgICAgIHN1bXNpeHRocmVlYzogMCwKICAgICAgc3Vtc2l4dHdvZml2ZWM6IDAsCiAgICAgIHN1bXNldmVuYzogMCwKICAgICAgc3Vtc2V2ZW5maXZlYzogMCwKICAgICAgc3VtdGF4OiAwLAogICAgICBzdW10YXh5OiAwLAogICAgICBzdW10YXh0d286IDAsCiAgICAgIHN1bXRheHl0d286IDAsCiAgICAgIGRpZnN1bXRheDogMCwKICAgICAgZGlmc3VtdGF4dHdvOiAwLAogICAgICBwZXJjZW50YWdlOiAwLAogICAgICBwZXJjZW50YWdldHdvOiAwLAogICAgICBtb250aHM6ICIiLAogICAgICBjaGFydE9wdGlvbnM6IHt9LAogICAgICBzZXJpZXM6IFtdLAogICAgICB2b2x1bWVfbGlxdW9yYmVmb3JlOiBbXSwKICAgICAgdm9sdW1lX2xpcXVvcmN1cnJlbnQ6IFtdLAogICAgICBtb250aHR2b2x1bW5hYmxlOiBbXQogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBtc2c6IFN0cmluZwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgZCA9IG5ldyBEYXRlKCk7CiAgICB0aGlzLnllYXJjdXJyZW50ID0gcGFyc2VJbnQoZC5nZXRGdWxsWWVhcigpICsgNTQzKTsKICAgIHRoaXMubW9udGhzID0gcGFyc2VJbnQoZC5nZXRNb250aCgpKTsgLy8gY29uc29sZS5sb2codGhpcy4kcm91dGUucGFyYW1zLmlkKTsKCiAgICB0aGlzLmZhY3RvcnlfY29kZSA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgIHRoaXMubG9hZGRhdGEoKTsKICAgIHRoaXMuZ2V0aGVhZGVyKCk7CiAgICB0aGlzLmxvYWRjaGFydE9wdGlvbnMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNhbGRpZmY6IGZ1bmN0aW9uIGNhbGRpZmYoeCwgeSkgewogICAgICAvLyBjb25zb2xlLmxvZyh4LHkpOwogICAgICBpZiAoaXNOYU4oeCkpIHsKICAgICAgICB4ID0gMDsKICAgICAgfQoKICAgICAgaWYgKGlzTmFOKHkpKSB7CiAgICAgICAgeSA9IDA7CiAgICAgIH0KCiAgICAgIHZhciByID0gMDsKCiAgICAgIGlmICh4ID09IHkpIHsKICAgICAgICByID0gMDsKICAgICAgfQoKICAgICAgciA9IHggLSB5OyAvLyBjb25zb2xlLmxvZyhyKTsKCiAgICAgIHJldHVybiByOwogICAgfSwKICAgIGNhbHBlcmNlbnRhZ2U6IGZ1bmN0aW9uIGNhbHBlcmNlbnRhZ2UoeCwgeSkgewogICAgICB2YXIgciA9IDA7CiAgICAgIHZhciBpc2NoZWNrID0gTnVtYmVyLmlzSW50ZWdlcih4KTsKCiAgICAgIGlmIChpc2NoZWNrKSB7CiAgICAgICAgdmFyIGEgPSB4IC8geTsKICAgICAgICByID0gcGFyc2VGbG9hdChhICogMTAwKS50b0ZpeGVkKDIpOyAvLyBjb25zb2xlLmxvZyhyKTsKCiAgICAgICAgaWYgKHIgPT0gSW5maW5pdHkpIHsKICAgICAgICAgIHIgPSAwOwogICAgICAgIH0KCiAgICAgICAgaWYgKGlzTmFOKHIpKSB7CiAgICAgICAgICByID0gIiI7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHIgPSAiIjsKICAgICAgfQoKICAgICAgcmV0dXJuIHI7CiAgICB9LAogICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2goKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvLyB2YXIgc3RhcnRkYXRlID0gdGhpcy5jb252ZXJ0ZGF0ZXNvcnQodGhpcy5zdGFydGRhdGUpOwogICAgICAvLyB2YXIgZW5kZGF0ZSA9IHRoaXMuY29udmVydGRhdGVzb3J0KHRoaXMuZW5kZGF0ZSk7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZW5kZGF0ZSk7CiAgICAgIE1lcmdlTGlxdW9yUmVwb3J0U2VydmljZS5nZXRSZXBvcnRMaXF1b3JUYXgodGhpcy5mYWN0b3J5X2NvZGUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmxpc3QgPSBbXTsKICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzLmRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIC8vIGlmIChyZXMuZGF0YVtpXS5mYWN0b3J5X2NvZGUgPT0gcmVzLmRhdGFbaSAtIDFdLmZhY3RvcnlfY29kZSkgewogICAgICAgICAgLy8gc3VtX25ldF90YXggPSByZXMuZGF0YVtpXS5uZXQgKyByZXMuZGF0YVtpIC0gMV0ubmV0OwogICAgICAgICAgLy8gfQogICAgICAgICAgX3RoaXMubGlzdC5wdXNoKHsKICAgICAgICAgICAgdGF4X3BheW1lbnRfZGF0ZTogX3RoaXMuY29udmVydGRhdGV0b3RoYWkocmVzLmRhdGFbaV0udGF4X3BheW1lbnRfZGF0ZSksCiAgICAgICAgICAgIG5vOiByZXMuZGF0YVtpXS5ubywKICAgICAgICAgICAgZmFjdG9yeV9jb2RlOiByZXMuZGF0YVtpXS5mYWN0b3J5X2NvZGUsCiAgICAgICAgICAgIGJyYW5kX25hbWU6IHJlcy5kYXRhW2ldLmJyYW5kX25hbWUsCiAgICAgICAgICAgIG51bWJlcjogcmVzLmRhdGFbaV0ubnVtYmVyLAogICAgICAgICAgICBkZWdyZWU6IHJlcy5kYXRhW2ldLmRlZ3JlZSwKICAgICAgICAgICAgc2l6ZTogcmVzLmRhdGFbaV0uc2l6ZSwKICAgICAgICAgICAgcGVyX2VhY2g6IHJlcy5kYXRhW2ldLnBlcl9lYWNoLAogICAgICAgICAgICB2b2x1bWVfbGlxdW9yOiByZXMuZGF0YVtpXS52b2x1bWVfbGlxdW9yLAogICAgICAgICAgICBuZXQ6IF90aGlzLmNhbChyZXMuZGF0YVtpXS5mYWN0b3J5X2NvZGUsIHJlcy5kYXRhW2ldLm51bWJlciwgcmVzLmRhdGFbaV0ucGVyX2VhY2gsIHJlcy5kYXRhW2ldLmRlZ3JlZSwgcmVzLmRhdGFbaV0uc2l6ZSksCiAgICAgICAgICAgIGNvbG91cjogInRhYmxlLXN1Y2Nlc3MiCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIF90aGlzLmNhbF9uZXRfdGF4KCk7CiAgICAgIH0pOwogICAgfSwKICAgIGNvbnZlcnRkYXRlc29ydDogZnVuY3Rpb24gY29udmVydGRhdGVzb3J0KGRhdGUpIHsKICAgICAgdmFyIHN0cmVldGFkZHJlc3MgPSBTdHJpbmcoZGF0ZSk7IC8vIGNvbnNvbGUubG9nKHN0cmVldGFkZHJlc3MpOwoKICAgICAgdmFyIHkgPSBzdHJlZXRhZGRyZXNzLnN1YnN0cmluZygwLCBzdHJlZXRhZGRyZXNzLmluZGV4T2YoIi0iKSk7CiAgICAgIHZhciBtID0gc3RyZWV0YWRkcmVzcy5zdWJzdHJpbmcoNywgc3RyZWV0YWRkcmVzcy5pbmRleE9mKCItIikpOwogICAgICBtID0gbS5zdWJzdHJpbmcoMSwgMyk7CiAgICAgIHZhciBkID0gc3RyZWV0YWRkcmVzcy5zdWJzdHJpbmcoOCwgMTApOwogICAgICB5ID0gcGFyc2VJbnQoeSkgKyA1NDM7CiAgICAgIHZhciBmdWxsID0geSArICItIiArIG0gKyAiLSIgKyBkOyAvLyBjb25zb2xlLmxvZyhkKQogICAgICAvLyBjb25zb2xlLmxvZyhtKQogICAgICAvLyBjb25zb2xlLmxvZyh5KTsKICAgICAgLy8gY29uc29sZS5sb2coZnVsbCk7CiAgICAgIC8vIHZhciB0aW1lc3RhbXAgPSBEYXRlLnBhcnNlKGZ1bGwpOwogICAgICAvLyB2YXIgZGF0ZU9iamVjdCA9IG5ldyBEYXRlKHRpbWVzdGFtcCk7CiAgICAgIC8vIGRhdGVPYmplY3Quc2V0RGF0ZShkYXRlT2JqZWN0LmdldERhdGUoKSArIDEpOwogICAgICAvLyBjb25zb2xlLmxvZyhkYXRlT2JqZWN0KTsKICAgICAgLy8gY29uc3QgcmVzdWx0ID0gZGF0ZU9iamVjdC50b0xvY2FsZURhdGVTdHJpbmcoImVuLUVOIik7CiAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3VsdCk7CgogICAgICByZXR1cm4gZnVsbDsKICAgIH0sCiAgICBnZXRoZWFkZXI6IGZ1bmN0aW9uIGdldGhlYWRlcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnRieWVhciA9IFt0aGlzLnllYXJjdXJyZW50LCB0aGlzLnllYXJjdXJyZW50IC0gMSwgdGhpcy55ZWFyY3VycmVudCAtIDJdOwogICAgICB0aGlzLnNob3cgPSB0cnVlOwogICAgICBEZXRhaWxFeGNpc2VTZXJ2aWNlLmdldERldGFpbEV4Y2lzZSh0aGlzLmZhY3RvcnlfY29kZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLmRhdGEgPSByZXMuZGF0YTsgLy8gY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICB9KTsKICAgICAgTWVyZ2VMaXF1b3JSZXBvcnRTZXJ2aWNlLmdldFJlcG9ydExpcXVvclRheEhlYWRlcih0aGlzLmZhY3RvcnlfY29kZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLmhlYWRlciA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgICAgTWVyZ2VMaXF1b3JSZXBvcnRTZXJ2aWNlLmdldFJlcG9ydExpcXVvclRheERldGFpbCh0aGlzLmZhY3RvcnlfY29kZSwgU3RyaW5nKHRoaXMueWVhcmN1cnJlbnQgLSAyICsgIi0xMC0wMSIpLCBTdHJpbmcodGhpcy55ZWFyY3VycmVudCAtIDEgKyAiLTEwLTAxIikpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5iZWZvcmUgPSByZXMuZGF0YTsgLy8gY29uc29sZS5sb2codGhpcy5iZWZvcmUpOwoKICAgICAgICBNZXJnZUxpcXVvclJlcG9ydFNlcnZpY2UuZ2V0UmVwb3J0TGlxdW9yVGF4RGV0YWlsKF90aGlzMi5mYWN0b3J5X2NvZGUsIFN0cmluZyhfdGhpczIueWVhcmN1cnJlbnQgLSAxICsgIi0xMC0wMSIpLCBTdHJpbmcoX3RoaXMyLnllYXJjdXJyZW50ICsgIi0wOS0wMSIpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzMi5jdXJyZW50ID0gcmVzLmRhdGE7IC8vIHRoaXMuY29udGVudCA9IHRoaXMuY3VycmVudDsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuYmVmb3JlKTsKCiAgICAgICAgICBmb3IgKHZhciBoaCA9IDA7IGhoIDwgX3RoaXMyLnRibW9udGgubGVuZ3RoOyBoaCsrKSB7CiAgICAgICAgICAgIGZvciAodmFyIGhoaCA9IDA7IGhoaCA8IF90aGlzMi5oZWFkZXIubGVuZ3RoOyBoaGgrKykgewogICAgICAgICAgICAgIF90aGlzMi5jb250ZW50LnB1c2goewogICAgICAgICAgICAgICAgbW9udGg6IF90aGlzMi50Ym1vbnRoW2hoXS5tb250aCwKICAgICAgICAgICAgICAgIHNpemU6IF90aGlzMi5oZWFkZXJbaGhoXS5zaXplLAogICAgICAgICAgICAgICAgZGVncmVlOiBfdGhpczIuaGVhZGVyW2hoaF0uZGVncmVlLAogICAgICAgICAgICAgICAgYnJhbmRfbmFtZTogX3RoaXMyLmhlYWRlcltoaGhdLmJyYW5kX25hbWUsCiAgICAgICAgICAgICAgICBzdW1tdW5iZXI6IDAsCiAgICAgICAgICAgICAgICBzdW12b2x1bWVfbGlxdW9yOiAwLAogICAgICAgICAgICAgICAgc3VtbXVuYmVyeTogMCwKICAgICAgICAgICAgICAgIHN1bXZvbHVtZV9saXF1b3J5OiAwCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBmb3IgKHZhciBjYyA9IDA7IGNjIDwgX3RoaXMyLmN1cnJlbnQubGVuZ3RoOyBjYysrKSB7CiAgICAgICAgICAgIGZvciAodmFyIGNvbiA9IDA7IGNvbiA8IF90aGlzMi5jb250ZW50Lmxlbmd0aDsgY29uKyspIHsKICAgICAgICAgICAgICBpZiAoX3RoaXMyLmN1cnJlbnRbY2NdLm1vbnRoID09IF90aGlzMi5jb250ZW50W2Nvbl0ubW9udGggJiYgX3RoaXMyLmN1cnJlbnRbY2NdLnNpemUgPT0gX3RoaXMyLmNvbnRlbnRbY29uXS5zaXplKSB7CiAgICAgICAgICAgICAgICBfdGhpczIuY29udGVudFtjb25dLnN1bW11bmJlcnkgPSBfdGhpczIuY3VycmVudFtjY10uc3VtbXVuYmVyOwogICAgICAgICAgICAgICAgX3RoaXMyLmNvbnRlbnRbY29uXS5zdW12b2x1bWVfbGlxdW9yeSA9IF90aGlzMi5jdXJyZW50W2NjXS5zdW12b2x1bWVfbGlxdW9yOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGZvciAodmFyIGIgPSAwOyBiIDwgX3RoaXMyLmNvbnRlbnQubGVuZ3RoOyBiKyspIHsKICAgICAgICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBfdGhpczIuYmVmb3JlLmxlbmd0aDsgYysrKSB7CiAgICAgICAgICAgICAgaWYgKF90aGlzMi5iZWZvcmVbY10ubW9udGggPT0gX3RoaXMyLmNvbnRlbnRbYl0ubW9udGggJiYgX3RoaXMyLmJlZm9yZVtjXS5zaXplID09IF90aGlzMi5jb250ZW50W2JdLnNpemUpIHsKICAgICAgICAgICAgICAgIF90aGlzMi5jb250ZW50W2JdLnN1bW11bmJlciA9IF90aGlzMi5iZWZvcmVbY10uc3VtbXVuYmVyOwogICAgICAgICAgICAgICAgX3RoaXMyLmNvbnRlbnRbYl0uc3Vtdm9sdW1lX2xpcXVvciA9IF90aGlzMi5iZWZvcmVbY10uc3Vtdm9sdW1lX2xpcXVvcjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gLy8gY29uc29sZS5sb2codGhpcy5jb250ZW50KTsKCgogICAgICAgICAgX3RoaXMyLnN1bW1vbnRoKCk7IC8vIGNvbnNvbGUubG9nKHRoaXMuaGVhZGVyLmxlbmd0aCk7CgoKICAgICAgICAgIGlmIChfdGhpczIuaGVhZGVyLmxlbmd0aCA9PSAyKSB7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMyLmNvbnRlbnQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICBpZiAoaSA9PSAwIHx8IGkgPT0gMyB8fCBpID09IDYgfHwgaSA9PSA5IHx8IGkgPT0gMTIgfHwgaSA9PSAxNSB8fCBpID09IDE4IHx8IGkgPT0gMjEgfHwgaSA9PSAyNCB8fCBpID09IDI3IHx8IGkgPT0gMzAgfHwgaSA9PSAzMyB8fCBpID09IDM2KSB7CiAgICAgICAgICAgICAgICB2YXIgbW9udGhUSCA9ICIiOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczIuY29udGVudFtpXS5tb250aCA9PSAxMCkgewogICAgICAgICAgICAgICAgICBtb250aFRIID0gIuC4leC4uOC4peC4suC4hOC4oSI7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMi5jb250ZW50W2ldLm1vbnRoID09IDExKSB7CiAgICAgICAgICAgICAgICAgIG1vbnRoVEggPSAi4Lie4Lik4Lio4LiI4Li04LiB4Liy4Lii4LiZIjsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyLmNvbnRlbnRbaV0ubW9udGggPT0gMTIpIHsKICAgICAgICAgICAgICAgICAgbW9udGhUSCA9ICLguJjguLHguJnguKfguLLguITguKEiOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczIuY29udGVudFtpXS5tb250aCA9PSAxKSB7CiAgICAgICAgICAgICAgICAgIG1vbnRoVEggPSAi4Lih4LiB4Lij4Liy4LiE4LihIjsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyLmNvbnRlbnRbaV0ubW9udGggPT0gMikgewogICAgICAgICAgICAgICAgICBtb250aFRIID0gIuC4geC4uOC4oeC4oOC4suC4nuC4seC4meC4mOC5jCI7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMi5jb250ZW50W2ldLm1vbnRoID09IDMpIHsKICAgICAgICAgICAgICAgICAgbW9udGhUSCA9ICLguKHguLXguJnguLLguITguKEiOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczIuY29udGVudFtpXS5tb250aCA9PSA0KSB7CiAgICAgICAgICAgICAgICAgIG1vbnRoVEggPSAi4LmA4Lih4Lip4Liy4Lii4LiZIjsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyLmNvbnRlbnRbaV0ubW9udGggPT0gNSkgewogICAgICAgICAgICAgICAgICBtb250aFRIID0gIuC4nuC4pOC4qeC4oOC4suC4hOC4oSI7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMi5jb250ZW50W2ldLm1vbnRoID09IDYpIHsKICAgICAgICAgICAgICAgICAgbW9udGhUSCA9ICLguKHguLTguJbguLjguJnguLLguKLguJkiOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczIuY29udGVudFtpXS5tb250aCA9PSA3KSB7CiAgICAgICAgICAgICAgICAgIG1vbnRoVEggPSAi4LiB4Lij4LiB4LiO4Liy4LiE4LihIjsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyLmNvbnRlbnRbaV0ubW9udGggPT0gOCkgewogICAgICAgICAgICAgICAgICBtb250aFRIID0gIuC4quC4tOC4h+C4q+C4suC4hOC4oSI7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMi5jb250ZW50W2ldLm1vbnRoID09IDkpIHsKICAgICAgICAgICAgICAgICAgbW9udGhUSCA9ICLguIHguLHguJnguKLguLLguKLguJkiOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMi5jb250ZW50LnNwbGljZShbaV0sIDAsIHsKICAgICAgICAgICAgICAgICAgbW9udGg6IG1vbnRoVEgsCiAgICAgICAgICAgICAgICAgIHN1bW11bmJlcjogX3RoaXMyLmNvbnRlbnRbaV0uc3VtbXVuYmVyICsgX3RoaXMyLmNvbnRlbnRbaSArIDFdLnN1bW11bmJlciwKICAgICAgICAgICAgICAgICAgc3VtbXVuYmVyeTogX3RoaXMyLmNvbnRlbnRbaV0uc3VtbXVuYmVyeSArIF90aGlzMi5jb250ZW50W2kgKyAxXS5zdW1tdW5iZXJ5LAogICAgICAgICAgICAgICAgICBzdW12b2x1bWVfbGlxdW9yOiBfdGhpczIuY29udGVudFtpXS5zdW12b2x1bWVfbGlxdW9yICsgX3RoaXMyLmNvbnRlbnRbaSArIDFdLnN1bXZvbHVtZV9saXF1b3IsCiAgICAgICAgICAgICAgICAgIHN1bXZvbHVtZV9saXF1b3J5OiBfdGhpczIuY29udGVudFtpXS5zdW12b2x1bWVfbGlxdW9yeSArIF90aGlzMi5jb250ZW50W2kgKyAxXS5zdW12b2x1bWVfbGlxdW9yeSwKICAgICAgICAgICAgICAgICAgc3VtdGF4OiBfdGhpczIuY29udGVudFtpXS5zdW10YXggKyBfdGhpczIuY29udGVudFtpICsgMV0uc3VtdGF4LAogICAgICAgICAgICAgICAgICBzdW10YXh5OiBfdGhpczIuY29udGVudFtpXS5zdW10YXh5ICsgX3RoaXMyLmNvbnRlbnRbaSArIDFdLnN1bXRheHksCiAgICAgICAgICAgICAgICAgIGNvbG91cjogImZvbnQtd2VpZ2h0OiBib2xkIgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsvLyB0aGlzLmNvbnRlbnRbaV0ubW9udGggPSAxKwogICAgICAgICAgICAgICAgLy8gICB0aGlzLmNvbnRlbnRbaV0uYnJhbmRfbmFtZSArCiAgICAgICAgICAgICAgICAvLyAgICItIiArCiAgICAgICAgICAgICAgICAvLyAgIHRoaXMuY29udGVudFtpXS5kZWdyZWUgKwogICAgICAgICAgICAgICAgLy8gICAiLSIgKwogICAgICAgICAgICAgICAgLy8gICB0aGlzLmNvbnRlbnRbaV0uc2l6ZTsKICAgICAgICAgICAgICB9IC8vIGlmIChpID09IDM0KSB7CiAgICAgICAgICAgICAgLy8gICB0aGlzLmNvbnRlbnQuc3BsaWNlKFtpICsgMV0sIDAsIHsKICAgICAgICAgICAgICAvLyAgICAgbW9udGg6ICLguKPguKfguKEiLAogICAgICAgICAgICAgIC8vICAgICBzdW1tdW5iZXI6CiAgICAgICAgICAgICAgLy8gICAgICAgdGhpcy5jb250ZW50W2kgLSAxXS5zdW1tdW5iZXIgKyB0aGlzLmNvbnRlbnRbaV0uc3VtbXVuYmVyLAogICAgICAgICAgICAgIC8vICAgICBzdW1tdW5iZXJ5OgogICAgICAgICAgICAgIC8vICAgICAgIHRoaXMuY29udGVudFtpIC0gMV0uc3VtbXVuYmVyeSArIHRoaXMuY29udGVudFtpXS5zdW1tdW5iZXJ5LAogICAgICAgICAgICAgIC8vICAgICBzdW12b2x1bWVfbGlxdW9yOgogICAgICAgICAgICAgIC8vICAgICAgIHRoaXMuY29udGVudFtpIC0gMV0uc3Vtdm9sdW1lX2xpcXVvciArCiAgICAgICAgICAgICAgLy8gICAgICAgdGhpcy5jb250ZW50W2ldLnN1bXZvbHVtZV9saXF1b3IsCiAgICAgICAgICAgICAgLy8gICAgIHN1bXZvbHVtZV9saXF1b3J5OgogICAgICAgICAgICAgIC8vICAgICAgIHRoaXMuY29udGVudFtpIC0gMV0uc3Vtdm9sdW1lX2xpcXVvcnkgKwogICAgICAgICAgICAgIC8vICAgICAgIHRoaXMuY29udGVudFtpXS5zdW12b2x1bWVfbGlxdW9yeSwKICAgICAgICAgICAgICAvLyAgICAgc3VtdGF4OiB0aGlzLmNvbnRlbnRbaSAtIDFdLnN1bXRheCArIHRoaXMuY29udGVudFtpXS5zdW10YXgsCiAgICAgICAgICAgICAgLy8gICAgIHN1bXRheHk6CiAgICAgICAgICAgICAgLy8gICAgICAgdGhpcy5jb250ZW50W2kgLSAxXS5zdW10YXh5ICsgdGhpcy5jb250ZW50W2ldLnN1bXRheHksCiAgICAgICAgICAgICAgLy8gICAgIGNvbG91cjogImZvbnQtd2VpZ2h0OiBib2xkIiwKICAgICAgICAgICAgICAvLyAgIH0pOwogICAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgX3RoaXMyLmNvbnRlbnQubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICB2YXIgbW9udGhUSDEgPSAiIjsKCiAgICAgICAgICAgICAgaWYgKF90aGlzMi5jb250ZW50W2pdLm1vbnRoID09IDEwKSB7CiAgICAgICAgICAgICAgICBtb250aFRIMSA9ICLguJXguLjguKXguLLguITguKEiOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyLmNvbnRlbnRbal0ubW9udGggPT0gMTEpIHsKICAgICAgICAgICAgICAgIG1vbnRoVEgxID0gIuC4nuC4pOC4qOC4iOC4tOC4geC4suC4ouC4mSI7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczIuY29udGVudFtqXS5tb250aCA9PSAxMikgewogICAgICAgICAgICAgICAgbW9udGhUSDEgPSAi4LiY4Lix4LiZ4Lin4Liy4LiE4LihIjsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMi5jb250ZW50W2pdLm1vbnRoID09IDEpIHsKICAgICAgICAgICAgICAgIG1vbnRoVEgxID0gIuC4oeC4geC4o+C4suC4hOC4oSI7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczIuY29udGVudFtqXS5tb250aCA9PSAyKSB7CiAgICAgICAgICAgICAgICBtb250aFRIMSA9ICLguIHguLjguKHguKDguLLguJ7guLHguJnguJjguYwiOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyLmNvbnRlbnRbal0ubW9udGggPT0gMykgewogICAgICAgICAgICAgICAgbW9udGhUSDEgPSAi4Lih4Li14LiZ4Liy4LiE4LihIjsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMi5jb250ZW50W2pdLm1vbnRoID09IDQpIHsKICAgICAgICAgICAgICAgIG1vbnRoVEgxID0gIuC5gOC4oeC4qeC4suC4ouC4mSI7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczIuY29udGVudFtqXS5tb250aCA9PSA1KSB7CiAgICAgICAgICAgICAgICBtb250aFRIMSA9ICLguJ7guKTguKnguKDguLLguITguKEiOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyLmNvbnRlbnRbal0ubW9udGggPT0gNikgewogICAgICAgICAgICAgICAgbW9udGhUSDEgPSAi4Lih4Li04LiW4Li44LiZ4Liy4Lii4LiZIjsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMi5jb250ZW50W2pdLm1vbnRoID09IDcpIHsKICAgICAgICAgICAgICAgIG1vbnRoVEgxID0gIuC4geC4o+C4geC4juC4suC4hOC4oSI7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczIuY29udGVudFtqXS5tb250aCA9PSA4KSB7CiAgICAgICAgICAgICAgICBtb250aFRIMSA9ICLguKrguLTguIfguKvguLLguITguKEiOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyLmNvbnRlbnRbal0ubW9udGggPT0gOSkgewogICAgICAgICAgICAgICAgbW9udGhUSDEgPSAi4LiB4Lix4LiZ4Lii4Liy4Lii4LiZIjsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF90aGlzMi5jb250ZW50W2pdLm1vbnRoID0gbW9udGhUSDE7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczIuY29udGVudCk7CgogICAgICAgICAgaWYgKF90aGlzMi5oZWFkZXIubGVuZ3RoID09IDIpIHsKICAgICAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCBfdGhpczIuY29udGVudC5sZW5ndGg7IHQrKykgewogICAgICAgICAgICAgIGlmICh0ID09IDAgfHwgdCA9PSAzIHx8IHQgPT0gNiB8fCB0ID09IDkgfHwgdCA9PSAxMiB8fCB0ID09IDE1IHx8IHQgPT0gMTggfHwgdCA9PSAyMSB8fCB0ID09IDI0IHx8IHQgPT0gMjcgfHwgdCA9PSAzMCB8fCB0ID09IDMzKSB7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmNvbnRlbnRbdF0uc3VtbXVuYmVyeSAtIHRoaXMuY29udGVudFt0XS5zdW1tdW5iZXIpOwogICAgICAgICAgICAgICAgX3RoaXMyLnN1bW11bmJlciA9IHBhcnNlSW50KF90aGlzMi5zdW1tdW5iZXIgKyBfdGhpczIuY29udGVudFt0XS5zdW1tdW5iZXIpOwogICAgICAgICAgICAgICAgdmFyIGlzVmFsaWRzdW10YXh5ID0gTnVtYmVyLmlzSW50ZWdlcihfdGhpczIuY29udGVudFt0XS5zdW10YXh5KTsgLy8gY29uc29sZS5sb2coaXNWYWxpZHN1bW11bmJlcnkpOwoKICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkc3VtdGF4eSkgewogICAgICAgICAgICAgICAgICBfdGhpczIuc3VtdGF4ID0gcGFyc2VJbnQoX3RoaXMyLnN1bXRheCArIF90aGlzMi5jb250ZW50W3RdLnN1bXRheHkpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkc3VtdGF4ID0gTnVtYmVyLmlzSW50ZWdlcihfdGhpczIuY29udGVudFt0XS5zdW10YXh5KTsgLy8gY29uc29sZS5sb2coaXNWYWxpZHN1bW11bmJlcnkpOwoKICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkc3VtdGF4KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5zdW10YXh5ID0gcGFyc2VJbnQoX3RoaXMyLnN1bXRheHkgKyBfdGhpczIuY29udGVudFt0XS5zdW10YXgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMi5zdW12b2x1bWVfbGlxdW9yID0gcGFyc2VJbnQoX3RoaXMyLnN1bXZvbHVtZV9saXF1b3IgKyBfdGhpczIuY29udGVudFt0XS5zdW12b2x1bWVfbGlxdW9yKTsKICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkc3VtbXVuYmVyeSA9IE51bWJlci5pc0ludGVnZXIoX3RoaXMyLmNvbnRlbnRbdF0uc3VtbXVuYmVyeSk7IC8vIGNvbnNvbGUubG9nKGlzVmFsaWRzdW1tdW5iZXJ5KTsKCiAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZHN1bW11bmJlcnkpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLnN1bW11bmJlcnkgPSBwYXJzZUludChfdGhpczIuc3VtbXVuYmVyeSArIF90aGlzMi5jb250ZW50W3RdLnN1bW11bmJlcnkpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkc3Vtdm9sdW1lX2xpcXVvcnkgPSBOdW1iZXIuaXNJbnRlZ2VyKF90aGlzMi5jb250ZW50W3RdLnN1bXZvbHVtZV9saXF1b3J5KTsKCiAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZHN1bXZvbHVtZV9saXF1b3J5KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5zdW12b2x1bWVfbGlxdW9yeSA9IHBhcnNlSW50KF90aGlzMi5zdW12b2x1bWVfbGlxdW9yeSArIF90aGlzMi5jb250ZW50W3RdLnN1bXZvbHVtZV9saXF1b3J5KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB2YXIgY2FsID0gX3RoaXMyLmNvbnRlbnRbdF0uc3VtbXVuYmVyeSAtIF90aGlzMi5jb250ZW50W3RdLnN1bW11bmJlcjsKICAgICAgICAgICAgICAgIHZhciBpc2NoZWNrcyA9IE51bWJlci5pc0ludGVnZXIoY2FsKTsKCiAgICAgICAgICAgICAgICBpZiAoIWlzY2hlY2tzKSB7CiAgICAgICAgICAgICAgICAgIGNhbCA9IDA7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBjYWwgPSBfdGhpczIuY2FscGVyY2VudGFnZShjYWwsIF90aGlzMi5jb250ZW50W3RdLnN1bW11bmJlcik7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5wZXJjZW50YWdlID0gKHBhcnNlRmxvYXQoX3RoaXMyLnBlcmNlbnRhZ2UpICsgcGFyc2VGbG9hdChjYWwpKS50b0ZpeGVkKDIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKHQgPT0gMSB8fCB0ID09IDQgfHwgdCA9PSA3IHx8IHQgPT0gMTAgfHwgdCA9PSAxMyB8fCB0ID09IDE2IHx8IHQgPT0gMTkgfHwgdCA9PSAyMiB8fCB0ID09IDI1IHx8IHQgPT0gMjggfHwgdCA9PSAzMSB8fCB0ID09IDM0KSB7CiAgICAgICAgICAgICAgICBfdGhpczIuc3VtbXVuYmVydHdvID0gcGFyc2VJbnQoX3RoaXMyLnN1bW11bmJlcnR3byArIF90aGlzMi5jb250ZW50W3RdLnN1bW11bmJlcik7CgogICAgICAgICAgICAgICAgdmFyIF9pc1ZhbGlkc3VtdGF4eSA9IE51bWJlci5pc0ludGVnZXIoX3RoaXMyLmNvbnRlbnRbdF0uc3VtdGF4eSk7IC8vIGNvbnNvbGUubG9nKGlzVmFsaWRzdW1tdW5iZXJ5KTsKCgogICAgICAgICAgICAgICAgaWYgKF9pc1ZhbGlkc3VtdGF4eSkgewogICAgICAgICAgICAgICAgICBfdGhpczIuc3VtdGF4dHdvID0gcGFyc2VJbnQoX3RoaXMyLnN1bXRheHR3byArIF90aGlzMi5jb250ZW50W3RdLnN1bXRheHkpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMi5zdW12b2x1bWVfbGlxdW9ydHdvID0gcGFyc2VJbnQoX3RoaXMyLnN1bXZvbHVtZV9saXF1b3J0d28gKyBfdGhpczIuY29udGVudFt0XS5zdW12b2x1bWVfbGlxdW9yKTsKCiAgICAgICAgICAgICAgICB2YXIgX2lzVmFsaWRzdW1tdW5iZXJ5ID0gTnVtYmVyLmlzSW50ZWdlcihfdGhpczIuY29udGVudFt0XS5zdW1tdW5iZXJ5KTsgLy8gY29uc29sZS5sb2coaXNWYWxpZHN1bW11bmJlcnkpOwoKCiAgICAgICAgICAgICAgICBpZiAoX2lzVmFsaWRzdW1tdW5iZXJ5KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5zdW1tdW5iZXJ5dHdvID0gcGFyc2VJbnQoX3RoaXMyLnN1bW11bmJlcnl0d28gKyBfdGhpczIuY29udGVudFt0XS5zdW1tdW5iZXJ5KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB2YXIgX2lzVmFsaWRzdW10YXggPSBOdW1iZXIuaXNJbnRlZ2VyKF90aGlzMi5jb250ZW50W3RdLnN1bXRheCk7IC8vIGNvbnNvbGUubG9nKGlzVmFsaWRzdW1tdW5iZXJ5KTsKCgogICAgICAgICAgICAgICAgaWYgKF9pc1ZhbGlkc3VtdGF4KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5zdW10YXh5dHdvID0gcGFyc2VJbnQoX3RoaXMyLnN1bXRheHl0d28gKyBfdGhpczIuY29udGVudFt0XS5zdW10YXgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHZhciBfaXNWYWxpZHN1bXZvbHVtZV9saXF1b3J5ID0gTnVtYmVyLmlzSW50ZWdlcihfdGhpczIuY29udGVudFt0XS5zdW12b2x1bWVfbGlxdW9yeSk7IC8vIGNvbnNvbGUubG9nKHRoaXMuY29udGVudFt0XS5zdW10YXgpOwoKCiAgICAgICAgICAgICAgICBpZiAoX2lzVmFsaWRzdW12b2x1bWVfbGlxdW9yeSkgewogICAgICAgICAgICAgICAgICBfdGhpczIuc3Vtdm9sdW1lX2xpcXVvcnl0d28gPSBwYXJzZUludChfdGhpczIuc3Vtdm9sdW1lX2xpcXVvcnl0d28gKyBfdGhpczIuY29udGVudFt0XS5zdW12b2x1bWVfbGlxdW9yeSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdmFyIGNhbHMgPSBfdGhpczIuY29udGVudFt0XS5zdW1tdW5iZXJ5IC0gX3RoaXMyLmNvbnRlbnRbdF0uc3VtbXVuYmVyOwoKICAgICAgICAgICAgICAgIHZhciBfaXNjaGVja3MgPSBOdW1iZXIuaXNJbnRlZ2VyKGNhbHMpOwoKICAgICAgICAgICAgICAgIGlmICghX2lzY2hlY2tzKSB7CiAgICAgICAgICAgICAgICAgIGNhbHMgPSAwOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgY2FscyA9IF90aGlzMi5jYWxwZXJjZW50YWdlKGNhbHMsIF90aGlzMi5jb250ZW50W3RdLnN1bW11bmJlcik7IC8vIGNvbnNvbGUubG9nKGNhbHMpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLnBlcmNlbnRhZ2V0d28gPSAocGFyc2VGbG9hdChfdGhpczIucGVyY2VudGFnZXR3bykgKyBwYXJzZUZsb2F0KGNhbHMpKS50b0ZpeGVkKDIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yICh2YXIgX3QgPSAwOyBfdCA8IF90aGlzMi5jb250ZW50Lmxlbmd0aDsgX3QrKykgewogICAgICAgICAgICAgIHZhciBfaXNWYWxpZHN1bW11bmJlcnkyID0gTnVtYmVyLmlzSW50ZWdlcihfdGhpczIuY29udGVudFtfdF0uc3VtbXVuYmVyeSk7IC8vIGNvbnNvbGUubG9nKHRoaXMuY29udGVudFt0XS5zdW1tdW5iZXJ5KTsKCgogICAgICAgICAgICAgIGlmIChfaXNWYWxpZHN1bW11bmJlcnkyKSB7CiAgICAgICAgICAgICAgICBfdGhpczIuc3VtbXVuYmVyeSA9IHBhcnNlSW50KF90aGlzMi5zdW1tdW5iZXJ5KSArIHBhcnNlSW50KF90aGlzMi5jb250ZW50W190XS5zdW1tdW5iZXJ5KTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHZhciBfaXNWYWxpZHN1bXZvbHVtZV9saXF1b3J5MiA9IE51bWJlci5pc0ludGVnZXIoX3RoaXMyLmNvbnRlbnRbX3RdLnN1bXZvbHVtZV9saXF1b3J5KTsKCiAgICAgICAgICAgICAgaWYgKF9pc1ZhbGlkc3Vtdm9sdW1lX2xpcXVvcnkyKSB7CiAgICAgICAgICAgICAgICBfdGhpczIuc3VtbXVuYmVyID0gcGFyc2VJbnQoX3RoaXMyLnN1bW11bmJlciArIF90aGlzMi5jb250ZW50W190XS5zdW12b2x1bWVfbGlxdW9yeSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB2YXIgX2lzVmFsaWRzdW10YXh5MiA9IE51bWJlci5pc0ludGVnZXIoX3RoaXMyLmNvbnRlbnRbX3RdLnN1bXRheHkpOwoKICAgICAgICAgICAgICBpZiAoX2lzVmFsaWRzdW10YXh5MikgewogICAgICAgICAgICAgICAgX3RoaXMyLnN1bXRheCA9IHBhcnNlSW50KF90aGlzMi5zdW10YXgpICsgcGFyc2VJbnQoX3RoaXMyLmNvbnRlbnRbX3RdLnN1bXRheHkpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdmFyIGlzVmFsaWRzdW1tdW5iZXIgPSBOdW1iZXIuaXNJbnRlZ2VyKF90aGlzMi5jb250ZW50W190XS5zdW1tdW5iZXIpOwoKICAgICAgICAgICAgICBpZiAoaXNWYWxpZHN1bW11bmJlcikgewogICAgICAgICAgICAgICAgX3RoaXMyLnN1bXZvbHVtZV9saXF1b3J5ID0gcGFyc2VJbnQoX3RoaXMyLnN1bXZvbHVtZV9saXF1b3J5KSArIHBhcnNlSW50KF90aGlzMi5jb250ZW50W190XS5zdW1tdW5iZXIpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdmFyIGlzVmFsaWRzdW12b2x1bWVfbGlxdW9yID0gTnVtYmVyLmlzSW50ZWdlcihfdGhpczIuY29udGVudFtfdF0uc3Vtdm9sdW1lX2xpcXVvcik7CgogICAgICAgICAgICAgIGlmIChpc1ZhbGlkc3Vtdm9sdW1lX2xpcXVvcikgewogICAgICAgICAgICAgICAgX3RoaXMyLnN1bXZvbHVtZV9saXF1b3IgPSBwYXJzZUludChfdGhpczIuc3Vtdm9sdW1lX2xpcXVvcikgKyBwYXJzZUludChfdGhpczIuY29udGVudFtfdF0uc3Vtdm9sdW1lX2xpcXVvcik7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB2YXIgX2lzVmFsaWRzdW10YXgyID0gTnVtYmVyLmlzSW50ZWdlcihfdGhpczIuY29udGVudFtfdF0uc3VtdGF4KTsKCiAgICAgICAgICAgICAgaWYgKF9pc1ZhbGlkc3VtdGF4MikgewogICAgICAgICAgICAgICAgX3RoaXMyLnN1bXRheHkgPSBwYXJzZUludChfdGhpczIuc3VtdGF4eSkgKyBwYXJzZUludChfdGhpczIuY29udGVudFtfdF0uc3VtdGF4KTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHZhciBjYWxzcyA9IF90aGlzMi5jb250ZW50W190XS5zdW1tdW5iZXJ5IC0gX3RoaXMyLmNvbnRlbnRbX3RdLnN1bW11bmJlcjsKCiAgICAgICAgICAgICAgdmFyIF9pc2NoZWNrczIgPSBOdW1iZXIuaXNJbnRlZ2VyKGNhbHNzKTsKCiAgICAgICAgICAgICAgaWYgKCFfaXNjaGVja3MyKSB7CiAgICAgICAgICAgICAgICBjYWxzcyA9IDA7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNhbHNzID0gX3RoaXMyLmNhbHBlcmNlbnRhZ2UoY2Fsc3MsIF90aGlzMi5jb250ZW50W190XS5zdW1tdW5iZXIpOyAvLyBjb25zb2xlLmxvZyhjYWxzcyk7CgogICAgICAgICAgICAgICAgX3RoaXMyLnBlcmNlbnRhZ2UgPSAocGFyc2VGbG9hdChfdGhpczIucGVyY2VudGFnZSkgKyBwYXJzZUZsb2F0KGNhbHNzKSkudG9GaXhlZCgyKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gLy8gY29uc29sZS5sb2codGhpcy5zdW10YXh5KTsKCgogICAgICAgICAgZm9yICh2YXIgaCA9IDA7IGggPCBfdGhpczIuaGVhZGVyLmxlbmd0aDsgaCsrKSB7CiAgICAgICAgICAgIGlmIChoID09IDApIHsKICAgICAgICAgICAgICBfdGhpczIuaGVhZGVyW2hdLnRpdGxlID0gX3RoaXMyLmhlYWRlcltoXS5icmFuZF9uYW1lICsgIi0iICsgX3RoaXMyLmhlYWRlcltoXS5kZWdyZWUgKyAiLSIgKyBfdGhpczIuaGVhZGVyW2hdLnNpemUsIF90aGlzMi5oZWFkZXJbaF0uc3VtbXVuYmVyeSA9IF90aGlzMi5zdW1tdW5iZXJ5LCBfdGhpczIuaGVhZGVyW2hdLnN1bW11bmJlciA9IF90aGlzMi5zdW1tdW5iZXIsIF90aGlzMi5oZWFkZXJbaF0uc3Vtdm9sdW1lX2xpcXVvciA9IF90aGlzMi5zdW12b2x1bWVfbGlxdW9yLCBfdGhpczIuaGVhZGVyW2hdLnN1bXZvbHVtZV9saXF1b3J5ID0gX3RoaXMyLnN1bXZvbHVtZV9saXF1b3J5OwogICAgICAgICAgICAgIF90aGlzMi5oZWFkZXJbaF0uc3VtdGF4ID0gX3RoaXMyLnN1bXRheDsKICAgICAgICAgICAgICBfdGhpczIuaGVhZGVyW2hdLnN1bXRheHkgPSBfdGhpczIuc3VtdGF4eTsKICAgICAgICAgICAgICBfdGhpczIuaGVhZGVyW2hdLnBlcmNlbnRhZ2UgPSBfdGhpczIucGVyY2VudGFnZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczIuaGVhZGVyW2hdLnRpdGxlID0gX3RoaXMyLmhlYWRlcltoXS5icmFuZF9uYW1lICsgIi0iICsgX3RoaXMyLmhlYWRlcltoXS5kZWdyZWUgKyAiLSIgKyBfdGhpczIuaGVhZGVyW2hdLnNpemUsIF90aGlzMi5oZWFkZXJbaF0uc3VtbXVuYmVyeSA9IF90aGlzMi5zdW1tdW5iZXJ5dHdvLCBfdGhpczIuaGVhZGVyW2hdLnN1bW11bmJlciA9IF90aGlzMi5zdW1tdW5iZXJ0d28sIF90aGlzMi5oZWFkZXJbaF0uc3Vtdm9sdW1lX2xpcXVvciA9IF90aGlzMi5zdW12b2x1bWVfbGlxdW9ydHdvLCBfdGhpczIuaGVhZGVyW2hdLnN1bXZvbHVtZV9saXF1b3J5ID0gX3RoaXMyLnN1bXZvbHVtZV9saXF1b3J5dHdvOwogICAgICAgICAgICAgIF90aGlzMi5oZWFkZXJbaF0uc3VtdGF4ID0gX3RoaXMyLnN1bXRheHR3bzsKICAgICAgICAgICAgICBfdGhpczIuaGVhZGVyW2hdLnN1bXRheHkgPSBfdGhpczIuc3VtdGF4eXR3bzsKICAgICAgICAgICAgICBfdGhpczIuaGVhZGVyW2hdLnBlcmNlbnRhZ2UgPSBfdGhpczIucGVyY2VudGFnZXR3bzsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzMi5sb2FkZ3JhcGgoKTsgLy8gY29uc29sZS5sb2codGhpcy5jb250ZW50KTsKCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGxvYWRkYXRhOiBmdW5jdGlvbiBsb2FkZGF0YSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBNZXJnZUxpcXVvclJlcG9ydFNlcnZpY2UuZ2V0UmVwb3J0TGlxdW9yVGF4KHRoaXMuZmFjdG9yeV9jb2RlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgX3RoaXMzLmxpc3QgPSByZXMuZGF0YTsgLy8gdmFyIHN1bV9uZXRfdGF4ID0gMDsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpczMubGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgX3RoaXMzLmxpc3RbaV0ubmV0ID0gX3RoaXMzLmNhbChyZXMuZGF0YVtpXS5udW1iZXIsIHJlcy5kYXRhW2ldLnBlcl9lYWNoLCByZXMuZGF0YVtpXS5kZWdyZWUsIHJlcy5kYXRhW2ldLnNpemUpOwogICAgICAgIH0gLy8gY29uc29sZS5sb2codGhpcy5saXN0KTsKICAgICAgICAvLyB0aGlzLmNhbHN1bSgpCgogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICB9KTsKICAgIH0sCiAgICBncm91cEJ5OiBmdW5jdGlvbiBncm91cEJ5KGFycmF5LCBrZXkpIHsKICAgICAgdmFyIHJlc3VsdCA9IHt9OwogICAgICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKCFyZXN1bHRbaXRlbVtrZXldXSkgewogICAgICAgICAgcmVzdWx0W2l0ZW1ba2V5XV0gPSBbXTsKICAgICAgICB9CgogICAgICAgIHJlc3VsdFtpdGVtW2tleV1dLnB1c2goaXRlbSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSwKICAgIHN1bW1vbnRoOiBmdW5jdGlvbiBzdW1tb250aCgpIHsKICAgICAgdGhpcy50YXhsaXN0ID0gdGhpcy5ncm91cEJ5KHRoaXMubGlzdCwgIm1vbnRoIik7IC8vIGNvbnNvbGUubG9nKHRoaXMudGF4bGlzdCk7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudGF4bGlzdFsxXS5sZW5ndGgpOwoKICAgICAgZm9yICh2YXIgdGF4ID0gMDsgdGF4IDwgdGhpcy50Ym1vbnRoLmxlbmd0aDsgdGF4KyspIHsKICAgICAgICB0aGlzLnN1bXRocmVldGhyZWUgPSAwOwogICAgICAgIHRoaXMuc3Vtc2l4dGhyZWUgPSAwOwogICAgICAgIHRoaXMuc3Vtc2l4dHdvZml2ZSA9IDA7CiAgICAgICAgdGhpcy5zdW1zZXZlbiA9IDA7CiAgICAgICAgdGhpcy5zdW1zZXZlbmZpdmUgPSAwOwogICAgICAgIHRoaXMuc3VtdGhyZWV0aHJlZWMgPSAwOwogICAgICAgIHRoaXMuc3Vtc2l4dGhyZWVjID0gMDsKICAgICAgICB0aGlzLnN1bXNpeHR3b2ZpdmVjID0gMDsKICAgICAgICB0aGlzLnN1bXNldmVuYyA9IDA7CiAgICAgICAgdGhpcy5zdW1zZXZlbmZpdmVjID0gMDsKICAgICAgICB2YXIgbSA9IDEwOwoKICAgICAgICBpZiAodGhpcy50YXhsaXN0W3RheCArIDFdKSB7CiAgICAgICAgICBmb3IgKHZhciB0YmwgPSAwOyB0YmwgPCB0aGlzLnRheGxpc3RbdGF4ICsgMV0ubGVuZ3RoOyB0YmwrKykgewogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnRheGxpc3RbdGF4KzFdLmxlbmd0aCk7CiAgICAgICAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgdGhpcy50YnNpemUubGVuZ3RoOyBzKyspIHsKICAgICAgICAgICAgICBpZiAoKHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm1vbnRoID09IDEwICYmIHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLnllYXIgPT0gdGhpcy55ZWFyY3VycmVudCAtIDIgfHwgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ubW9udGggPT0gMTEgJiYgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IC0gMiB8fCB0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS5tb250aCA9PSAxMiAmJiB0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQgLSAyIHx8IHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm1vbnRoID09IDEgJiYgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IC0gMSB8fCB0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS5tb250aCA9PSAyICYmIHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLnllYXIgPT0gdGhpcy55ZWFyY3VycmVudCAtIDEgfHwgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ubW9udGggPT0gMyAmJiB0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQgLSAxIHx8IHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm1vbnRoID09IDQgJiYgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IC0gMSB8fCB0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS5tb250aCA9PSA1ICYmIHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLnllYXIgPT0gdGhpcy55ZWFyY3VycmVudCAtIDEgfHwgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ubW9udGggPT0gNiAmJiB0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQgLSAxIHx8IHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm1vbnRoID09IDcgJiYgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IC0gMSB8fCB0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS5tb250aCA9PSA4ICYmIHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLnllYXIgPT0gdGhpcy55ZWFyY3VycmVudCAtIDEgfHwgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ubW9udGggPT0gOSAmJiB0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQgLSAxKSAmJiB0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS5zaXplID09IHRoaXMudGJzaXplW3NdKSB7CiAgICAgICAgICAgICAgICBtID0gdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ubW9udGg7CgogICAgICAgICAgICAgICAgaWYgKHRoaXMudGJzaXplW3NdID09IDAuMzMpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5zdW10aHJlZXRocmVlID0gTWF0aC5mbG9vcihwYXJzZUZsb2F0KHRoaXMuc3VtdGhyZWV0aHJlZSkgKyBwYXJzZUZsb2F0KHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm5ldCkpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRic2l6ZVtzXSA9PSAwLjYzKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2l4dGhyZWUgPSBNYXRoLmZsb29yKHBhcnNlRmxvYXQodGhpcy5zdW1zaXh0aHJlZSkgKyBwYXJzZUZsb2F0KHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm5ldCkpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRic2l6ZVtzXSA9PSAwLjYyNSkgewogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHR3b2ZpdmUgPSBNYXRoLmZsb29yKHBhcnNlRmxvYXQodGhpcy5zdW1zaXh0d29maXZlKSArIHBhcnNlRmxvYXQodGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ubmV0KSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudGJzaXplW3NdID09IDAuNykgewogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuID0gTWF0aC5mbG9vcihwYXJzZUZsb2F0KHRoaXMuc3Vtc2V2ZW4pICsgcGFyc2VGbG9hdCh0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS5uZXQpKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy50YnNpemVbc10gPT0gMC43NSkgewogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuZml2ZSA9IE1hdGguZmxvb3IocGFyc2VGbG9hdCh0aGlzLnN1bXNldmVuZml2ZSkgKyBwYXJzZUZsb2F0KHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm5ldCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSBpZiAoKHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm1vbnRoID09IDEwICYmIHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLnllYXIgPT0gdGhpcy55ZWFyY3VycmVudCAtIDEgfHwgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ubW9udGggPT0gMTEgJiYgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IC0gMSB8fCB0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS5tb250aCA9PSAxMiAmJiB0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQgLSAxIHx8IHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm1vbnRoID09IDEgJiYgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IHx8IHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm1vbnRoID09IDIgJiYgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IHx8IHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm1vbnRoID09IDMgJiYgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IHx8IHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm1vbnRoID09IDQgJiYgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IHx8IHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm1vbnRoID09IDUgJiYgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IHx8IHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm1vbnRoID09IDYgJiYgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IHx8IHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm1vbnRoID09IDcgJiYgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IHx8IHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm1vbnRoID09IDggJiYgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IHx8IHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm1vbnRoID09IDkgJiYgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50KSAmJiB0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS5zaXplID09IHRoaXMudGJzaXplW3NdKSB7CiAgICAgICAgICAgICAgICBtID0gdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ubW9udGg7CgogICAgICAgICAgICAgICAgaWYgKHRoaXMudGJzaXplW3NdID09IDAuMzMpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5zdW10aHJlZXRocmVlYyA9IE1hdGguZmxvb3IocGFyc2VGbG9hdCh0aGlzLnN1bXRocmVldGhyZWVjKSArIHBhcnNlRmxvYXQodGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ubmV0KSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudGJzaXplW3NdID09IDAuNjMpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0aHJlZWMgPSBNYXRoLmZsb29yKHBhcnNlRmxvYXQodGhpcy5zdW1zaXh0aHJlZWMpICsgcGFyc2VGbG9hdCh0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS5uZXQpKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy50YnNpemVbc10gPT0gMC42MjUpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0d29maXZlYyA9IE1hdGguZmxvb3IocGFyc2VGbG9hdCh0aGlzLnN1bXNpeHR3b2ZpdmVjKSArIHBhcnNlRmxvYXQodGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ubmV0KSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudGJzaXplW3NdID09IDAuNykgewogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuYyA9IE1hdGguZmxvb3IocGFyc2VGbG9hdCh0aGlzLnN1bXNldmVuYykgKyBwYXJzZUZsb2F0KHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm5ldCkpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRic2l6ZVtzXSA9PSAwLjc1KSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW5maXZlYyA9IE1hdGguZmxvb3IocGFyc2VGbG9hdCh0aGlzLnN1bXNldmVuZml2ZWMpICsgcGFyc2VGbG9hdCh0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS5uZXQpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLnN1bXRocmVldGhyZWUpIHsKICAgICAgICAgIHRoaXMudGF4ZGF0YWJlZm9yZS5wdXNoKHsKICAgICAgICAgICAgbW9udGg6IG0sCiAgICAgICAgICAgIHNpemU6IDAuMzMsCiAgICAgICAgICAgIHN1bXRheDogdGhpcy5zdW10aHJlZXRocmVlCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy50YXhkYXRhYmVmb3JlLnB1c2goewogICAgICAgICAgICBtb250aDogbSwKICAgICAgICAgICAgc2l6ZTogMC4zMywKICAgICAgICAgICAgc3VtdGF4OiAwCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLnN1bXNpeHRocmVlKSB7CiAgICAgICAgICB0aGlzLnRheGRhdGFiZWZvcmUucHVzaCh7CiAgICAgICAgICAgIG1vbnRoOiBtLAogICAgICAgICAgICBzaXplOiAwLjYzLAogICAgICAgICAgICBzdW10YXg6IHRoaXMuc3Vtc2l4dGhyZWUKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnRheGRhdGFiZWZvcmUucHVzaCh7CiAgICAgICAgICAgIG1vbnRoOiBtLAogICAgICAgICAgICBzaXplOiAwLjYzLAogICAgICAgICAgICBzdW10YXg6IDAKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMuc3Vtc2l4dHdvZml2ZSkgewogICAgICAgICAgdGhpcy50YXhkYXRhYmVmb3JlLnB1c2goewogICAgICAgICAgICBtb250aDogbSwKICAgICAgICAgICAgc2l6ZTogMC42MjUsCiAgICAgICAgICAgIHN1bXRheDogdGhpcy5zdW1zaXh0d29maXZlCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy50YXhkYXRhYmVmb3JlLnB1c2goewogICAgICAgICAgICBtb250aDogbSwKICAgICAgICAgICAgc2l6ZTogMC42MjUsCiAgICAgICAgICAgIHN1bXRheDogMAogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5zdW1zZXZlbmZpdmUpIHsKICAgICAgICAgIHRoaXMudGF4ZGF0YWJlZm9yZS5wdXNoKHsKICAgICAgICAgICAgbW9udGg6IG0sCiAgICAgICAgICAgIHNpemU6IDAuNzUsCiAgICAgICAgICAgIHN1bXRheDogdGhpcy5zdW1zZXZlbmZpdmUKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnRheGRhdGFiZWZvcmUucHVzaCh7CiAgICAgICAgICAgIG1vbnRoOiBtLAogICAgICAgICAgICBzaXplOiAwLjc1LAogICAgICAgICAgICBzdW10YXg6IDAKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMuc3Vtc2V2ZW4pIHsKICAgICAgICAgIHRoaXMudGF4ZGF0YWJlZm9yZS5wdXNoKHsKICAgICAgICAgICAgbW9udGg6IG0sCiAgICAgICAgICAgIHNpemU6IDAuNywKICAgICAgICAgICAgc3VtdGF4OiB0aGlzLnN1bXNldmVuCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy50YXhkYXRhYmVmb3JlLnB1c2goewogICAgICAgICAgICBtb250aDogbSwKICAgICAgICAgICAgc2l6ZTogMC43LAogICAgICAgICAgICBzdW10YXg6IDAKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMuc3VtdGhyZWV0aHJlZWMpIHsKICAgICAgICAgIHRoaXMudGF4ZGF0YWN1cnJlbnQucHVzaCh7CiAgICAgICAgICAgIG1vbnRoOiBtLAogICAgICAgICAgICBzaXplOiAwLjMzLAogICAgICAgICAgICBzdW10YXh5OiB0aGlzLnN1bXRocmVldGhyZWVjCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy50YXhkYXRhY3VycmVudC5wdXNoKHsKICAgICAgICAgICAgbW9udGg6IG0sCiAgICAgICAgICAgIHNpemU6IDAuMzMsCiAgICAgICAgICAgIHN1bXRheHk6IDAKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMuc3Vtc2l4dGhyZWVjKSB7CiAgICAgICAgICB0aGlzLnRheGRhdGFjdXJyZW50LnB1c2goewogICAgICAgICAgICBtb250aDogbSwKICAgICAgICAgICAgc2l6ZTogMC42MywKICAgICAgICAgICAgc3VtdGF4eTogdGhpcy5zdW1zaXh0aHJlZWMKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnRheGRhdGFjdXJyZW50LnB1c2goewogICAgICAgICAgICBtb250aDogbSwKICAgICAgICAgICAgc2l6ZTogMC42MywKICAgICAgICAgICAgc3VtdGF4eTogMAogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5zdW1zaXh0d29maXZlYykgewogICAgICAgICAgdGhpcy50YXhkYXRhY3VycmVudC5wdXNoKHsKICAgICAgICAgICAgbW9udGg6IG0sCiAgICAgICAgICAgIHNpemU6IDAuNjI1LAogICAgICAgICAgICBzdW10YXh5OiB0aGlzLnN1bXNpeHR3b2ZpdmVjCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy50YXhkYXRhY3VycmVudC5wdXNoKHsKICAgICAgICAgICAgbW9udGg6IG0sCiAgICAgICAgICAgIHNpemU6IDAuNjI1LAogICAgICAgICAgICBzdW10YXh5OiAwCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLnN1bXNldmVuZml2ZWMpIHsKICAgICAgICAgIHRoaXMudGF4ZGF0YWN1cnJlbnQucHVzaCh7CiAgICAgICAgICAgIG1vbnRoOiBtLAogICAgICAgICAgICBzaXplOiAwLjc1LAogICAgICAgICAgICBzdW10YXh5OiB0aGlzLnN1bXNldmVuZml2ZWMKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnRheGRhdGFjdXJyZW50LnB1c2goewogICAgICAgICAgICBtb250aDogbSwKICAgICAgICAgICAgc2l6ZTogMC43NSwKICAgICAgICAgICAgc3VtdGF4eTogMAogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5zdW1zZXZlbmMpIHsKICAgICAgICAgIHRoaXMudGF4ZGF0YWN1cnJlbnQucHVzaCh7CiAgICAgICAgICAgIG1vbnRoOiBtLAogICAgICAgICAgICBzaXplOiAwLjcsCiAgICAgICAgICAgIHN1bXRheHk6IHRoaXMuc3Vtc2V2ZW5jCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy50YXhkYXRhY3VycmVudC5wdXNoKHsKICAgICAgICAgICAgbW9udGg6IG0sCiAgICAgICAgICAgIHNpemU6IDAuNywKICAgICAgICAgICAgc3VtdGF4eTogMAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IC8vIGNvbnNvbGUubG9nKHRoaXMudGF4ZGF0YWJlZm9yZSk7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudGF4ZGF0YWN1cnJlbnQpOwoKCiAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgdGhpcy50YXhkYXRhYmVmb3JlLmxlbmd0aDsgYysrKSB7CiAgICAgICAgZm9yICh2YXIgYiA9IDA7IGIgPCB0aGlzLmNvbnRlbnQubGVuZ3RoOyBiKyspIHsKICAgICAgICAgIGlmICh0aGlzLnRheGRhdGFiZWZvcmVbY10ubW9udGggPT0gdGhpcy5jb250ZW50W2JdLm1vbnRoICYmIHRoaXMudGF4ZGF0YWJlZm9yZVtjXS5zaXplID09IHRoaXMuY29udGVudFtiXS5zaXplKSB7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudGF4ZGF0YWJlZm9yZVtjXS5zdW10YXgpOwogICAgICAgICAgICB0aGlzLmNvbnRlbnRbYl0uc3VtdGF4ID0gdGhpcy50YXhkYXRhYmVmb3JlW2NdLnN1bXRheDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZvciAodmFyIGNjID0gMDsgY2MgPCB0aGlzLmNvbnRlbnQubGVuZ3RoOyBjYysrKSB7CiAgICAgICAgZm9yICh2YXIgdHQgPSAwOyB0dCA8IHRoaXMudGF4ZGF0YWN1cnJlbnQubGVuZ3RoOyB0dCsrKSB7CiAgICAgICAgICBpZiAodGhpcy50YXhkYXRhY3VycmVudFt0dF0ubW9udGggPT0gdGhpcy5jb250ZW50W2NjXS5tb250aCAmJiB0aGlzLnRheGRhdGFjdXJyZW50W3R0XS5zaXplID09IHRoaXMuY29udGVudFtjY10uc2l6ZSkgewogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnRheGRhdGFjdXJyZW50W3R0XS5zdW10YXh5KTsKICAgICAgICAgICAgdGhpcy5jb250ZW50W2NjXS5zdW10YXh5ID0gdGhpcy50YXhkYXRhY3VycmVudFt0dF0uc3VtdGF4eTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gLy8gY29uc29sZS5sb2codGhpcy5jb250ZW50KTsKCiAgICB9LAogICAgY2Fsc3VtOiBmdW5jdGlvbiBjYWxzdW0oKSB7CiAgICAgIC8vIHZhciBzdW1zdGFtcCA9IDAKICAgICAgLy8gdmFyIHN1bXZvbHVtbiA9IDAKICAgICAgLy8gdmFyIHN1bXRheCA9IDAKICAgICAgdmFyIHN1bXN0YW1weSA9IDA7CiAgICAgIHZhciBzdW12b2x1bW55ID0gMDsKICAgICAgdmFyIHN1bXRheHkgPSAwOwoKICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCB0aGlzLmxpc3QubGVuZ3RoOyBjKyspIHsKICAgICAgICBzdW1zdGFtcHkgPSBwYXJzZUludChzdW1zdGFtcHkgKyB0aGlzLmxpc3RbY10ubnVtYmVyKTsKICAgICAgICBzdW12b2x1bW55ID0gcGFyc2VJbnQoc3Vtdm9sdW1ueSArIHRoaXMubGlzdFtjXS52b2x1bWVfbGlxdW9yKTsKICAgICAgICBzdW10YXh5ID0gTWF0aC5mbG9vcihwYXJzZUZsb2F0KHN1bXRheHkpICsgcGFyc2VGbG9hdCh0aGlzLmxpc3RbY10ubmV0KSk7CiAgICAgICAgdGhpcy5saXN0W2NdLnN1bW51bWJlciA9IHN1bXN0YW1weTsKICAgICAgICB0aGlzLmxpc3RbY10uc3Vtdm9sdW1lX2xpcXVvciA9IHN1bXZvbHVtbnk7CiAgICAgICAgdGhpcy5saXN0W2NdLnN1bW5ldCA9IHN1bXRheHk7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKHRoaXMubmV3bGlzdCk7CiAgICB9LAogICAgY2FsX25ldF90YXg6IGZ1bmN0aW9uIGNhbF9uZXRfdGF4KCkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChpICE9IDApIHsKICAgICAgICAgIGlmICh0aGlzLmxpc3RbaV0ubm8gPT0gdGhpcy5saXN0W2kgLSAxXS5ubykgewogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygiaSIsIHRoaXMubGlzdFtpXS5uZXQpOwogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmxpc3RbaSAtMV0ubmV0KTsKICAgICAgICAgICAgdGhpcy5saXN0W2kgLSAxXS5uZXRfdGF4ID0gTWF0aC5mbG9vcihwYXJzZUZsb2F0KHRoaXMubGlzdFtpXS5uZXQpICsgcGFyc2VGbG9hdCh0aGlzLmxpc3RbaSAtIDFdLm5ldCkpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5saXN0W2ldLm5ldF90YXggPSBNYXRoLmZsb29yKHBhcnNlRmxvYXQodGhpcy5saXN0W2ldLm5ldCkpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmxpc3RbaV0ubmV0X3RheCA9IE1hdGguZmxvb3IocGFyc2VGbG9hdCh0aGlzLmxpc3RbaV0ubmV0KSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgY2FsOiBmdW5jdGlvbiBjYWwobnVtYmVyLCBwZXJfZWFjaCwgZGVncmVlLCBzaXplKSB7CiAgICAgIHZhciB4MSA9IDA7CiAgICAgIHZhciB4MiA9IDA7CiAgICAgIHZhciB4MyA9IDA7CiAgICAgIHZhciB4NCA9IDA7CgogICAgICBpZiAodGhpcy5mYWN0b3J5X2NvZGUgPT0gNTQwMDAyKSB7CiAgICAgICAgeDEgPSAxMCAqIG51bWJlciAvIDEwMCAqIHBlcl9lYWNoOyAvLyBjb25zb2xlLmxvZyh4MSk7CiAgICAgICAgLy8gdmFyIHgyID0gKCgxNTUqMzApLzEwMCkqMC42MyoxNTAwOwoKICAgICAgICB4MiA9IDE1MCAqIGRlZ3JlZSAvIDEwMCAqIHNpemUgKiBudW1iZXI7IC8vIGNvbnNvbGUubG9nKHgyKTsKCiAgICAgICAgcmV0dXJuICh4MSArIHgyKS50b0ZpeGVkKDIpOwogICAgICB9IGVsc2UgewogICAgICAgIHgzID0gMiAqIG51bWJlciAvIDEwMCAqIHBlcl9lYWNoOyAvLyBjb25zb2xlLmxvZyh4MSk7CiAgICAgICAgLy8gdmFyIHgyID0gKCgxNTUqMzApLzEwMCkqMC42MyoxNTAwOwoKICAgICAgICB4NCA9IDE1NSAqIGRlZ3JlZSAvIDEwMCAqIHNpemUgKiBudW1iZXI7IC8vIGNvbnNvbGUubG9nKHgyKTsKCiAgICAgICAgcmV0dXJuICh4MyArIHg0KS50b0ZpeGVkKDIpOwogICAgICB9CiAgICB9LAogICAgY29udmVydGRhdGV0b3RoYWk6IGZ1bmN0aW9uIGNvbnZlcnRkYXRldG90aGFpKGRhdGV0aW1lcykgewogICAgICBpZiAoZGF0ZXRpbWVzKSB7CiAgICAgICAgdmFyIGQgPSBuZXcgRGF0ZShkYXRldGltZXMpOwogICAgICAgIHZhciBtbSA9IGQuZ2V0TW9udGgoKSArIDE7CiAgICAgICAgdmFyIGRkID0gZC5nZXREYXRlKCk7CiAgICAgICAgdmFyIHl5ID0gZC5nZXRGdWxsWWVhcigpOwogICAgICAgIHZhciBteURhdGVTdHJpbmcgPSBkZCArICIvIiArIG1tICsgIi8iICsgeXk7IC8vKFVTKQogICAgICAgIC8vIGNvbnNvbGUubG9nKG15RGF0ZVN0cmluZyk7CgogICAgICAgIHJldHVybiBteURhdGVTdHJpbmc7CiAgICAgIH0KICAgIH0sCiAgICBsb2FkY2hhcnRPcHRpb25zOiBmdW5jdGlvbiBsb2FkY2hhcnRPcHRpb25zKCkgewogICAgICB0aGlzLmNoYXJ0T3B0aW9ucyA9IHsKICAgICAgICBjaGFydDogewogICAgICAgICAgaGVpZ2h0OiA1MDAsCiAgICAgICAgICB0eXBlOiAibGluZSIsCiAgICAgICAgICBkcm9wU2hhZG93OiB7CiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsCiAgICAgICAgICAgIGNvbG9yOiAiIzAwMCIsCiAgICAgICAgICAgIHRvcDogMTgsCiAgICAgICAgICAgIGxlZnQ6IDcsCiAgICAgICAgICAgIGJsdXI6IDEwLAogICAgICAgICAgICBvcGFjaXR5OiAwLjIKICAgICAgICAgIH0sCiAgICAgICAgICB0b29sYmFyOiB7CiAgICAgICAgICAgIHNob3c6IGZhbHNlCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBjb2xvcnM6IFsiIzc3QjZFQSIsICIjRUM3QzMwIl0sCiAgICAgICAgZGF0YUxhYmVsczogewogICAgICAgICAgZW5hYmxlZDogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgc3Ryb2tlOiB7CiAgICAgICAgICBjdXJ2ZTogInN0cmFpZ2h0IgogICAgICAgIH0sCiAgICAgICAgdGl0bGU6IHsKICAgICAgICAgIHRleHQ6ICLguIHguKPguLLguJ/guYHguKrguJTguIfguKrguJbguLTguJXguLTguJvguKPguLTguKHguLLguJPguJnguYnguLPguKrguLjguKPguLIiLAogICAgICAgICAgYWxpZ246ICJsZWZ0IiwKICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgIGZvbnRTaXplOiAiOXB4IgogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZ3JpZDogewogICAgICAgICAgYm9yZGVyQ29sb3I6ICIjZTdlN2U3IiwKICAgICAgICAgIHJvdzogewogICAgICAgICAgICBjb2xvcnM6IFsiI2YzZjNmMyIsICJ0cmFuc3BhcmVudCJdLAogICAgICAgICAgICAvLyB0YWtlcyBhbiBhcnJheSB3aGljaCB3aWxsIGJlIHJlcGVhdGVkIG9uIGNvbHVtbnMKICAgICAgICAgICAgb3BhY2l0eTogMC41CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBtYXJrZXJzOiB7CiAgICAgICAgICBzaXplOiAwCiAgICAgICAgfSwKICAgICAgICB4YXhpczogewogICAgICAgICAgLy8gY2F0ZWdvcmllczogdGhpcy5tb250aCwKICAgICAgICAgIGNhdGVnb3JpZXM6IFsi4LiV4Li44Lil4Liy4LiE4LihIiwgIuC4nuC4pOC4qOC4iOC4tOC4geC4suC4ouC4mSIsICLguJjguLHguJnguKfguLLguITguKEiLCAi4Lih4LiB4Lij4Liy4LiE4LihIiwgIuC4geC4uOC4oeC4oOC4suC4nuC4seC4meC4mOC5jCIsICLguKHguLXguJnguLLguITguKEiLCAi4LmA4Lih4Lip4Liy4Lii4LiZIiwgIuC4nuC4pOC4qeC4oOC4suC4hOC4oSIsICLguKHguLTguJbguLjguJnguLLguKLguJkiLCAi4LiB4Lij4LiB4LiO4Liy4LiE4LihIiwgIuC4quC4tOC4h+C4q+C4suC4hOC4oSIsICLguIHguLHguJnguKLguLLguKLguJkiXSwKICAgICAgICAgIHRpdGxlOiB7CiAgICAgICAgICAgIHRleHQ6ICLguYDguJTguLfguK3guJkiLAogICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgIGZvbnRTaXplOiAiOXB4IgogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgbGFiZWxzOiB7CiAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgZm9udFNpemU6ICI5cHgiCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHlheGlzOiB7CiAgICAgICAgICB0aXRsZTogewogICAgICAgICAgICB0ZXh0OiAi4Lib4Lij4Li04Lih4Liy4LiT4LiZ4LmJ4Liz4Liq4Li44Lij4LiyICjguKXguLTguJXguKMpIiwKICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICBmb250U2l6ZTogIjlweCIKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIGxhYmVsczogewogICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgIGZvbnRTaXplOiAiOXB4IgogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBsZWdlbmQ6IHsKICAgICAgICAgIHBvc2l0aW9uOiAidG9wIiwKICAgICAgICAgIGhvcml6b250YWxBbGlnbjogInJpZ2h0IiwKICAgICAgICAgIGZsb2F0aW5nOiB0cnVlLAogICAgICAgICAgb2Zmc2V0WTogLTI1LAogICAgICAgICAgb2Zmc2V0WDogLTUKICAgICAgICB9CiAgICAgIH07CiAgICB9LAogICAgbG9hZHZvbHVtbmFibGU6IGZ1bmN0aW9uIGxvYWR2b2x1bW5hYmxlKCkgewogICAgICBmb3IgKHZhciBkID0gMDsgZCA8IHRoaXMuY29udGVudC5sZW5ndGg7IGQrKykgewogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuY29udGVudFtkXS5tb250aCk7CiAgICAgICAgaWYgKHRoaXMuY29udGVudFtkXS5tb250aCA9PSAxMCB8fCB0aGlzLmNvbnRlbnRbZF0ubW9udGggPT0gMTEgfHwgdGhpcy5jb250ZW50W2RdLm1vbnRoID09IDEyIHx8IHRoaXMuY29udGVudFtkXS5tb250aCA9PSAxIHx8IHRoaXMuY29udGVudFtkXS5tb250aCA9PSAyIHx8IHRoaXMuY29udGVudFtkXS5tb250aCA9PSAzIHx8IHRoaXMuY29udGVudFtkXS5tb250aCA9PSA0IHx8IHRoaXMuY29udGVudFtkXS5tb250aCA9PSA1IHx8IHRoaXMuY29udGVudFtkXS5tb250aCA9PSA2IHx8IHRoaXMuY29udGVudFtkXS5tb250aCA9PSA3IHx8IHRoaXMuY29udGVudFtkXS5tb250aCA9PSA4IHx8IHRoaXMuY29udGVudFtkXS5tb250aCA9PSA5KSB7CiAgICAgICAgICB0aGlzLmNvbnRlbnQuc3BsaWNlKGQsIDEpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgZm9yICh2YXIgZHMgPSAwOyBkcyA8IHRoaXMuY29udGVudC5sZW5ndGg7IGRzKyspIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmNvbnRlbnRbZF0ubW9udGgpOwogICAgICAgIGlmICh0aGlzLmNvbnRlbnRbZHNdLm1vbnRoID09IDEwIHx8IHRoaXMuY29udGVudFtkc10ubW9udGggPT0gMTEgfHwgdGhpcy5jb250ZW50W2RzXS5tb250aCA9PSAxMiB8fCB0aGlzLmNvbnRlbnRbZHNdLm1vbnRoID09IDEgfHwgdGhpcy5jb250ZW50W2RzXS5tb250aCA9PSAyIHx8IHRoaXMuY29udGVudFtkc10ubW9udGggPT0gMyB8fCB0aGlzLmNvbnRlbnRbZHNdLm1vbnRoID09IDQgfHwgdGhpcy5jb250ZW50W2RzXS5tb250aCA9PSA1IHx8IHRoaXMuY29udGVudFtkc10ubW9udGggPT0gNiB8fCB0aGlzLmNvbnRlbnRbZHNdLm1vbnRoID09IDcgfHwgdGhpcy5jb250ZW50W2RzXS5tb250aCA9PSA4IHx8IHRoaXMuY29udGVudFtkc10ubW9udGggPT0gOSkgewogICAgICAgICAgdGhpcy5jb250ZW50LnNwbGljZShkcywgMSk7CiAgICAgICAgfQogICAgICB9IC8vIGNvbnNvbGUubG9nKHRoaXMuY29udGVudCk7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuc2VyaWVzKTsKCgogICAgICB0aGlzLm1vbnRodHZvbHVtbmFibGUucHVzaCh7CiAgICAgICAgeWVhcjogdGhpcy55ZWFyY3VycmVudCwKICAgICAgICBzdHlsZTogImJhY2tncm91bmQ6IHJnYigxMTksIDE4MiwgMjM0KSAhaW1wb3J0YW50OyBjb2xvcjogcmdiKDExOSwgMTgyLCAyMzQpOyBoZWlnaHQ6IDEycHg7IHdpZHRoOiAxMnB4OyBsZWZ0OiAwcHg7IHRvcDogMHB4OyBib3JkZXItd2lkdGg6IDBweDsgYm9yZGVyLWNvbG9yOiByZ2IoMjU1LCAyNTUsIDI1NSk7IGJvcmRlci1yYWRpdXM6IDEycHg7IgogICAgICB9KTsKICAgICAgdGhpcy5tb250aHR2b2x1bW5hYmxlLnB1c2goewogICAgICAgIHllYXI6IHRoaXMueWVhcmN1cnJlbnQgLSAxLAogICAgICAgIHN0eWxlOiAiYmFja2dyb3VuZDogcmdiKDIzNiwgMTI0LCA0OCkgIWltcG9ydGFudDsgY29sb3I6IHJnYigyMzYsIDEyNCwgNDgpOyBoZWlnaHQ6IDEycHg7IHdpZHRoOiAxMnB4OyBsZWZ0OiAwcHg7IHRvcDogMHB4OyBib3JkZXItd2lkdGg6IDBweDsgYm9yZGVyLWNvbG9yOiByZ2IoMjU1LCAyNTUsIDI1NSk7IGJvcmRlci1yYWRpdXM6IDEycHg7IgogICAgICB9KTsgLy8gY29uc29sZS5sb2codGhpcy52b2x1bWVfbGlxdW9yYmVmb3JlKTsKCiAgICAgIGZvciAodmFyIGNjID0gMDsgY2MgPCB0aGlzLm1vbnRodHZvbHVtbmFibGUubGVuZ3RoOyBjYysrKSB7CiAgICAgICAgaWYgKGNjID09IDApIHsKICAgICAgICAgIGZvciAodmFyIGJiID0gMDsgYmIgPCB0aGlzLnZvbHVtZV9saXF1b3JjdXJyZW50Lmxlbmd0aDsgYmIrKykgewogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnZvbHVtZV9saXF1b3JjdXJyZW50W2JiXSk7CiAgICAgICAgICAgIGlmIChiYiA9PSAwKSB7CiAgICAgICAgICAgICAgdGhpcy5tb250aHR2b2x1bW5hYmxlW2NjXS5vY3QgPSB0aGlzLnZvbHVtZV9saXF1b3JjdXJyZW50W2JiXTsKICAgICAgICAgICAgfSBlbHNlIGlmIChiYiA9PSAxKSB7CiAgICAgICAgICAgICAgdGhpcy5tb250aHR2b2x1bW5hYmxlW2NjXS5ub3YgPSB0aGlzLnZvbHVtZV9saXF1b3JjdXJyZW50W2JiXTsKICAgICAgICAgICAgfSBlbHNlIGlmIChiYiA9PSAyKSB7CiAgICAgICAgICAgICAgdGhpcy5tb250aHR2b2x1bW5hYmxlW2NjXS5kZWMgPSB0aGlzLnZvbHVtZV9saXF1b3JjdXJyZW50W2JiXTsKICAgICAgICAgICAgfSBlbHNlIGlmIChiYiA9PSAzKSB7CiAgICAgICAgICAgICAgdGhpcy5tb250aHR2b2x1bW5hYmxlW2NjXS5qYW4gPSB0aGlzLnZvbHVtZV9saXF1b3JjdXJyZW50W2JiXTsKICAgICAgICAgICAgfSBlbHNlIGlmIChiYiA9PSA0KSB7CiAgICAgICAgICAgICAgdGhpcy5tb250aHR2b2x1bW5hYmxlW2NjXS5mZWIgPSB0aGlzLnZvbHVtZV9saXF1b3JjdXJyZW50W2JiXTsKICAgICAgICAgICAgfSBlbHNlIGlmIChiYiA9PSA1KSB7CiAgICAgICAgICAgICAgdGhpcy5tb250aHR2b2x1bW5hYmxlW2NjXS5tYXIgPSB0aGlzLnZvbHVtZV9saXF1b3JjdXJyZW50W2JiXTsKICAgICAgICAgICAgfSBlbHNlIGlmIChiYiA9PSA2KSB7CiAgICAgICAgICAgICAgdGhpcy5tb250aHR2b2x1bW5hYmxlW2NjXS5hcHIgPSB0aGlzLnZvbHVtZV9saXF1b3JjdXJyZW50W2JiXTsKICAgICAgICAgICAgfSBlbHNlIGlmIChiYiA9PSA3KSB7CiAgICAgICAgICAgICAgdGhpcy5tb250aHR2b2x1bW5hYmxlW2NjXS5tYXkgPSB0aGlzLnZvbHVtZV9saXF1b3JjdXJyZW50W2JiXTsKICAgICAgICAgICAgfSBlbHNlIGlmIChiYiA9PSA4KSB7CiAgICAgICAgICAgICAgdGhpcy5tb250aHR2b2x1bW5hYmxlW2NjXS5qdW4gPSB0aGlzLnZvbHVtZV9saXF1b3JjdXJyZW50W2JiXTsKICAgICAgICAgICAgfSBlbHNlIGlmIChiYiA9PSA5KSB7CiAgICAgICAgICAgICAgdGhpcy5tb250aHR2b2x1bW5hYmxlW2NjXS5qdWwgPSB0aGlzLnZvbHVtZV9saXF1b3JjdXJyZW50W2JiXTsKICAgICAgICAgICAgfSBlbHNlIGlmIChiYiA9PSAxMCkgewogICAgICAgICAgICAgIHRoaXMubW9udGh0dm9sdW1uYWJsZVtjY10uYXVnID0gdGhpcy52b2x1bWVfbGlxdW9yY3VycmVudFtiYl07CiAgICAgICAgICAgIH0gZWxzZSBpZiAoYmIgPT0gMTEpIHsKICAgICAgICAgICAgICB0aGlzLm1vbnRodHZvbHVtbmFibGVbY2NdLnNlcCA9IHRoaXMudm9sdW1lX2xpcXVvcmN1cnJlbnRbYmJdOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoY2MgPT0gMSkgewogICAgICAgICAgZm9yICh2YXIgX2JiID0gMDsgX2JiIDwgdGhpcy52b2x1bWVfbGlxdW9yYmVmb3JlLmxlbmd0aDsgX2JiKyspIHsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy52b2x1bWVfbGlxdW9yYmVmb3JlW2JiXSk7CiAgICAgICAgICAgIGlmIChfYmIgPT0gMCkgewogICAgICAgICAgICAgIHRoaXMubW9udGh0dm9sdW1uYWJsZVtjY10ub2N0ID0gdGhpcy52b2x1bWVfbGlxdW9yYmVmb3JlW19iYl07CiAgICAgICAgICAgIH0gZWxzZSBpZiAoX2JiID09IDEpIHsKICAgICAgICAgICAgICB0aGlzLm1vbnRodHZvbHVtbmFibGVbY2NdLm5vdiA9IHRoaXMudm9sdW1lX2xpcXVvcmJlZm9yZVtfYmJdOwogICAgICAgICAgICB9IGVsc2UgaWYgKF9iYiA9PSAyKSB7CiAgICAgICAgICAgICAgdGhpcy5tb250aHR2b2x1bW5hYmxlW2NjXS5kZWMgPSB0aGlzLnZvbHVtZV9saXF1b3JiZWZvcmVbX2JiXTsKICAgICAgICAgICAgfSBlbHNlIGlmIChfYmIgPT0gMykgewogICAgICAgICAgICAgIHRoaXMubW9udGh0dm9sdW1uYWJsZVtjY10uamFuID0gdGhpcy52b2x1bWVfbGlxdW9yYmVmb3JlW19iYl07CiAgICAgICAgICAgIH0gZWxzZSBpZiAoX2JiID09IDQpIHsKICAgICAgICAgICAgICB0aGlzLm1vbnRodHZvbHVtbmFibGVbY2NdLmZlYiA9IHRoaXMudm9sdW1lX2xpcXVvcmJlZm9yZVtfYmJdOwogICAgICAgICAgICB9IGVsc2UgaWYgKF9iYiA9PSA1KSB7CiAgICAgICAgICAgICAgdGhpcy5tb250aHR2b2x1bW5hYmxlW2NjXS5tYXIgPSB0aGlzLnZvbHVtZV9saXF1b3JiZWZvcmVbX2JiXTsKICAgICAgICAgICAgfSBlbHNlIGlmIChfYmIgPT0gNikgewogICAgICAgICAgICAgIHRoaXMubW9udGh0dm9sdW1uYWJsZVtjY10uYXByID0gdGhpcy52b2x1bWVfbGlxdW9yYmVmb3JlW19iYl07CiAgICAgICAgICAgIH0gZWxzZSBpZiAoX2JiID09IDcpIHsKICAgICAgICAgICAgICB0aGlzLm1vbnRodHZvbHVtbmFibGVbY2NdLm1heSA9IHRoaXMudm9sdW1lX2xpcXVvcmJlZm9yZVtfYmJdOwogICAgICAgICAgICB9IGVsc2UgaWYgKF9iYiA9PSA4KSB7CiAgICAgICAgICAgICAgdGhpcy5tb250aHR2b2x1bW5hYmxlW2NjXS5qdW4gPSB0aGlzLnZvbHVtZV9saXF1b3JiZWZvcmVbX2JiXTsKICAgICAgICAgICAgfSBlbHNlIGlmIChfYmIgPT0gOSkgewogICAgICAgICAgICAgIHRoaXMubW9udGh0dm9sdW1uYWJsZVtjY10uanVsID0gdGhpcy52b2x1bWVfbGlxdW9yYmVmb3JlW19iYl07CiAgICAgICAgICAgIH0gZWxzZSBpZiAoX2JiID09IDEwKSB7CiAgICAgICAgICAgICAgdGhpcy5tb250aHR2b2x1bW5hYmxlW2NjXS5hdWcgPSB0aGlzLnZvbHVtZV9saXF1b3JiZWZvcmVbX2JiXTsKICAgICAgICAgICAgfSBlbHNlIGlmIChfYmIgPT0gMTEpIHsKICAgICAgICAgICAgICB0aGlzLm1vbnRodHZvbHVtbmFibGVbY2NdLnNlcCA9IHRoaXMudm9sdW1lX2xpcXVvcmJlZm9yZVtfYmJdOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IC8vIGNvbnNvbGUubG9nKHRoaXMubW9udGh0dm9sdW1uYWJsZSk7CgogICAgfSwKICAgIGxvYWRncmFwaDogZnVuY3Rpb24gbG9hZGdyYXBoKCkgewogICAgICB0aGlzLnNlcmllcy5wdXNoKHsKICAgICAgICBuYW1lOiBTdHJpbmcodGhpcy55ZWFyY3VycmVudCksCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIGZvbnRTaXplOiAiOXB4IgogICAgICAgIH0sCiAgICAgICAgeWVhcjogdGhpcy55ZWFyY3VycmVudAogICAgICB9KTsKICAgICAgdGhpcy5zZXJpZXMucHVzaCh7CiAgICAgICAgbmFtZTogU3RyaW5nKHRoaXMueWVhcmN1cnJlbnQgLSAxKSwKICAgICAgICBzdHlsZTogewogICAgICAgICAgZm9udFNpemU6ICI5cHgiCiAgICAgICAgfSwKICAgICAgICB5ZWFyOiB0aGlzLnllYXJjdXJyZW50IC0gMQogICAgICB9KTsgLy8gY29uc29sZS5sb2codGhpcy5jb250ZW50KTsKCiAgICAgIGlmICh0aGlzLmhlYWRlci5sZW5ndGggPT0gMikgewogICAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgdGhpcy5jb250ZW50Lmxlbmd0aDsgdCsrKSB7CiAgICAgICAgICBpZiAodCA9PSAwIHx8IHQgPT0gMyB8fCB0ID09IDYgfHwgdCA9PSA5IHx8IHQgPT0gMTIgfHwgdCA9PSAxNSB8fCB0ID09IDE4IHx8IHQgPT0gMjEgfHwgdCA9PSAyNCB8fCB0ID09IDI3IHx8IHQgPT0gMzAgfHwgdCA9PSAzMykgewogICAgICAgICAgICBpZiAodGhpcy5jb250ZW50W3RdLnN1bXZvbHVtZV9saXF1b3J5ID09IDApIHsKICAgICAgICAgICAgICB0aGlzLnZvbHVtZV9saXF1b3JjdXJyZW50LnB1c2gobnVsbCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy52b2x1bWVfbGlxdW9yY3VycmVudC5wdXNoKHRoaXMuY29udGVudFt0XS5zdW12b2x1bWVfbGlxdW9yeSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMudm9sdW1lX2xpcXVvcmJlZm9yZS5wdXNoKHRoaXMuY29udGVudFt0XS5zdW12b2x1bWVfbGlxdW9yKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yICh2YXIgZyA9IDA7IGcgPCB0aGlzLmNvbnRlbnQubGVuZ3RoOyBnKyspIHsKICAgICAgICAgIGlmICh0aGlzLmNvbnRlbnRbZ10uc3Vtdm9sdW1lX2xpcXVvcnkgPT0gMCkgewogICAgICAgICAgICB0aGlzLnZvbHVtZV9saXF1b3JjdXJyZW50LnB1c2gobnVsbCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnZvbHVtZV9saXF1b3JjdXJyZW50LnB1c2godGhpcy5jb250ZW50W2ddLnN1bXZvbHVtZV9saXF1b3J5KTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLnZvbHVtZV9saXF1b3JiZWZvcmUucHVzaCh0aGlzLmNvbnRlbnRbZ10uc3Vtdm9sdW1lX2xpcXVvcik7CiAgICAgICAgfQogICAgICB9CgogICAgICBmb3IgKHZhciBzZSA9IDA7IHNlIDwgdGhpcy5zZXJpZXMubGVuZ3RoOyBzZSsrKSB7CiAgICAgICAgaWYgKHRoaXMuc2VyaWVzW3NlXS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQgLSAxKSB7CiAgICAgICAgICB0aGlzLnNlcmllc1tzZV1bImRhdGEiXSA9IHRoaXMudm9sdW1lX2xpcXVvcmJlZm9yZTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2VyaWVzW3NlXS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQpIHsKICAgICAgICAgIHRoaXMuc2VyaWVzW3NlXVsiZGF0YSJdID0gdGhpcy52b2x1bWVfbGlxdW9yY3VycmVudDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMubG9hZHZvbHVtbmFibGUoKTsKICAgIH0sCiAgICBudW1iZXJXaXRoQ29tbWFzOiBmdW5jdGlvbiBudW1iZXJXaXRoQ29tbWFzKHR5cGUsIHgpIHsKICAgICAgLy8gY29uc29sZS5sb2codHlwZSk7CiAgICAgIC8vIGNvbnNvbGUubG9nKHgpOwogICAgICB2YXIgciA9IDA7CiAgICAgIHggPSBwYXJzZUludCh4KTsKCiAgICAgIGlmIChpc05hTih4KSkgewogICAgICAgIHIgPSAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICByID0geC50b1N0cmluZygpLnJlcGxhY2UoL1xCKD89KFxkezN9KSsoPyFcZCkpL2csICIsIik7CiAgICAgIH0KCiAgICAgIHJldHVybiByOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyaA;AACA;AAEA;AACAA,oBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,cADA;AAEAC,0BAFA;AAGAC,YAHA;AAIAC,cAJA;AAKAJ,cALA;AAMAK,aANA;AAOAC,eAPA;AAQAC,iBARA;AASAC,mBATA;AAUAC,iBAVA;AAWAC,sBAXA;AAYAC,qBAZA;AAaAC,iBAbA;AAcAC,gBACA;AAAAC;AAAA,OADA,EAEA;AAAAA;AAAA,OAFA,EAGA;AAAAA;AAAA,OAHA,EAIA;AAAAA;AAAA,OAJA,EAKA;AAAAA;AAAA,OALA,EAMA;AAAAA;AAAA,OANA,EAOA;AAAAA;AAAA,OAPA,EAQA;AAAAA;AAAA,OARA,EASA;AAAAA;AAAA,OATA,EAUA;AAAAA;AAAA,OAVA,EAWA;AAAAA;AAAA,OAXA,EAYA;AAAAA;AAAA,OAZA,CAdA;AA4BAC,4CA5BA;AA6BAC,gBA7BA;AA8BAC,iBA9BA;AA+BAC,gBA/BA;AAgCAC,gBAhCA;AAiCAC,iBAjCA;AAkCAC,iBAlCA;AAmCAC,kBAnCA;AAoCAC,mBApCA;AAqCAC,yBArCA;AAsCAC,0BAtCA;AAuCAC,qBAvCA;AAwCAC,sBAxCA;AAyCAC,4BAzCA;AA0CAC,6BA1CA;AA2CAC,qBA3CA;AA4CAC,4BA5CA;AA6CAC,wBA7CA;AA8CAC,+BA9CA;AA+CAC,uBA/CA;AAgDAC,sBAhDA;AAiDAC,oBAjDA;AAkDAC,sBAlDA;AAmDAC,iBAnDA;AAoDAC,qBApDA;AAqDAC,wBArDA;AAsDAC,uBAtDA;AAuDAC,qBAvDA;AAwDAC,uBAxDA;AAyDAC,kBAzDA;AA0DAC,sBA1DA;AA2DAC,eA3DA;AA4DAC,gBA5DA;AA6DAC,kBA7DA;AA8DAC,mBA9DA;AA+DAC,kBA/DA;AAgEAC,qBAhEA;AAiEAC,mBAjEA;AAkEAC,sBAlEA;AAmEAC,gBAnEA;AAoEAC,sBApEA;AAqEAC,gBArEA;AAsEAC,6BAtEA;AAuEAC,8BAvEA;AAwEAC;AAxEA;AA0EA,GA7EA;AA8EAC;AACAC;AADA,GA9EA;AAiFAC,cAjFA;AAkFAC,SAlFA,qBAkFA;AACA;AACA;AACA,yCAHA,CAIA;;AACA;AACA;AACA;AACA;AACA,GA3FA;AA4FAC;AACAC,WADA,mBACAC,CADA,EACAC,CADA,EACA;AACA;AACA;AACAD;AACA;;AACA;AACAC;AACA;;AACA;;AACA;AACAC;AACA;;AACAA,gBAZA,CAaA;;AACA;AACA,KAhBA;AAiBAC,iBAjBA,yBAiBAH,CAjBA,EAiBAC,CAjBA,EAiBA;AACA;AACA;;AACA;AACA;AACAC,2CAFA,CAGA;;AACA;AACAA;AACA;;AACA;AACAA;AACA;AACA,OAVA,MAUA;AACAA;AACA;;AACA;AACA,KAlCA;AAmCAE,UAnCA,oBAmCA;AAAA;;AACA;AACA;AACA;AACAC,0EACA;AACA;AACAC;;AACA;AACA;AACA;AACA;AACA;AACAC,sDACAC,4BADA,CADA;AAIAC,8BAJA;AAKAjE,kDALA;AAMAkE,8CANA;AAOAC,sCAPA;AAQAC,sCARA;AASAC,kCATA;AAUAC,0CAVA;AAWAC,oDAXA;AAYAC,2BACAR,wBADA,EAEAA,kBAFA,EAGAA,oBAHA,EAIAA,kBAJA,EAKAA,gBALA,CAZA;AAmBAS;AAnBA;AAqBA;;AACA;AACA,OA/BA;AAiCA,KAxEA;AAyEAC,mBAzEA,2BAyEAC,IAzEA,EAyEA;AACA,uCADA,CAEA;;AACA;AACA;AACAC;AACA;AACAnB;AACA,uCARA,CASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,KA7FA;AA8FAoB,aA9FA,uBA8FA;AAAA;;AACA,qBACA,gBADA,EAEA,oBAFA,EAGA,oBAHA;AAKA;AACAC;AACA,+BADA,CAEA;AACA,OAHA;AAIAjB,gFACA;AACA;AACA,OAHA;AAKAA,wDACA,iBADA,EAEAkB,uCAFA,EAGAA,uCAHA,EAIAC,IAJA,CAIA;AACA,iCADA,CAEA;;AACAnB,0DACA,mBADA,EAEAkB,yCAFA,EAGAA,qCAHA,EAIAC,IAJA,CAIA;AACA,oCADA,CAEA;AACA;;AACA;AACA;AACA;AACA5E,+CADA;AAEAiE,6CAFA;AAGAD,iDAHA;AAIAF,yDAJA;AAKAtD,4BALA;AAMAE,mCANA;AAOAD,6BAPA;AAQAE;AARA;AAUA;AACA;;AACA;AACA;AACA,kBACA,yDACA,mDAFA,EAGA;AACA;AACA,wDACA,mCADA;AAEA;AACA;AACA;;AACA;AACA;AACA,kBACA,qDACA,+CAFA,EAGA;AACA;AACA,qDACA,iCADA;AAEA;AACA;AACA,WAzCA,CA0CA;;;AACA,4BA3CA,CA4CA;;;AACA;AACA;AACA,kBACAkE,UACAA,MADA,IAEAA,MAFA,IAGAA,MAHA,IAIAA,OAJA,IAKAA,OALA,IAMAA,OANA,IAOAA,OAPA,IAQAA,OARA,IASAA,OATA,IAUAA,OAVA,IAWAA,OAXA,IAYAA,OAbA,EAcA;AACA;;AACA;AACAC;AACA,iBAFA,MAEA;AACAA;AACA,iBAFA,MAEA;AACAA;AACA,iBAFA,MAEA;AACAA;AACA,iBAFA,MAEA;AACAA;AACA,iBAFA,MAEA;AACAA;AACA,iBAFA,MAEA;AACAA;AACA,iBAFA,MAEA;AACAA;AACA,iBAFA,MAEA;AACAA;AACA,iBAFA,MAEA;AACAA;AACA,iBAFA,MAEA;AACAA;AACA,iBAFA,MAEA;AACAA;AACA;;AACA;AACA9E,gCADA;AAEAQ,6BACA,6DAHA;AAIAC,8BACA,+DALA;AAMAC,oCACA,qCACA,sCARA;AASAC,qCACA,sCACA,uCAXA;AAYAqB,iFAZA;AAaAC,2BACA,yDAdA;AAeAoC;AAfA;AAiBA,eA1DA,MA2DA,CACA;AACA;AACA;AACA;AACA;AACA;AACA,eAnEA,CAoEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,WAzFA,MAyFA;AACA;AACA;;AACA;AACAU;AACA,eAFA,MAEA;AACAA;AACA,eAFA,MAEA;AACAA;AACA,eAFA,MAEA;AACAA;AACA,eAFA,MAEA;AACAA;AACA,eAFA,MAEA;AACAA;AACA,eAFA,MAEA;AACAA;AACA,eAFA,MAEA;AACAA;AACA,eAFA,MAEA;AACAA;AACA,eAFA,MAEA;AACAA;AACA,eAFA,MAEA;AACAA;AACA,eAFA,MAEA;AACAA;AACA;;AACA;AACA;AACA;;AAEArB;;AAEA;AACA;AACA,kBACAsB,UACAA,MADA,IAEAA,MAFA,IAGAA,MAHA,IAIAA,OAJA,IAKAA,OALA,IAMAA,OANA,IAOAA,OAPA,IAQAA,OARA,IASAA,OATA,IAUAA,OAVA,IAWAA,OAZA,EAaA;AACA;AACA,4CACA,8CADA;AAGA,sDACA,yBADA,EALA,CAQA;;AACA;AACA;AACA;;AACA,gFAZA,CAaA;;AACA;AACA,4CACA,yCADA;AAGA;;AACA,mDACA,4DADA;AAGA,yDACA,4BADA,EAtBA,CAyBA;;AACA;AACA,+CACA,gDADA;AAGA;;AACA,gEACA,mCADA;;AAGA;AACA,sDACA,8DADA;AAGA;;AACA,0BACA,0DADA;AAEA;;AACA;AACAC;AACA,iBAFA,MAEA;AACAA;AACA,uCACAC,+CADA,EAEAC,OAFA,CAEA,CAFA;AAGA;AACA;;AACA,kBACAH,UACAA,MADA,IAEAA,MAFA,IAGAA,OAHA,IAIAA,OAJA,IAKAA,OALA,IAMAA,OANA,IAOAA,OAPA,IAQAA,OARA,IASAA,OATA,IAUAA,OAVA,IAWAA,OAZA,EAaA;AACA,+CACA,iDADA;;AAGA,uDACA,yBADA,EAJA,CAOA;;;AACA;AACA,8CACA,4CADA;AAGA;;AACA,sDACA,+DADA;;AAGA,0DACA,4BADA,EAhBA,CAmBA;;;AACA;AACA,kDACA,mDADA;AAGA;;AACA,gFAzBA,CA0BA;;;AACA;AACA,+CACA,4CADA;AAGA;;AAEA,iEACA,mCADA,EAjCA,CAoCA;;;AAEA;AACA,yDACA,8BACA,mCAFA;AAIA;;AACA,2BACA,0DADA;;AAEA;;AACA;AACAI;AACA,iBAFA,MAEA;AACAA,iFADA,CAEA;;AACA,0CACAF,mDADA,EAEAC,OAFA,CAEA,CAFA;AAGA;AACA;AACA;AACA,WAzIA,MAyIA;AACA;AACA,yDACA,6BADA,EADA,CAIA;;;AACA;AACA,oCACAE,8BACAA,uCAFA;AAGA;;AACA,gEACA,oCADA;;AAGA;AACA,4CACA,uDADA;AAGA;;AACA;;AACA;AACA,gCACAA,8DADA;AAEA;;AAEA,sDACA,4BADA;;AAGA;AACA,2CACAA,qCACAA,sCAFA;AAGA;;AAEA,6DACA,mCADA;;AAGA;AACA,0CACAA,oCACAA,6CAFA;AAGA;;AAEA;;AACA;AACA,iCACAA,8DADA;AAEA;;AACA,0BACA,4DADA;;AAEA;;AACA;AACAC;AACA,eAFA,MAEA;AACAA,kFADA,CAEA;;AACA,qCACAJ,iDADA,EAEAC,OAFA,CAEA,CAFA;AAGA;AACA;AACA,WA9WA,CA+WA;;;AAEA;AACA;AACA,uCACA,8BACA,GADA,GAEA,uBAFA,GAGA,GAHA,GAIA,qBALA,EAMA,+CANA,EAOA,6CAPA,EAQA,2DARA,EASA,6DATA;AAUA;AACA;AACA;AACA,aAdA,MAcA;AACA,uCACA,8BACA,GADA,GAEA,uBAFA,GAGA,GAHA,GAIA,qBALA,EAMA,kDANA,EAOA,gDAPA,EAQA,8DARA,EASA,gEATA;AAUA;AACA;AACA;AACA;AACA;;AACA,6BAhZA,CAiZA;;AACA,SAtZA;AAuZA,OA9ZA;AA+ZA,KA7gBA;AA8gBAI,YA9gBA,sBA8gBA;AAAA;;AACA9B,qEACAmB,IADA,CACA;AACA;AACA,+BAFA,CAGA;;AACA;AACA,0CACAhB,kBADA,EAEAA,oBAFA,EAGAA,kBAHA,EAIAA,gBAJA;AAMA,SAXA,CAYA;AACA;;AACA,OAfA,EAgBA4B,KAhBA,CAgBA;AACA9B;AACA,OAlBA;AAmBA,KAliBA;AAmiBA+B,WAniBA,mBAmiBAC,KAniBA,EAmiBAC,GAniBA,EAmiBA;AACA;AACAD;AACA;AACAE;AACA;;AACAA;AACA,OALA;AAMA;AACA,KA5iBA;AA6iBAC,YA7iBA,sBA6iBA;AACA,sDADA,CAEA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,kBACA,2CACA,uDADA,IAEA,0CACA,uDAHA,IAIA,0CACA,uDALA,IAMA,yCACA,uDAPA,IAQA,yCACA,uDATA,IAUA,yCACA,uDAXA,IAYA,yCACA,uDAbA,IAcA,yCACA,uDAfA,IAgBA,yCACA,uDAjBA,IAkBA,yCACA,uDAnBA,IAoBA,yCACA,uDArBA,IAsBA,yCACA,uDAvBA,KAwBA,iDAzBA,EA0BA;AACArB;;AACA;AACA,kDACAU,iCACAA,0CAFA;AAIA,iBALA,MAKA;AACA,gDACAA,+BACAA,0CAFA;AAIA,iBALA,MAKA;AACA,kDACAA,iCACAA,0CAFA;AAIA,iBALA,MAKA;AACA,6CACAA,4BACAA,0CAFA;AAIA,iBALA,MAKA;AACA,iDACAA,gCACAA,0CAFA;AAIA;AACA,eAtDA,MAsDA,IACA,2CACA,uDADA,IAEA,0CACA,uDAHA,IAIA,0CACA,uDALA,IAMA,yCACA,mDAPA,IAQA,yCACA,mDATA,IAUA,yCACA,mDAXA,IAYA,yCACA,mDAbA,IAcA,yCACA,mDAfA,IAgBA,yCACA,mDAjBA,IAkBA,yCACA,mDAnBA,IAoBA,yCACA,mDArBA,IAsBA,yCACA,mDAvBA,KAwBA,iDAzBA,EA0BA;AACAV;;AACA;AACA,mDACAU,kCACAA,0CAFA;AAIA,iBALA,MAKA;AACA,iDACAA,gCACAA,0CAFA;AAIA,iBALA,MAKA;AACA,mDACAA,kCACAA,0CAFA;AAIA,iBALA,MAKA;AACA,8CACAA,6BACAA,0CAFA;AAIA,iBALA,MAKA;AACA,kDACAA,iCACAA,0CAFA;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACAlF,oBADA;AAEAiE,sBAFA;AAGAjC;AAHA;AAKA,SANA,MAMA;AACA;AACAhC,oBADA;AAEAiE,sBAFA;AAGAjC;AAHA;AAKA;;AACA;AACA;AACAhC,oBADA;AAEAiE,sBAFA;AAGAjC;AAHA;AAKA,SANA,MAMA;AACA;AACAhC,oBADA;AAEAiE,sBAFA;AAGAjC;AAHA;AAKA;;AACA;AACA;AACAhC,oBADA;AAEAiE,uBAFA;AAGAjC;AAHA;AAKA,SANA,MAMA;AACA;AACAhC,oBADA;AAEAiE,uBAFA;AAGAjC;AAHA;AAKA;;AACA;AACA;AACAhC,oBADA;AAEAiE,sBAFA;AAGAjC;AAHA;AAKA,SANA,MAMA;AACA;AACAhC,oBADA;AAEAiE,sBAFA;AAGAjC;AAHA;AAKA;;AACA;AACA;AACAhC,oBADA;AAEAiE,qBAFA;AAGAjC;AAHA;AAKA,SANA,MAMA;AACA;AACAhC,oBADA;AAEAiE,qBAFA;AAGAjC;AAHA;AAKA;;AAEA;AACA;AACAhC,oBADA;AAEAiE,sBAFA;AAGAhC;AAHA;AAKA,SANA,MAMA;AACA;AACAjC,oBADA;AAEAiE,sBAFA;AAGAhC;AAHA;AAKA;;AACA;AACA;AACAjC,oBADA;AAEAiE,sBAFA;AAGAhC;AAHA;AAKA,SANA,MAMA;AACA;AACAjC,oBADA;AAEAiE,sBAFA;AAGAhC;AAHA;AAKA;;AACA;AACA;AACAjC,oBADA;AAEAiE,uBAFA;AAGAhC;AAHA;AAKA,SANA,MAMA;AACA;AACAjC,oBADA;AAEAiE,uBAFA;AAGAhC;AAHA;AAKA;;AACA;AACA;AACAjC,oBADA;AAEAiE,sBAFA;AAGAhC;AAHA;AAKA,SANA,MAMA;AACA;AACAjC,oBADA;AAEAiE,sBAFA;AAGAhC;AAHA;AAKA;;AACA;AACA;AACAjC,oBADA;AAEAiE,qBAFA;AAGAhC;AAHA;AAKA,SANA,MAMA;AACA;AACAjC,oBADA;AAEAiE,qBAFA;AAGAhC;AAHA;AAKA;AACA,OAxQA,CAyQA;AACA;;;AAEA;AACA;AACA,cACA,wDACA,kDAFA,EAGA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,cACA,2DACA,qDAFA,EAGA;AACA;AACA;AACA;AACA;AACA,OAjSA,CAkSA;;AACA,KAh1BA;AAi1BA6D,UAj1BA,oBAi1BA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACAC;AACAC;AACA/D,6BACAiD,kDADA;AAGA;AACA;AACA;AACA;;AACAxB;AACA,KAp2BA;AAq2BAuC,eAr2BA,yBAq2BA;AACA;AACA;AACA;AACA;AACA;AACA,kDACAf,+DADA;AAGA,WANA,MAMA;AACA;AACA;AACA,SAVA,MAUA;AACA;AACA;AACA;AACA,KAr3BA;AAs3BAD,OAt3BA,eAs3BAlB,MAt3BA,EAs3BAG,QAt3BA,EAs3BAF,MAt3BA,EAs3BAC,IAt3BA,EAs3BA;AACA;AACA;AACA;AACA;;AACA;AACAiC,0CADA,CAEA;AACA;;AACAC,gDAJA,CAKA;;AACA;AACA,OAPA,MAOA;AACAC,yCADA,CAEA;AACA;;AACAC,gDAJA,CAKA;;AACA;AACA;AACA,KA14BA;AA24BAC,qBA34BA,6BA24BAC,SA34BA,EA24BA;AACA;AACA;AACA;AACA;AACA;AAEA,oDANA,CAMA;AACA;;AACA;AACA;AACA,KAt5BA;AAu5BAC,oBAv5BA,8BAu5BA;AACA;AACAC;AACAC,qBADA;AAEAC,sBAFA;AAGAC;AACAC,yBADA;AAEAC,yBAFA;AAGAC,mBAHA;AAIAC,mBAJA;AAKAC,oBALA;AAMAC;AANA,WAHA;AAWAC;AACAC;AADA;AAXA,SADA;AAgBAC,sCAhBA;AAiBAC;AACAT;AADA,SAjBA;AAoBAU;AACAC;AADA,SApBA;AAuBAC;AACAC,4CADA;AAEAC,uBAFA;AAGAC;AACAC;AADA;AAHA,SAvBA;AA8BAC;AACAC,gCADA;AAEAC;AACAX,8CADA;AACA;AACAH;AAFA;AAFA,SA9BA;AAqCAe;AACAhE;AADA,SArCA;AAwCAiE;AACA;AACAC,uBACA,QADA,EAEA,WAFA,EAGA,SAHA,EAIA,QAJA,EAKA,YALA,EAMA,QANA,EAOA,QAPA,EAQA,SARA,EASA,UATA,EAUA,SAVA,EAWA,SAXA,EAYA,SAZA,CAFA;AAgBAV;AACAC,yBADA;AAEAE;AACAC;AADA;AAFA,WAhBA;AAsBAO;AACAR;AACAC;AADA;AADA;AAtBA,SAxCA;AAoEAQ;AACAZ;AACAC,wCADA;AAEAE;AACAC;AADA;AAFA,WADA;AAOAO;AACAR;AACAC;AADA;AADA;AAPA,SApEA;AAiFAS;AACAC,yBADA;AAEAC,kCAFA;AAGAC,wBAHA;AAIAC,sBAJA;AAKAC;AALA;AAjFA;AAyFA,KAj/BA;AAk/BAC,kBAl/BA,4BAk/BA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA;AACA;AACA;AACA;AACA;AACA,OAbA,CAcA;AACA;;;AACA;AACAC,8BADA;AAEAjB,eACA;AAHA;AAKA;AACAiB,kCADA;AAEAjB,eACA;AAHA,SArBA,CA0BA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA,aAFA,MAEA;AACA;AACA,aAFA,MAEA;AACA;AACA,aAFA,MAEA;AACA;AACA,aAFA,MAEA;AACA;AACA,aAFA,MAEA;AACA;AACA,aAFA,MAEA;AACA;AACA,aAFA,MAEA;AACA;AACA,aAFA,MAEA;AACA;AACA,aAFA,MAEA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA,aAFA,MAEA;AACA;AACA,aAFA,MAEA;AACA;AACA,aAFA,MAEA;AACA;AACA,aAFA,MAEA;AACA;AACA,aAFA,MAEA;AACA;AACA,aAFA,MAEA;AACA;AACA,aAFA,MAEA;AACA;AACA,aAFA,MAEA;AACA;AACA,aAFA,MAEA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AACA,OAxFA,CAyFA;;AACA,KA5kCA;AA6kCAkB,aA7kCA,uBA6kCA;AACA;AACA7J,sCADA;AAEA2I;AACAC;AADA,SAFA;AAKAgB;AALA;AAOA;AACA5J,0CADA;AAEA2I;AACAC;AADA,SAFA;AAKAgB;AALA,SARA,CAeA;;AACA;AACA;AACA,cACA7D,UACAA,MADA,IAEAA,MAFA,IAGAA,MAHA,IAIAA,OAJA,IAKAA,OALA,IAMAA,OANA,IAOAA,OAPA,IAQAA,OARA,IASAA,OATA,IAUAA,OAVA,IAWAA,OAZA,EAaA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;;AACA;AACA;AACA;AACA,OAxBA,MAwBA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;;AACA;AACA,KAvoCA;AAwoCA+D,oBAxoCA,4BAwoCApC,IAxoCA,EAwoCAvD,CAxoCA,EAwoCA;AACA;AACA;AACA;AACAA;;AACA;AACAE;AACA,OAFA,MAEA;AACAA;AACA;;AACA;AACA;AAnpCA;AA5FA","names":["name","data","list","itemPreviewImage","id","item","img","image","net_tax","startdate","enddate","factory_code","yearcurrent","newlist","tbmonth","month","tbsize","header","content","tbyear","before","current","taxlist","summunber","summunbery","sumvolume_liquor","sumvolume_liquory","summunbertwo","summunberytwo","sumvolume_liquortwo","sumvolume_liquorytwo","difsummunber","difsumvolume_liquor","difsummunbertwo","difsumvolume_liquortwo","taxdatabefore","sumthreethree","sumsixthree","sumsixtwofive","sumseven","sumsevenfive","taxdatacurrent","sumthreethreec","sumsixthreec","sumsixtwofivec","sumsevenc","sumsevenfivec","sumtax","sumtaxy","sumtaxtwo","sumtaxytwo","difsumtax","difsumtaxtwo","percentage","percentagetwo","months","chartOptions","series","volume_liquorbefore","volume_liquorcurrent","monthtvolumnable","props","msg","computed","mounted","methods","caldiff","x","y","r","calpercentage","search","MergeLiquorReportService","console","tax_payment_date","res","no","brand_name","number","degree","size","per_each","volume_liquor","net","colour","convertdatesort","date","m","getheader","DetailExciseService","String","then","i","monthTH","monthTH1","t","cal","parseFloat","toFixed","cals","parseInt","calss","loaddata","catch","groupBy","array","key","result","summonth","calsum","sumstampy","sumvolumny","cal_net_tax","x1","x2","x3","x4","convertdatetothai","datetimes","loadchartOptions","chart","height","type","dropShadow","enabled","color","top","left","blur","opacity","toolbar","show","colors","dataLabels","stroke","curve","title","text","align","style","fontSize","grid","borderColor","row","markers","xaxis","categories","labels","yaxis","legend","position","horizontalAlign","floating","offsetY","offsetX","loadvolumnable","year","loadgraph","numberWithCommas"],"sourceRoot":"src/components","sources":["graphvolumn.vue"],"sourcesContent":["<template>\n  <div class=\"hello mt-5\">\n    <div class=\"row\">\n      <div class=\"col-md-12\">\n        <!-- <div id=\"chart\">\n          <apexchart\n            type=\"line\"\n            height=\"350\"\n            :options=\"chartOptions\"\n            :series=\"series\"\n          ></apexchart>\n        </div> -->\n        <!-- <table class=\"table table-bordered\">\n          <thead>\n            <tr>\n              <th scope=\"col\"></th>\n              <th style=\"text-align: center\" scope=\"col\"></th>\n              <th style=\"text-align: center\" scope=\"col\"></th>\n              <th style=\"text-align: center\" scope=\"col\"></th>\n              <th style=\"text-align: center\" scope=\"col\"></th>\n              <th style=\"text-align: center\" scope=\"col\"></th>\n              <th style=\"text-align: center\" scope=\"col\"></th>\n              <th style=\"text-align: center\" scope=\"col\"></th>\n              <th style=\"text-align: center\" scope=\"col\"></th>\n              <th style=\"text-align: center\" scope=\"col\"></th>\n              <th style=\"text-align: center\" scope=\"col\"></th>\n              <th style=\"text-align: center\" scope=\"col\"></th>\n              <th style=\"text-align: center\" scope=\"col\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(s, u) in monthtvolumnable\" :key=\"u\">\n              <th scope=\"row\">\n                <span\n                  class=\"apexcharts-legend-marker\"\n                  rel=\"1\"\n                  data:collapsed=\"false\"\n                  :style=\"s.style\"\n                ></span>\n                {{ s.year }}\n              </th>\n              <td style=\"text-align: center\">{{ numberWithCommas('',s.oct) }}</td>\n              <td style=\"text-align: center\">{{ numberWithCommas('',s.nov) }}</td>\n              <td style=\"text-align: center\">{{ numberWithCommas('',s.dec) }}</td>\n              <td style=\"text-align: center\">{{ numberWithCommas('',s.jan) }}</td>\n              <td style=\"text-align: center\">{{ numberWithCommas('',s.feb) }}</td>\n              <td style=\"text-align: center\">{{ numberWithCommas('',s.mar) }}</td>\n              <td style=\"text-align: center\">{{ numberWithCommas('',s.apr) }}</td>\n              <td style=\"text-align: center\">{{ numberWithCommas('',s.may) }}</td>\n              <td style=\"text-align: center\">{{ numberWithCommas('',s.jun) }}</td>\n              <td style=\"text-align: center\">{{ numberWithCommas('',s.jul) }}</td>\n              <td style=\"text-align: center\">{{ numberWithCommas('',s.aug) }}</td>\n              <td style=\"text-align: center\">{{ numberWithCommas('',s.sep) }}</td>\n            </tr>\n          </tbody>\n        </table> -->\n        <table class=\"table table-bordered mt-3 mb-5\">\n          <thead>\n            <tr>\n              <th\n                class=\"table-info\"\n                style=\"text-align: center; font-weight: bold\"\n              >\n                \n              </th>\n              <th\n                scope=\"col\"\n                colspan=\"3\"\n                style=\"\n                  background-color: #dae2f3;\n                  text-align: center;\n                  font-weight: bold;\n                \"\n              >\n                 (.. {{ yearcurrent - 1 }} - .. {{ yearcurrent }})\n              </th>\n              <th\n                scope=\"col\"\n                colspan=\"3\"\n                style=\"\n                  background-color: #fff1cc;\n                  text-align: center;\n                  font-weight: bold;\n                \"\n              >\n                 (.. {{ yearcurrent - 2 }} - .. {{ yearcurrent - 1 }})\n              </th>\n              <th\n                scope=\"col\"\n                colspan=\"4\"\n                style=\"\n                  background-color: #e1efd9;\n                  text-align: center;\n                  font-weight: bold;\n                \"\n              >\n                \n              </th>\n            </tr>\n            <tr>\n              <th\n                class=\"table-info\"\n                style=\"text-align: center; font-weight: bold\"\n              >\n                \n              </th>\n              <th\n                style=\"\n                  background-color: #dae2f3;\n                  text-align: center;\n                  font-weight: bold;\n                \"\n              >\n                \n              </th>\n              <th\n                style=\"\n                  background-color: #dae2f3;\n                  text-align: center;\n                  font-weight: bold;\n                \"\n              >\n                \n              </th>\n              <th\n                style=\"\n                  background-color: #dae2f3;\n                  text-align: center;\n                  font-weight: bold;\n                \"\n              >\n                \n              </th>\n              <th\n                style=\"\n                  background-color: #fff1cc;\n                  text-align: center;\n                  font-weight: bold;\n                \"\n              >\n                \n              </th>\n              <th\n                style=\"\n                  background-color: #fff1cc;\n                  text-align: center;\n                  font-weight: bold;\n                \"\n              >\n                \n              </th>\n              <th\n                style=\"\n                  background-color: #fff1cc;\n                  text-align: center;\n                  font-weight: bold;\n                \"\n              >\n                \n              </th>\n              <th\n                style=\"\n                  background-color: #e1efd9;\n                  text-align: center;\n                  font-weight: bold;\n                \"\n              >\n                \n              </th>\n              <th\n                style=\"\n                  background-color: #e1efd9;\n                  text-align: center;\n                  font-weight: bold;\n                \"\n              >\n                \n              </th>\n              <th\n                style=\"\n                  background-color: #e1efd9;\n                  text-align: center;\n                  font-weight: bold;\n                \"\n              >\n                \n              </th>\n              <th\n                style=\"\n                  background-color: #e1efd9;\n                  text-align: center;\n                  font-weight: bold;\n                \"\n              >\n                \n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(m, i) in content\" :key=\"i\">\n              <th :style=\"m.colour\">{{ m.month }}</th>\n              <th\n                scope=\"col\"\n                :style=\"\n                  m.colour + ';background-color: #dae2f3; text-align: right'\n                \"\n              >\n                {{ numberWithCommas('',m.summunbery) || \"\" }}\n              </th>\n              <th\n                scope=\"col\"\n                :style=\"\n                  m.colour + ';background-color: #dae2f3; text-align: right'\n                \"\n              >\n                {{ numberWithCommas('',m.sumvolume_liquory) || \"\" }}\n              </th>\n              <th\n                scope=\"col\"\n                v-if=\"m.sumtaxy\"\n                :style=\"\n                  m.colour + ';background-color: #dae2f3; text-align: right'\n                \"\n              >\n                {{ numberWithCommas('tax',m.sumtaxy) + \".00\" }}\n              </th>\n              <th\n                v-if=\"!m.sumtaxy\"\n                scope=\"col\"\n                :style=\"\n                  m.colour + ';background-color: #dae2f3; text-align: right'\n                \"\n              >0.00</th>\n              <th\n                scope=\"col\"\n                :style=\"\n                  m.colour + ';background-color: #fff1cc; text-align: right'\n                \"\n              >\n                {{ numberWithCommas('',m.summunber) }}\n              </th>\n              <th\n                scope=\"col\"\n                :style=\"\n                  m.colour + ';background-color: #fff1cc; text-align: right'\n                \"\n              >\n                {{ numberWithCommas('',m.sumvolume_liquor) }}\n              </th>\n              <th\n                scope=\"col\"\n                :style=\"\n                  m.colour + ';background-color: #fff1cc; text-align: right'\n                \"\n              >\n                {{ numberWithCommas('',m.sumtax) + \".00\" }}\n              </th>\n              <th\n                scope=\"col\"\n                :style=\"\n                  m.colour + ';background-color: #e1efd9; text-align: right'\n                \"\n              >\n                <div\n                  v-if=\"caldiff(m.summunbery, m.summunber) < 0\"\n                  style=\"color: red\"\n                >\n                  {{\n                    numberWithCommas('',caldiff(m.summunbery, m.summunber)) || 0\n                  }}\n                </div>\n                <div v-if=\"caldiff(m.summunbery, m.summunber) >= 0\">\n                  {{\n                    numberWithCommas('',caldiff(m.summunbery, m.summunber)) || 0\n                  }}\n                </div>\n              </th>\n              <th\n                scope=\"col\"\n                :style=\"\n                  m.colour + ';background-color: #e1efd9; text-align: right'\n                \"\n              >\n                <div\n                  v-if=\"caldiff(m.sumvolume_liquory, m.sumvolume_liquor) < 0\"\n                  style=\"color: red\"\n                >\n                  {{\n                    numberWithCommas('',\n                      caldiff(m.sumvolume_liquory, m.sumvolume_liquor)\n                    )\n                  }}\n                </div>\n                <div\n                  v-if=\"caldiff(m.sumvolume_liquory, m.sumvolume_liquor) >= 0\"\n                >\n                  {{\n                    numberWithCommas('',\n                      caldiff(m.sumvolume_liquory, m.sumvolume_liquor)\n                    ) || 0\n                  }}\n                </div>\n              </th>\n              <th\n                scope=\"col\"\n                :style=\"\n                  m.colour + ';background-color: #e1efd9; text-align: right'\n                \"\n              >\n                <div v-if=\"caldiff(m.sumtaxy, m.sumtax) < 0\" style=\"color: red\">\n                  {{\n                    numberWithCommas('',caldiff(m.sumtaxy, m.sumtax)) + \".00\" || 0\n                  }}\n                </div>\n                <div v-if=\"caldiff(m.sumtaxy, m.sumtax) > 0\">\n                  {{\n                    numberWithCommas('',caldiff(m.sumtaxy, m.sumtax)) + \".00\" || 0\n                  }}\n                </div>\n                <div v-if=\"caldiff(m.sumtaxy, m.sumtax) == 0\">0</div>\n              </th>\n              <th scope=\"col\" :style=\"m.colour + ';text-align: right'\">\n                <div\n                  v-if=\"\n                    calpercentage(m.sumtaxy - m.sumtax, m.sumtax) < 0\n                  \"\n                  style=\"color: red\"\n                >\n                  {{\n                    numberWithCommas('',\n                      calpercentage(m.sumtaxy - m.sumtax, m.sumtax)\n                    )\n                  }}\n                </div>\n                <div v-if=\"\n                    calpercentage(m.sumtaxy - m.sumtax, m.sumtax) >= 0\n                  \"\n                >\n                  {{\n                    numberWithCommas('',\n                      calpercentage(m.sumtaxy - m.sumtax, m.sumtax)\n                    ) + \".00\"\n                  }}\n                </div>\n              </th>\n            </tr>\n            <!-- <tr v-for=\"h in header\" :key=\"h.size\">\n          <td style=\"text-align: center; font-weight: bold\" class=\"table-info\">\n            {{ h.title }}\n          </td>\n          <th\n            scope=\"col\"\n            style=\"text-align: right; font-weight: bold\"\n            class=\"table-info\"\n          >\n            {{ h.summunbery }}\n          </th>\n          <th\n            scope=\"col\"\n            style=\"text-align: right; font-weight: bold\"\n            class=\"table-info\"\n          >\n            {{ h.summunber }}\n          </th>\n          <th\n            scope=\"col\"\n            style=\"text-align: right; font-weight: bold\"\n            class=\"table-info\"\n          >\n            {{ h.sumtax }}\n          </th>\n          <th\n            scope=\"col\"\n            style=\"text-align: right; font-weight: bold\"\n            class=\"table-info\"\n          >\n            {{ h.sumvolume_liquory }}\n          </th>\n          <th\n            scope=\"col\"\n            style=\"text-align: right; font-weight: bold\"\n            class=\"table-info\"\n          >\n            {{ h.sumvolume_liquor }}\n          </th>\n          <th style=\"text-align: right; font-weight: bold\" class=\"table-info\">\n            {{ h.sumtaxy }}\n          </th>\n          <th\n            scope=\"col\"\n            style=\"text-align: right; font-weight: bold\"\n            class=\"table-info\"\n          >\n            {{ h.summunbery - h.sumvolume_liquory }}\n          </th>\n          <th\n            scope=\"col\"\n            style=\"text-align: right; font-weight: bold\"\n            class=\"table-info\"\n          >\n            {{ h.summunber - h.sumvolume_liquor }}\n          </th>\n          <th\n            scope=\"col\"\n            style=\"text-align: right; font-weight: bold\"\n            class=\"table-info\"\n          >\n            {{ h.sumtax - h.sumtaxy }}\n          </th>\n          <th\n            scope=\"col\"\n            style=\"text-align: right; font-weight: bold\"\n            class=\"table-info\"\n          >\n            {{ h.percentage }}\n          </th>\n        </tr> -->\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport MergeLiquorReportService from \"../services/MergeLiquorReportService.js\";\nimport DetailExciseService from \"../services/DetailExciseService\";\n\nexport default {\n  name: \"HelloWorld\",\n  data() {\n    return {\n      list: [],\n      itemPreviewImage: \"\",\n      id: \"\",\n      item: [],\n      data: [],\n      img: \"\",\n      image: \"\",\n      net_tax: [],\n      startdate: \"\",\n      enddate: \"\",\n      factory_code: \"\",\n      yearcurrent: \"\",\n      newlist: [],\n      tbmonth: [\n        { month: 10 },\n        { month: 11 },\n        { month: 12 },\n        { month: 1 },\n        { month: 2 },\n        { month: 3 },\n        { month: 4 },\n        { month: 5 },\n        { month: 6 },\n        { month: 7 },\n        { month: 8 },\n        { month: 9 },\n      ],\n      tbsize: [0.33, 0.625, 0.63, 0.7, 0.75],\n      header: [],\n      content: [],\n      tbyear: [],\n      before: [],\n      current: [],\n      taxlist: [],\n      summunber: 0,\n      summunbery: 0,\n      sumvolume_liquor: 0,\n      sumvolume_liquory: 0,\n      summunbertwo: 0,\n      summunberytwo: 0,\n      sumvolume_liquortwo: 0,\n      sumvolume_liquorytwo: 0,\n      difsummunber: 0,\n      difsumvolume_liquor: 0,\n      difsummunbertwo: 0,\n      difsumvolume_liquortwo: 0,\n      taxdatabefore: [],\n      sumthreethree: 0,\n      sumsixthree: 0,\n      sumsixtwofive: 0,\n      sumseven: 0,\n      sumsevenfive: 0,\n      taxdatacurrent: [],\n      sumthreethreec: 0,\n      sumsixthreec: 0,\n      sumsixtwofivec: 0,\n      sumsevenc: 0,\n      sumsevenfivec: 0,\n      sumtax: 0,\n      sumtaxy: 0,\n      sumtaxtwo: 0,\n      sumtaxytwo: 0,\n      difsumtax: 0,\n      difsumtaxtwo: 0,\n      percentage: 0,\n      percentagetwo: 0,\n      months: \"\",\n      chartOptions: {},\n      series: [],\n      volume_liquorbefore: [],\n      volume_liquorcurrent: [],\n      monthtvolumnable: [],\n    };\n  },\n  props: {\n    msg: String,\n  },\n  computed: {},\n  mounted() {\n    const d = new Date();\n    this.yearcurrent = parseInt(d.getFullYear() + 543);\n    this.months = parseInt(d.getMonth());\n    // console.log(this.$route.params.id);\n    this.factory_code = this.$route.params.id;\n    this.loaddata();\n    this.getheader();\n    this.loadchartOptions();\n  },\n  methods: {\n    caldiff(x, y) {\n      // console.log(x,y);\n      if (isNaN(x)) {\n        x = 0\n      }\n      if (isNaN(y)) {\n        y = 0\n      }\n      var r = 0;\n      if (x == y) {\n        r = 0;\n      }\n      r = x - y;\n      // console.log(r);\n      return r;\n    },\n    calpercentage(x, y) {\n      var r = 0;\n      const ischeck = Number.isInteger(x);\n      if (ischeck) {\n        var a = x / y;\n        r = parseFloat(a * 100).toFixed(2);\n        // console.log(r);\n        if (r == Infinity) {\n          r = 0;\n        }\n        if (isNaN(r)) {\n          r = \"\";\n        }\n      } else {\n        r = \"\";\n      }\n      return r;\n    },\n    search() {\n      // var startdate = this.convertdatesort(this.startdate);\n      // var enddate = this.convertdatesort(this.enddate);\n      // console.log(this.enddate);\n      MergeLiquorReportService.getReportLiquorTax(this.factory_code).then(\n        (res) => {\n          this.list = [];\n          console.log(res.data);\n          for (let i = 0; i < res.data.length; i++) {\n            // if (res.data[i].factory_code == res.data[i - 1].factory_code) {\n            // sum_net_tax = res.data[i].net + res.data[i - 1].net;\n            // }\n            this.list.push({\n              tax_payment_date: this.convertdatetothai(\n                res.data[i].tax_payment_date\n              ),\n              no: res.data[i].no,\n              factory_code: res.data[i].factory_code,\n              brand_name: res.data[i].brand_name,\n              number: res.data[i].number,\n              degree: res.data[i].degree,\n              size: res.data[i].size,\n              per_each: res.data[i].per_each,\n              volume_liquor: res.data[i].volume_liquor,\n              net: this.cal(\n                res.data[i].factory_code,\n                res.data[i].number,\n                res.data[i].per_each,\n                res.data[i].degree,\n                res.data[i].size\n              ),\n              colour: \"table-success\",\n            });\n          }\n          this.cal_net_tax();\n        }\n      );\n    },\n    convertdatesort(date) {\n      var streetaddress = String(date);\n      // console.log(streetaddress);\n      var y = streetaddress.substring(0, streetaddress.indexOf(\"-\"));\n      var m = streetaddress.substring(7, streetaddress.indexOf(\"-\"));\n      m = m.substring(1, 3);\n      var d = streetaddress.substring(8, 10);\n      y = parseInt(y) + 543;\n      var full = y + \"-\" + m + \"-\" + d;\n      // console.log(d)\n      // console.log(m)\n      // console.log(y);\n      // console.log(full);\n      // var timestamp = Date.parse(full);\n      // var dateObject = new Date(timestamp);\n      // dateObject.setDate(dateObject.getDate() + 1);\n      // console.log(dateObject);\n      // const result = dateObject.toLocaleDateString(\"en-EN\");\n      // console.log(result);\n      return full;\n    },\n    getheader() {\n      this.tbyear = [\n        this.yearcurrent,\n        this.yearcurrent - 1,\n        this.yearcurrent - 2,\n      ];\n      this.show = true;\n      DetailExciseService.getDetailExcise(this.factory_code).then((res) => {\n        this.data = res.data;\n        // console.log(res.data);\n      });\n      MergeLiquorReportService.getReportLiquorTaxHeader(this.factory_code).then(\n        (res) => {\n          this.header = res.data;\n        }\n      );\n      MergeLiquorReportService.getReportLiquorTaxDetail(\n        this.factory_code,\n        String(this.yearcurrent - 2 + \"-10-01\"),\n        String(this.yearcurrent - 1 + \"-10-01\")\n      ).then((res) => {\n        this.before = res.data;\n        // console.log(this.before);\n        MergeLiquorReportService.getReportLiquorTaxDetail(\n          this.factory_code,\n          String(this.yearcurrent - 1 + \"-10-01\"),\n          String(this.yearcurrent + \"-09-01\")\n        ).then((res) => {\n          this.current = res.data;\n          // this.content = this.current;\n          // console.log(this.before);\n          for (let hh = 0; hh < this.tbmonth.length; hh++) {\n            for (let hhh = 0; hhh < this.header.length; hhh++) {\n              this.content.push({\n                month: this.tbmonth[hh].month,\n                size: this.header[hhh].size,\n                degree: this.header[hhh].degree,\n                brand_name: this.header[hhh].brand_name,\n                summunber: 0,\n                sumvolume_liquor: 0,\n                summunbery: 0,\n                sumvolume_liquory: 0,\n              });\n            }\n          }\n          for (let cc = 0; cc < this.current.length; cc++) {\n            for (let con = 0; con < this.content.length; con++) {\n              if (\n                this.current[cc].month == this.content[con].month &&\n                this.current[cc].size == this.content[con].size\n              ) {\n                this.content[con].summunbery = this.current[cc].summunber;\n                this.content[con].sumvolume_liquory =\n                  this.current[cc].sumvolume_liquor;\n              }\n            }\n          }\n          for (let b = 0; b < this.content.length; b++) {\n            for (let c = 0; c < this.before.length; c++) {\n              if (\n                this.before[c].month == this.content[b].month &&\n                this.before[c].size == this.content[b].size\n              ) {\n                this.content[b].summunber = this.before[c].summunber;\n                this.content[b].sumvolume_liquor =\n                  this.before[c].sumvolume_liquor;\n              }\n            }\n          }\n          // console.log(this.content);\n          this.summonth();\n          // console.log(this.header.length);\n          if (this.header.length == 2) {\n            for (let i = 0; i < this.content.length; i++) {\n              if (\n                i == 0 ||\n                i == 3 ||\n                i == 6 ||\n                i == 9 ||\n                i == 12 ||\n                i == 15 ||\n                i == 18 ||\n                i == 21 ||\n                i == 24 ||\n                i == 27 ||\n                i == 30 ||\n                i == 33 ||\n                i == 36\n              ) {\n                var monthTH = \"\";\n                if (this.content[i].month == 10) {\n                  monthTH = \"\";\n                } else if (this.content[i].month == 11) {\n                  monthTH = \"\";\n                } else if (this.content[i].month == 12) {\n                  monthTH = \"\";\n                } else if (this.content[i].month == 1) {\n                  monthTH = \"\";\n                } else if (this.content[i].month == 2) {\n                  monthTH = \"\";\n                } else if (this.content[i].month == 3) {\n                  monthTH = \"\";\n                } else if (this.content[i].month == 4) {\n                  monthTH = \"\";\n                } else if (this.content[i].month == 5) {\n                  monthTH = \"\";\n                } else if (this.content[i].month == 6) {\n                  monthTH = \"\";\n                } else if (this.content[i].month == 7) {\n                  monthTH = \"\";\n                } else if (this.content[i].month == 8) {\n                  monthTH = \"\";\n                } else if (this.content[i].month == 9) {\n                  monthTH = \"\";\n                }\n                this.content.splice([i], 0, {\n                  month: monthTH,\n                  summunber:\n                    this.content[i].summunber + this.content[i + 1].summunber,\n                  summunbery:\n                    this.content[i].summunbery + this.content[i + 1].summunbery,\n                  sumvolume_liquor:\n                    this.content[i].sumvolume_liquor +\n                    this.content[i + 1].sumvolume_liquor,\n                  sumvolume_liquory:\n                    this.content[i].sumvolume_liquory +\n                    this.content[i + 1].sumvolume_liquory,\n                  sumtax: this.content[i].sumtax + this.content[i + 1].sumtax,\n                  sumtaxy:\n                    this.content[i].sumtaxy + this.content[i + 1].sumtaxy,\n                  colour: \"font-weight: bold\",\n                });\n              } \n              else {\n                // this.content[i].month = 1+\n                //   this.content[i].brand_name +\n                //   \"-\" +\n                //   this.content[i].degree +\n                //   \"-\" +\n                //   this.content[i].size;\n              }\n              // if (i == 34) {\n              //   this.content.splice([i + 1], 0, {\n              //     month: \"\",\n              //     summunber:\n              //       this.content[i - 1].summunber + this.content[i].summunber,\n              //     summunbery:\n              //       this.content[i - 1].summunbery + this.content[i].summunbery,\n              //     sumvolume_liquor:\n              //       this.content[i - 1].sumvolume_liquor +\n              //       this.content[i].sumvolume_liquor,\n              //     sumvolume_liquory:\n              //       this.content[i - 1].sumvolume_liquory +\n              //       this.content[i].sumvolume_liquory,\n              //     sumtax: this.content[i - 1].sumtax + this.content[i].sumtax,\n              //     sumtaxy:\n              //       this.content[i - 1].sumtaxy + this.content[i].sumtaxy,\n              //     colour: \"font-weight: bold\",\n              //   });\n              // }\n            }\n          } else {\n            for (let j = 0; j < this.content.length; j++) {\n              var monthTH1 = \"\";\n              if (this.content[j].month == 10) {\n                monthTH1 = \"\";\n              } else if (this.content[j].month == 11) {\n                monthTH1 = \"\";\n              } else if (this.content[j].month == 12) {\n                monthTH1 = \"\";\n              } else if (this.content[j].month == 1) {\n                monthTH1 = \"\";\n              } else if (this.content[j].month == 2) {\n                monthTH1 = \"\";\n              } else if (this.content[j].month == 3) {\n                monthTH1 = \"\";\n              } else if (this.content[j].month == 4) {\n                monthTH1 = \"\";\n              } else if (this.content[j].month == 5) {\n                monthTH1 = \"\";\n              } else if (this.content[j].month == 6) {\n                monthTH1 = \"\";\n              } else if (this.content[j].month == 7) {\n                monthTH1 = \"\";\n              } else if (this.content[j].month == 8) {\n                monthTH1 = \"\";\n              } else if (this.content[j].month == 9) {\n                monthTH1 = \"\";\n              }\n              this.content[j].month = monthTH1;\n            }\n          }\n\n          console.log(this.content);\n\n          if (this.header.length == 2) {\n            for (let t = 0; t < this.content.length; t++) {\n              if (\n                t == 0 ||\n                t == 3 ||\n                t == 6 ||\n                t == 9 ||\n                t == 12 ||\n                t == 15 ||\n                t == 18 ||\n                t == 21 ||\n                t == 24 ||\n                t == 27 ||\n                t == 30 ||\n                t == 33\n              ) {\n                // console.log(this.content[t].summunbery - this.content[t].summunber);\n                this.summunber = parseInt(\n                  this.summunber + this.content[t].summunber\n                );\n                const isValidsumtaxy = Number.isInteger(\n                  this.content[t].sumtaxy\n                );\n                // console.log(isValidsummunbery);\n                if (isValidsumtaxy) {\n                  this.sumtax = parseInt(this.sumtax + this.content[t].sumtaxy);\n                }\n                const isValidsumtax = Number.isInteger(this.content[t].sumtaxy);\n                // console.log(isValidsummunbery);\n                if (isValidsumtax) {\n                  this.sumtaxy = parseInt(\n                    this.sumtaxy + this.content[t].sumtax\n                  );\n                }\n                this.sumvolume_liquor = parseInt(\n                  this.sumvolume_liquor + this.content[t].sumvolume_liquor\n                );\n                const isValidsummunbery = Number.isInteger(\n                  this.content[t].summunbery\n                );\n                // console.log(isValidsummunbery);\n                if (isValidsummunbery) {\n                  this.summunbery = parseInt(\n                    this.summunbery + this.content[t].summunbery\n                  );\n                }\n                const isValidsumvolume_liquory = Number.isInteger(\n                  this.content[t].sumvolume_liquory\n                );\n                if (isValidsumvolume_liquory) {\n                  this.sumvolume_liquory = parseInt(\n                    this.sumvolume_liquory + this.content[t].sumvolume_liquory\n                  );\n                }\n                var cal =\n                  this.content[t].summunbery - this.content[t].summunber;\n                const ischecks = Number.isInteger(cal);\n                if (!ischecks) {\n                  cal = 0;\n                } else {\n                  cal = this.calpercentage(cal, this.content[t].summunber);\n                  this.percentage = (\n                    parseFloat(this.percentage) + parseFloat(cal)\n                  ).toFixed(2);\n                }\n              }\n              if (\n                t == 1 ||\n                t == 4 ||\n                t == 7 ||\n                t == 10 ||\n                t == 13 ||\n                t == 16 ||\n                t == 19 ||\n                t == 22 ||\n                t == 25 ||\n                t == 28 ||\n                t == 31 ||\n                t == 34\n              ) {\n                this.summunbertwo = parseInt(\n                  this.summunbertwo + this.content[t].summunber\n                );\n                const isValidsumtaxy = Number.isInteger(\n                  this.content[t].sumtaxy\n                );\n                // console.log(isValidsummunbery);\n                if (isValidsumtaxy) {\n                  this.sumtaxtwo = parseInt(\n                    this.sumtaxtwo + this.content[t].sumtaxy\n                  );\n                }\n                this.sumvolume_liquortwo = parseInt(\n                  this.sumvolume_liquortwo + this.content[t].sumvolume_liquor\n                );\n                const isValidsummunbery = Number.isInteger(\n                  this.content[t].summunbery\n                );\n                // console.log(isValidsummunbery);\n                if (isValidsummunbery) {\n                  this.summunberytwo = parseInt(\n                    this.summunberytwo + this.content[t].summunbery\n                  );\n                }\n                const isValidsumtax = Number.isInteger(this.content[t].sumtax);\n                // console.log(isValidsummunbery);\n                if (isValidsumtax) {\n                  this.sumtaxytwo = parseInt(\n                    this.sumtaxytwo + this.content[t].sumtax\n                  );\n                }\n\n                const isValidsumvolume_liquory = Number.isInteger(\n                  this.content[t].sumvolume_liquory\n                );\n                // console.log(this.content[t].sumtax);\n\n                if (isValidsumvolume_liquory) {\n                  this.sumvolume_liquorytwo = parseInt(\n                    this.sumvolume_liquorytwo +\n                      this.content[t].sumvolume_liquory\n                  );\n                }\n                var cals =\n                  this.content[t].summunbery - this.content[t].summunber;\n                const ischecks = Number.isInteger(cals);\n                if (!ischecks) {\n                  cals = 0;\n                } else {\n                  cals = this.calpercentage(cals, this.content[t].summunber);\n                  // console.log(cals);\n                  this.percentagetwo = (\n                    parseFloat(this.percentagetwo) + parseFloat(cals)\n                  ).toFixed(2);\n                }\n              }\n            }\n          } else {\n            for (let t = 0; t < this.content.length; t++) {\n              const isValidsummunbery = Number.isInteger(\n                this.content[t].summunbery\n              );\n              // console.log(this.content[t].summunbery);\n              if (isValidsummunbery) {\n                this.summunbery =\n                  parseInt(this.summunbery) +\n                  parseInt(this.content[t].summunbery);\n              }\n              const isValidsumvolume_liquory = Number.isInteger(\n                this.content[t].sumvolume_liquory\n              );\n              if (isValidsumvolume_liquory) {\n                this.summunber = parseInt(\n                  this.summunber + this.content[t].sumvolume_liquory\n                );\n              }\n              const isValidsumtaxy = Number.isInteger(this.content[t].sumtaxy);\n              if (isValidsumtaxy) {\n                this.sumtax =\n                  parseInt(this.sumtax) + parseInt(this.content[t].sumtaxy);\n              }\n\n              const isValidsummunber = Number.isInteger(\n                this.content[t].summunber\n              );\n              if (isValidsummunber) {\n                this.sumvolume_liquory =\n                  parseInt(this.sumvolume_liquory) +\n                  parseInt(this.content[t].summunber);\n              }\n\n              const isValidsumvolume_liquor = Number.isInteger(\n                this.content[t].sumvolume_liquor\n              );\n              if (isValidsumvolume_liquor) {\n                this.sumvolume_liquor =\n                  parseInt(this.sumvolume_liquor) +\n                  parseInt(this.content[t].sumvolume_liquor);\n              }\n\n              const isValidsumtax = Number.isInteger(this.content[t].sumtax);\n              if (isValidsumtax) {\n                this.sumtaxy =\n                  parseInt(this.sumtaxy) + parseInt(this.content[t].sumtax);\n              }\n              var calss =\n                this.content[t].summunbery - this.content[t].summunber;\n              const ischecks = Number.isInteger(calss);\n              if (!ischecks) {\n                calss = 0;\n              } else {\n                calss = this.calpercentage(calss, this.content[t].summunber);\n                // console.log(calss);\n                this.percentage = (\n                  parseFloat(this.percentage) + parseFloat(calss)\n                ).toFixed(2);\n              }\n            }\n          }\n          // console.log(this.sumtaxy);\n\n          for (let h = 0; h < this.header.length; h++) {\n            if (h == 0) {\n              (this.header[h].title =\n                this.header[h].brand_name +\n                \"-\" +\n                this.header[h].degree +\n                \"-\" +\n                this.header[h].size),\n                (this.header[h].summunbery = this.summunbery),\n                (this.header[h].summunber = this.summunber),\n                (this.header[h].sumvolume_liquor = this.sumvolume_liquor),\n                (this.header[h].sumvolume_liquory = this.sumvolume_liquory);\n              this.header[h].sumtax = this.sumtax;\n              this.header[h].sumtaxy = this.sumtaxy;\n              this.header[h].percentage = this.percentage;\n            } else {\n              (this.header[h].title =\n                this.header[h].brand_name +\n                \"-\" +\n                this.header[h].degree +\n                \"-\" +\n                this.header[h].size),\n                (this.header[h].summunbery = this.summunberytwo),\n                (this.header[h].summunber = this.summunbertwo),\n                (this.header[h].sumvolume_liquor = this.sumvolume_liquortwo),\n                (this.header[h].sumvolume_liquory = this.sumvolume_liquorytwo);\n              this.header[h].sumtax = this.sumtaxtwo;\n              this.header[h].sumtaxy = this.sumtaxytwo;\n              this.header[h].percentage = this.percentagetwo;\n            }\n          }\n          this.loadgraph();\n          // console.log(this.content);\n        });\n      });\n    },\n    loaddata() {\n      MergeLiquorReportService.getReportLiquorTax(this.factory_code)\n        .then((res) => {\n          // console.log(res.data);\n          this.list = res.data;\n          // var sum_net_tax = 0;\n          for (let i = 0; i < this.list.length; i++) {\n            this.list[i].net = this.cal(\n              res.data[i].number,\n              res.data[i].per_each,\n              res.data[i].degree,\n              res.data[i].size\n            );\n          }\n          // console.log(this.list);\n          // this.calsum()\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n    },\n    groupBy(array, key) {\n      const result = {};\n      array.forEach((item) => {\n        if (!result[item[key]]) {\n          result[item[key]] = [];\n        }\n        result[item[key]].push(item);\n      });\n      return result;\n    },\n    summonth() {\n      this.taxlist = this.groupBy(this.list, \"month\");\n      // console.log(this.taxlist);\n      // console.log(this.taxlist[1].length);\n      for (let tax = 0; tax < this.tbmonth.length; tax++) {\n        this.sumthreethree = 0;\n        this.sumsixthree = 0;\n        this.sumsixtwofive = 0;\n        this.sumseven = 0;\n        this.sumsevenfive = 0;\n        this.sumthreethreec = 0;\n        this.sumsixthreec = 0;\n        this.sumsixtwofivec = 0;\n        this.sumsevenc = 0;\n        this.sumsevenfivec = 0;\n        var m = 10;\n        if (this.taxlist[tax + 1]) {\n          for (let tbl = 0; tbl < this.taxlist[tax + 1].length; tbl++) {\n            // console.log(this.taxlist[tax+1].length);\n            for (let s = 0; s < this.tbsize.length; s++) {\n              if (\n                ((this.taxlist[tax + 1][tbl].month == 10 &&\n                  this.taxlist[tax + 1][tbl].year == this.yearcurrent - 2) ||\n                  (this.taxlist[tax + 1][tbl].month == 11 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent - 2) ||\n                  (this.taxlist[tax + 1][tbl].month == 12 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent - 2) ||\n                  (this.taxlist[tax + 1][tbl].month == 1 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent - 1) ||\n                  (this.taxlist[tax + 1][tbl].month == 2 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent - 1) ||\n                  (this.taxlist[tax + 1][tbl].month == 3 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent - 1) ||\n                  (this.taxlist[tax + 1][tbl].month == 4 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent - 1) ||\n                  (this.taxlist[tax + 1][tbl].month == 5 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent - 1) ||\n                  (this.taxlist[tax + 1][tbl].month == 6 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent - 1) ||\n                  (this.taxlist[tax + 1][tbl].month == 7 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent - 1) ||\n                  (this.taxlist[tax + 1][tbl].month == 8 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent - 1) ||\n                  (this.taxlist[tax + 1][tbl].month == 9 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent - 1)) &&\n                this.taxlist[tax + 1][tbl].size == this.tbsize[s]\n              ) {\n                m = this.taxlist[tax + 1][tbl].month;\n                if (this.tbsize[s] == 0.33) {\n                  this.sumthreethree = Math.floor(\n                    parseFloat(this.sumthreethree) +\n                      parseFloat(this.taxlist[tax + 1][tbl].net)\n                  );\n                } else if (this.tbsize[s] == 0.63) {\n                  this.sumsixthree = Math.floor(\n                    parseFloat(this.sumsixthree) +\n                      parseFloat(this.taxlist[tax + 1][tbl].net)\n                  );\n                } else if (this.tbsize[s] == 0.625) {\n                  this.sumsixtwofive = Math.floor(\n                    parseFloat(this.sumsixtwofive) +\n                      parseFloat(this.taxlist[tax + 1][tbl].net)\n                  );\n                } else if (this.tbsize[s] == 0.7) {\n                  this.sumseven = Math.floor(\n                    parseFloat(this.sumseven) +\n                      parseFloat(this.taxlist[tax + 1][tbl].net)\n                  );\n                } else if (this.tbsize[s] == 0.75) {\n                  this.sumsevenfive = Math.floor(\n                    parseFloat(this.sumsevenfive) +\n                      parseFloat(this.taxlist[tax + 1][tbl].net)\n                  );\n                }\n              } else if (\n                ((this.taxlist[tax + 1][tbl].month == 10 &&\n                  this.taxlist[tax + 1][tbl].year == this.yearcurrent - 1) ||\n                  (this.taxlist[tax + 1][tbl].month == 11 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent - 1) ||\n                  (this.taxlist[tax + 1][tbl].month == 12 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent - 1) ||\n                  (this.taxlist[tax + 1][tbl].month == 1 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent) ||\n                  (this.taxlist[tax + 1][tbl].month == 2 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent) ||\n                  (this.taxlist[tax + 1][tbl].month == 3 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent) ||\n                  (this.taxlist[tax + 1][tbl].month == 4 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent) ||\n                  (this.taxlist[tax + 1][tbl].month == 5 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent) ||\n                  (this.taxlist[tax + 1][tbl].month == 6 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent) ||\n                  (this.taxlist[tax + 1][tbl].month == 7 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent) ||\n                  (this.taxlist[tax + 1][tbl].month == 8 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent) ||\n                  (this.taxlist[tax + 1][tbl].month == 9 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent)) &&\n                this.taxlist[tax + 1][tbl].size == this.tbsize[s]\n              ) {\n                m = this.taxlist[tax + 1][tbl].month;\n                if (this.tbsize[s] == 0.33) {\n                  this.sumthreethreec = Math.floor(\n                    parseFloat(this.sumthreethreec) +\n                      parseFloat(this.taxlist[tax + 1][tbl].net)\n                  );\n                } else if (this.tbsize[s] == 0.63) {\n                  this.sumsixthreec = Math.floor(\n                    parseFloat(this.sumsixthreec) +\n                      parseFloat(this.taxlist[tax + 1][tbl].net)\n                  );\n                } else if (this.tbsize[s] == 0.625) {\n                  this.sumsixtwofivec = Math.floor(\n                    parseFloat(this.sumsixtwofivec) +\n                      parseFloat(this.taxlist[tax + 1][tbl].net)\n                  );\n                } else if (this.tbsize[s] == 0.7) {\n                  this.sumsevenc = Math.floor(\n                    parseFloat(this.sumsevenc) +\n                      parseFloat(this.taxlist[tax + 1][tbl].net)\n                  );\n                } else if (this.tbsize[s] == 0.75) {\n                  this.sumsevenfivec = Math.floor(\n                    parseFloat(this.sumsevenfivec) +\n                      parseFloat(this.taxlist[tax + 1][tbl].net)\n                  );\n                }\n              }\n            }\n          }\n        }\n\n        if (this.sumthreethree) {\n          this.taxdatabefore.push({\n            month: m,\n            size: 0.33,\n            sumtax: this.sumthreethree,\n          });\n        } else {\n          this.taxdatabefore.push({\n            month: m,\n            size: 0.33,\n            sumtax: 0,\n          });\n        }\n        if (this.sumsixthree) {\n          this.taxdatabefore.push({\n            month: m,\n            size: 0.63,\n            sumtax: this.sumsixthree,\n          });\n        } else {\n          this.taxdatabefore.push({\n            month: m,\n            size: 0.63,\n            sumtax: 0,\n          });\n        }\n        if (this.sumsixtwofive) {\n          this.taxdatabefore.push({\n            month: m,\n            size: 0.625,\n            sumtax: this.sumsixtwofive,\n          });\n        } else {\n          this.taxdatabefore.push({\n            month: m,\n            size: 0.625,\n            sumtax: 0,\n          });\n        }\n        if (this.sumsevenfive) {\n          this.taxdatabefore.push({\n            month: m,\n            size: 0.75,\n            sumtax: this.sumsevenfive,\n          });\n        } else {\n          this.taxdatabefore.push({\n            month: m,\n            size: 0.75,\n            sumtax: 0,\n          });\n        }\n        if (this.sumseven) {\n          this.taxdatabefore.push({\n            month: m,\n            size: 0.7,\n            sumtax: this.sumseven,\n          });\n        } else {\n          this.taxdatabefore.push({\n            month: m,\n            size: 0.7,\n            sumtax: 0,\n          });\n        }\n\n        if (this.sumthreethreec) {\n          this.taxdatacurrent.push({\n            month: m,\n            size: 0.33,\n            sumtaxy: this.sumthreethreec,\n          });\n        } else {\n          this.taxdatacurrent.push({\n            month: m,\n            size: 0.33,\n            sumtaxy: 0,\n          });\n        }\n        if (this.sumsixthreec) {\n          this.taxdatacurrent.push({\n            month: m,\n            size: 0.63,\n            sumtaxy: this.sumsixthreec,\n          });\n        } else {\n          this.taxdatacurrent.push({\n            month: m,\n            size: 0.63,\n            sumtaxy: 0,\n          });\n        }\n        if (this.sumsixtwofivec) {\n          this.taxdatacurrent.push({\n            month: m,\n            size: 0.625,\n            sumtaxy: this.sumsixtwofivec,\n          });\n        } else {\n          this.taxdatacurrent.push({\n            month: m,\n            size: 0.625,\n            sumtaxy: 0,\n          });\n        }\n        if (this.sumsevenfivec) {\n          this.taxdatacurrent.push({\n            month: m,\n            size: 0.75,\n            sumtaxy: this.sumsevenfivec,\n          });\n        } else {\n          this.taxdatacurrent.push({\n            month: m,\n            size: 0.75,\n            sumtaxy: 0,\n          });\n        }\n        if (this.sumsevenc) {\n          this.taxdatacurrent.push({\n            month: m,\n            size: 0.7,\n            sumtaxy: this.sumsevenc,\n          });\n        } else {\n          this.taxdatacurrent.push({\n            month: m,\n            size: 0.7,\n            sumtaxy: 0,\n          });\n        }\n      }\n      // console.log(this.taxdatabefore);\n      // console.log(this.taxdatacurrent);\n\n      for (let c = 0; c < this.taxdatabefore.length; c++) {\n        for (let b = 0; b < this.content.length; b++) {\n          if (\n            this.taxdatabefore[c].month == this.content[b].month &&\n            this.taxdatabefore[c].size == this.content[b].size\n          ) {\n            // console.log(this.taxdatabefore[c].sumtax);\n            this.content[b].sumtax = this.taxdatabefore[c].sumtax;\n          }\n        }\n      }\n      for (let cc = 0; cc < this.content.length; cc++) {\n        for (let tt = 0; tt < this.taxdatacurrent.length; tt++) {\n          if (\n            this.taxdatacurrent[tt].month == this.content[cc].month &&\n            this.taxdatacurrent[tt].size == this.content[cc].size\n          ) {\n            // console.log(this.taxdatacurrent[tt].sumtaxy);\n            this.content[cc].sumtaxy = this.taxdatacurrent[tt].sumtaxy;\n          }\n        }\n      }\n      // console.log(this.content);\n    },\n    calsum() {\n      // var sumstamp = 0\n      // var sumvolumn = 0\n      // var sumtax = 0\n      var sumstampy = 0;\n      var sumvolumny = 0;\n      var sumtaxy = 0;\n\n      for (let c = 0; c < this.list.length; c++) {\n        sumstampy = parseInt(sumstampy + this.list[c].number);\n        sumvolumny = parseInt(sumvolumny + this.list[c].volume_liquor);\n        sumtaxy = Math.floor(\n          parseFloat(sumtaxy) + parseFloat(this.list[c].net)\n        );\n        this.list[c].sumnumber = sumstampy;\n        this.list[c].sumvolume_liquor = sumvolumny;\n        this.list[c].sumnet = sumtaxy;\n      }\n      console.log(this.newlist);\n    },\n    cal_net_tax() {\n      for (let i = 0; i < this.list.length; i++) {\n        if (i != 0) {\n          if (this.list[i].no == this.list[i - 1].no) {\n            // console.log(\"i\", this.list[i].net);\n            // console.log(this.list[i -1].net);\n            this.list[i - 1].net_tax = Math.floor(\n              parseFloat(this.list[i].net) + parseFloat(this.list[i - 1].net)\n            );\n          } else {\n            this.list[i].net_tax = Math.floor(parseFloat(this.list[i].net));\n          }\n        } else {\n          this.list[i].net_tax = Math.floor(parseFloat(this.list[i].net));\n        }\n      }\n    },\n    cal(number, per_each, degree, size) {\n      var x1 = 0;\n      var x2 = 0;\n      var x3 = 0;\n      var x4 = 0;\n      if (this.factory_code == 540002) {\n        x1 = ((10 * number) / 100) * per_each;\n        // console.log(x1);\n        // var x2 = ((155*30)/100)*0.63*1500;\n        x2 = ((150 * degree) / 100) * size * number;\n        // console.log(x2);\n        return (x1 + x2).toFixed(2);\n      } else {\n        x3 = ((2 * number) / 100) * per_each;\n        // console.log(x1);\n        // var x2 = ((155*30)/100)*0.63*1500;\n        x4 = ((155 * degree) / 100) * size * number;\n        // console.log(x2);\n        return (x3 + x4).toFixed(2);\n      }\n    },\n    convertdatetothai(datetimes) {\n      if (datetimes) {\n        var d = new Date(datetimes);\n        var mm = d.getMonth() + 1;\n        var dd = d.getDate();\n        var yy = d.getFullYear();\n\n        var myDateString = dd + \"/\" + mm + \"/\" + yy; //(US)\n        // console.log(myDateString);\n        return myDateString;\n      }\n    },\n    loadchartOptions() {\n      this.chartOptions = {\n        chart: {\n          height: 500,\n          type: \"line\",\n          dropShadow: {\n            enabled: true,\n            color: \"#000\",\n            top: 18,\n            left: 7,\n            blur: 10,\n            opacity: 0.2,\n          },\n          toolbar: {\n            show: false,\n          },\n        },\n        colors: [\"#77B6EA\", \"#EC7C30\"],\n        dataLabels: {\n          enabled: true,\n        },\n        stroke: {\n          curve: \"straight\",\n        },\n        title: {\n          text: \"\",\n          align: \"left\",\n          style: {\n            fontSize: \"9px\",\n          },\n        },\n        grid: {\n          borderColor: \"#e7e7e7\",\n          row: {\n            colors: [\"#f3f3f3\", \"transparent\"], // takes an array which will be repeated on columns\n            opacity: 0.5,\n          },\n        },\n        markers: {\n          size: 0,\n        },\n        xaxis: {\n          // categories: this.month,\n          categories: [\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n          ],\n          title: {\n            text: \"\",\n            style: {\n              fontSize: \"9px\",\n            },\n          },\n          labels: {\n            style: {\n              fontSize: \"9px\",\n            },\n          },\n        },\n        yaxis: {\n          title: {\n            text: \" ()\",\n            style: {\n              fontSize: \"9px\",\n            },\n          },\n          labels: {\n            style: {\n              fontSize: \"9px\",\n            },\n          },\n        },\n        legend: {\n          position: \"top\",\n          horizontalAlign: \"right\",\n          floating: true,\n          offsetY: -25,\n          offsetX: -5,\n        },\n      };\n    },\n    loadvolumnable() {\n          for (let d = 0; d < this.content.length; d++) {\n            // console.log(this.content[d].month);\n            if (this.content[d].month == 10 || this.content[d].month == 11 || this.content[d].month == 12 || this.content[d].month == 1|| this.content[d].month == 2|| this.content[d].month == 3|| this.content[d].month == 4|| this.content[d].month == 5|| this.content[d].month == 6|| this.content[d].month == 7|| this.content[d].month == 8|| this.content[d].month == 9) {              \n                this.content.splice(d, 1);\n            }\n            \n          }\n          for (let ds = 0; ds < this.content.length; ds++) {\n            // console.log(this.content[d].month);\n            if (this.content[ds].month == 10 || this.content[ds].month == 11 || this.content[ds].month == 12 || this.content[ds].month == 1|| this.content[ds].month == 2|| this.content[ds].month == 3|| this.content[ds].month == 4|| this.content[ds].month == 5|| this.content[ds].month == 6|| this.content[ds].month == 7|| this.content[ds].month == 8|| this.content[ds].month == 9) {              \n                this.content.splice(ds, 1);\n            }            \n          }\n          // console.log(this.content);\n      // console.log(this.series);\n      this.monthtvolumnable.push({\n        year: this.yearcurrent,\n        style:\n          \"background: rgb(119, 182, 234) !important; color: rgb(119, 182, 234); height: 12px; width: 12px; left: 0px; top: 0px; border-width: 0px; border-color: rgb(255, 255, 255); border-radius: 12px;\",\n      });\n      this.monthtvolumnable.push({\n        year: this.yearcurrent - 1,\n        style:\n          \"background: rgb(236, 124, 48) !important; color: rgb(236, 124, 48); height: 12px; width: 12px; left: 0px; top: 0px; border-width: 0px; border-color: rgb(255, 255, 255); border-radius: 12px;\",\n      });\n      // console.log(this.volume_liquorbefore);\n      for (let cc = 0; cc < this.monthtvolumnable.length; cc++) {\n        if (cc == 0) {\n          for (let bb = 0; bb < this.volume_liquorcurrent.length; bb++) {\n            // console.log(this.volume_liquorcurrent[bb]);\n            if (bb == 0) {\n              this.monthtvolumnable[cc].oct = this.volume_liquorcurrent[bb];\n            } else if (bb == 1) {\n              this.monthtvolumnable[cc].nov = this.volume_liquorcurrent[bb];\n            } else if (bb == 2) {\n              this.monthtvolumnable[cc].dec = this.volume_liquorcurrent[bb];\n            } else if (bb == 3) {\n              this.monthtvolumnable[cc].jan = this.volume_liquorcurrent[bb];\n            } else if (bb == 4) {\n              this.monthtvolumnable[cc].feb = this.volume_liquorcurrent[bb];\n            } else if (bb == 5) {\n              this.monthtvolumnable[cc].mar = this.volume_liquorcurrent[bb];\n            } else if (bb == 6) {\n              this.monthtvolumnable[cc].apr = this.volume_liquorcurrent[bb];\n            } else if (bb == 7) {\n              this.monthtvolumnable[cc].may = this.volume_liquorcurrent[bb];\n            } else if (bb == 8) {\n              this.monthtvolumnable[cc].jun = this.volume_liquorcurrent[bb];\n            } else if (bb == 9) {\n              this.monthtvolumnable[cc].jul = this.volume_liquorcurrent[bb];\n            } else if (bb == 10) {\n              this.monthtvolumnable[cc].aug = this.volume_liquorcurrent[bb];\n            } else if (bb == 11) {\n              this.monthtvolumnable[cc].sep = this.volume_liquorcurrent[bb];\n            }\n          }\n        }\n        if (cc == 1) {\n          for (let bb = 0; bb < this.volume_liquorbefore.length; bb++) {\n            // console.log(this.volume_liquorbefore[bb]);\n            if (bb == 0) {\n              this.monthtvolumnable[cc].oct = this.volume_liquorbefore[bb];\n            } else if (bb == 1) {\n              this.monthtvolumnable[cc].nov = this.volume_liquorbefore[bb];\n            } else if (bb == 2) {\n              this.monthtvolumnable[cc].dec = this.volume_liquorbefore[bb];\n            } else if (bb == 3) {\n              this.monthtvolumnable[cc].jan = this.volume_liquorbefore[bb];\n            } else if (bb == 4) {\n              this.monthtvolumnable[cc].feb = this.volume_liquorbefore[bb];\n            } else if (bb == 5) {\n              this.monthtvolumnable[cc].mar = this.volume_liquorbefore[bb];\n            } else if (bb == 6) {\n              this.monthtvolumnable[cc].apr = this.volume_liquorbefore[bb];\n            } else if (bb == 7) {\n              this.monthtvolumnable[cc].may = this.volume_liquorbefore[bb];\n            } else if (bb == 8) {\n              this.monthtvolumnable[cc].jun = this.volume_liquorbefore[bb];\n            } else if (bb == 9) {\n              this.monthtvolumnable[cc].jul = this.volume_liquorbefore[bb];\n            } else if (bb == 10) {\n              this.monthtvolumnable[cc].aug = this.volume_liquorbefore[bb];\n            } else if (bb == 11) {\n              this.monthtvolumnable[cc].sep = this.volume_liquorbefore[bb];\n            }\n          }\n        }\n      }\n      // console.log(this.monthtvolumnable);\n    },\n    loadgraph() {\n      this.series.push({\n        name: String(this.yearcurrent),\n        style: {\n          fontSize: \"9px\",\n        },\n        year: this.yearcurrent,\n      });\n      this.series.push({\n        name: String(this.yearcurrent - 1),\n        style: {\n          fontSize: \"9px\",\n        },\n        year: this.yearcurrent - 1,\n      });\n      // console.log(this.content);\n      if (this.header.length == 2) {\n        for (let t = 0; t < this.content.length; t++) {\n          if (\n            t == 0 ||\n            t == 3 ||\n            t == 6 ||\n            t == 9 ||\n            t == 12 ||\n            t == 15 ||\n            t == 18 ||\n            t == 21 ||\n            t == 24 ||\n            t == 27 ||\n            t == 30 ||\n            t == 33\n          ) {\n            if (this.content[t].sumvolume_liquory == 0) {\n              this.volume_liquorcurrent.push(null);\n            } else {\n              this.volume_liquorcurrent.push(this.content[t].sumvolume_liquory);\n            }\n            this.volume_liquorbefore.push(this.content[t].sumvolume_liquor);\n          }\n        }\n      } else {\n        for (let g = 0; g < this.content.length; g++) {\n          if (this.content[g].sumvolume_liquory == 0) {\n            this.volume_liquorcurrent.push(null);\n          } else {\n            this.volume_liquorcurrent.push(this.content[g].sumvolume_liquory);\n          }\n          this.volume_liquorbefore.push(this.content[g].sumvolume_liquor);\n        }\n      }\n      for (let se = 0; se < this.series.length; se++) {\n        if (this.series[se].year == this.yearcurrent - 1) {\n          this.series[se][\"data\"] = this.volume_liquorbefore;\n        } else if (this.series[se].year == this.yearcurrent) {\n          this.series[se][\"data\"] = this.volume_liquorcurrent;\n        }\n      }\n      this.loadvolumnable();\n    },\n    numberWithCommas(type,x) {\n      // console.log(type);\n      // console.log(x);\n      var r = 0;\n      x = parseInt(x);\n      if (isNaN(x)) {\n        r = '';\n      } else {\n        r = x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n      }\n      return r;\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\nth {\n  font-weight: normal;\n}\n</style>\n"]}]}