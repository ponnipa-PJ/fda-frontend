{"remainingRequest":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/thread-loader/dist/cjs.js!/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/babel-loader/lib/index.js!/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ponnipa/Documents/GitHub/fda-frontend/src/components/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/src/components/Register.vue","mtime":1677654957536},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/babel.config.js","mtime":1677654957527},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1687492401267},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1687492401222},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/babel-loader/lib/index.js","mtime":1687492401655},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1687492401267},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/vue-loader/lib/index.js","mtime":1687492401738}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFVzZXJTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL1VzZXJTZXJ2aWNlIjsKaW1wb3J0IHsgRGV2aWNlVVVJRCB9IGZyb20gJ2RldmljZS11dWlkJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJsb2dpbiIsCiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6IFtdLAogICAgICBrZXk6ICIiCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIG1ldGhvZHM6IHsKICAgIHNpZ25JbjogZnVuY3Rpb24gc2lnbkluKCkgewogICAgICBpZiAodGhpcy51c2VyLmlkX2NhcmQgPT0gIiIgfHwgdGhpcy51c2VyLmlkX2NhcmQgPT0gbnVsbCkgewogICAgICAgIGFsZXJ0KCLguIHguKPguLjguJPguLLguIHguKPguK3guIHguIrguLfguYjguK3guJzguLnguYnguYPguIrguYnguIfguLLguJkiKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnVzZXIucGFzc3dvcmQgPT0gIiIgfHwgdGhpcy51c2VyLnBhc3N3b3JkID09IG51bGwpIHsKICAgICAgICBhbGVydCgi4LiB4Lij4Li44LiT4Liy4LiB4Lij4Lit4LiB4Lij4Lir4Lix4Liq4Lic4LmI4Liy4LiZIik7CiAgICAgIH0KICAgIH0sCiAgICBnZXREZXZpY2VUeXBlOiBmdW5jdGlvbiBnZXREZXZpY2VUeXBlKCkgewogICAgICB2YXIgdXVpZCA9IG5ldyBEZXZpY2VVVUlEKCkuZ2V0KCk7CiAgICAgIHJldHVybiB1dWlkOwogICAgfSwKICAgIGdldE9TOiBmdW5jdGlvbiBnZXRPUygpIHsKICAgICAgdmFyIGR1ID0gbmV3IERldmljZVVVSUQoKS5wYXJzZSgpOwogICAgICByZXR1cm4gZHUucGxhdGZvcm07CiAgICB9LAogICAgbWFrZWlkOiBmdW5jdGlvbiBtYWtlaWQobGVuZ3RoKSB7CiAgICAgIHZhciByZXN1bHQgPSAiIjsKICAgICAgdmFyIGNoYXJhY3RlcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkiOwogICAgICB2YXIgY2hhcmFjdGVyc0xlbmd0aCA9IGNoYXJhY3RlcnMubGVuZ3RoOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgIHJlc3VsdCArPSBjaGFyYWN0ZXJzLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFyYWN0ZXJzTGVuZ3RoKSk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2codGhpcy51c2VyLmtleSk7CgogICAgICBpZiAodGhpcy51c2VyLmtleSA9PSBudWxsKSB7CiAgICAgICAgYWxlcnQoIuC4geC4o+C4uOC4k+C4suC4geC4o+C4reC4geC4o+C4q+C4seC4quC5gOC4o+C4tOC5iOC4oeC4leC5ieC4mSIpOwogICAgICB9IGVsc2UgaWYgKHRoaXMudXNlci51c2VybmFtZSA9PSBudWxsKSB7CiAgICAgICAgYWxlcnQoIuC4geC4o+C4uOC4k+C4suC4geC4o+C4reC4geC4iuC4t+C5iOC4reC4nOC4ueC5ieC5g+C4iuC5ieC4h+C4suC4mSIpOwogICAgICB9IGVsc2UgaWYgKHRoaXMudXNlci5wYXNzd29yZCA9PSBudWxsKSB7CiAgICAgICAgYWxlcnQoIuC4geC4o+C4uOC4k+C4suC4geC4o+C4reC4geC4o+C4q+C4seC4quC4nOC5iOC4suC4mSIpOwogICAgICB9IGVsc2UgewogICAgICAgIFVzZXJTZXJ2aWNlLmdldFVzZXIodGhpcy51c2VyLmtleSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CgogICAgICAgICAgaWYgKHJlcy5kYXRhLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgIGFsZXJ0KCLguKPguKvguLHguKrguYDguKPguLTguYjguKHguJXguYnguJnguIHguLLguKPguYPguIrguYnguIfguLLguJnguYTguKHguYjguJbguLnguIHguJXguYnguK3guIciKTsKICAgICAgICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuc3RhdHVzID09IDEpIHsKICAgICAgICAgICAgYWxlcnQoIuC4o+C4q+C4seC4quC5gOC4o+C4tOC5iOC4oeC4leC5ieC4meC4geC4suC4o+C5g+C4iuC5ieC4h+C4suC4meC4luC4ueC4geC5g+C4iuC5ieC5geC4peC5ieC4pyIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgICAgdXNlcm5hbWU6IF90aGlzLnVzZXIudXNlcm5hbWUsCiAgICAgICAgICAgICAgcGFzc3dvcmQ6IF90aGlzLnVzZXIucGFzc3dvcmQsCiAgICAgICAgICAgICAgZGV2aWNlOiBfdGhpcy5nZXRPUygpLAogICAgICAgICAgICAgIHVfaWQ6IF90aGlzLmdldERldmljZVR5cGUoKSwKICAgICAgICAgICAgICBzdGF0dXM6IDEsCiAgICAgICAgICAgICAgY3JlYXRlZF9ieTogMSwKICAgICAgICAgICAgICB1cGRhdGVkX2J5OiAxCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIFVzZXJTZXJ2aWNlLnVwZGF0ZVVzZXIocmVzLmRhdGEudXNlcl9pZCwgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwoKICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi9sb2dpbiIpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AAEA;AACAA,eADA;AAEAC,gBAFA;AAGAC,MAHA,kBAGA;AACA;AACAC,cADA;AAEAC;AAFA;AAIA,GARA;AASAC,cATA;AAUAC;AACAC,UADA,oBACA;AACA;AACAC;AACA,OAFA,MAEA;AACAA;AACA;AACA,KAPA;AAQAC,iBARA,2BAQA;AACA;AACA;AACA,KAXA;AAYAC,SAZA,mBAYA;AACA;AACA;AACA,KAfA;AAgBAC,UAhBA,kBAgBAC,MAhBA,EAgBA;AACA;AACA,uBACA,gEADA;AAEA;;AACA;AACAC,oCACAC,4CADA;AAGA;;AACA;AACA,KA3BA;AA4BAC,YA5BA,sBA4BA;AAAA;;AACAC;;AACA;AACAR;AACA,OAFA,MAEA;AACAA;AACA,OAFA,MAEA;AACAA;AACA,OAFA,MAEA;AACAS;AACAD;;AACA;AACAR;AACA,WAFA,MAEA;AACAA;AACA,WAFA,MAEA;AACA;AACAU,2CADA;AAEAC,2CAFA;AAGAC,mCAHA;AAIAC,yCAJA;AAKAC,uBALA;AAMAC,2BANA;AAOAC;AAPA;AASAP;AACAD;;AACA;AACA,aAHA;AAIA;AACA,SArBA;AAsBA;AACA;AA5DA,GAVA;AAwEAS,SAxEA,qBAwEA,CACA;AAzEA","names":["name","components","data","user","key","computed","methods","signIn","alert","getDeviceType","getOS","makeid","length","result","Math","register","console","UserService","username","password","device","u_id","status","created_by","updated_by","mounted"],"sourceRoot":"src/components","sources":["Register.vue"],"sourcesContent":["<template>\n  <div class=\"card mt-5\" style=\"width: 500px\">\n    <div class=\"card-body login-card-body\">\n      <h3 class=\"login-box-msg\" style=\"text-align: center\">สมัครสมาชิก</h3>\n      <form>\n        <div class=\"card-body\">\n          <div class=\"form-group\">\n            <label for=\"username\">รหัสเริ่มต้นการใช้งาน</label>\n            <input\n              v-model=\"user.key\"\n              type=\"text\"\n              class=\"form-control\"\n              id=\"username\"\n              placeholder=\"กรุณากรอกรหัสเริ่มต้นการใช้งาน\"\n            />\n          </div>\n          <div class=\"form-group\">\n            <label for=\"username\">ชื่อผู้ใช้งาน</label>\n            <input\n              v-model=\"user.username\"\n              type=\"text\"\n              class=\"form-control\"\n              id=\"username\"\n              placeholder=\"กรุณากรอกชื่อผู้ใช้งาน\"\n            />\n          </div>\n          <div class=\"form-group\">\n            <label for=\"password\">รหัสผ่าน</label>\n            <input\n              v-model=\"user.password\"\n              type=\"password\"\n              class=\"form-control\"\n              id=\"password\"\n              placeholder=\"กรุณากรอกรหัสผ่าน\"\n            />\n          </div>\n          <div class=\"social-auth-links text-center mb-3 mt-5\">\n            <button @click=\"register()\" type=\"button\" class=\"btn btn-secondary\">\n              สมัครสมาชิก\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport UserService from \"../services/UserService\";\nimport { DeviceUUID } from 'device-uuid';\n\nexport default {\n  name: \"login\",\n  components: {},\n  data() {\n    return {\n      user: [],\n      key: \"\",\n    };\n  },\n  computed: {},\n  methods: {\n    signIn() {\n      if (this.user.id_card == \"\" || this.user.id_card == null) {\n        alert(\"กรุณากรอกชื่อผู้ใช้งาน\");\n      } else if (this.user.password == \"\" || this.user.password == null) {\n        alert(\"กรุณากรอกรหัสผ่าน\");\n      }\n    },\n    getDeviceType() {\n      var uuid = new DeviceUUID().get();\n      return uuid;\n    },\n    getOS() {\n      var du = new DeviceUUID().parse();\n      return du.platform;\n    },\n    makeid(length) {\n      var result = \"\";\n      var characters =\n        \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n      var charactersLength = characters.length;\n      for (var i = 0; i < length; i++) {\n        result += characters.charAt(\n          Math.floor(Math.random() * charactersLength)\n        );\n      }\n      return result;\n    },\n    register() {\n      console.log(this.user.key);\n      if (this.user.key == null) {\n        alert(\"กรุณากรอกรหัสเริ่มต้น\");\n      } else if (this.user.username == null) {\n        alert(\"กรุณากรอกชื่อผู้ใช้งาน\");\n      } else if (this.user.password == null) {\n        alert(\"กรุณากรอกรหัสผ่าน\");\n      } else {\n        UserService.getUser(this.user.key).then((res) => {\n          console.log(res.data);\n          if (res.data.length == 0) {\n            alert(\"รหัสเริ่มต้นการใช้งานไม่ถูกต้อง\");\n          } else if (res.data.status == 1) {\n            alert(\"รหัสเริ่มต้นการใช้งานถูกใช้แล้ว\");\n          } else {\n            var data = {\n              username: this.user.username,\n              password: this.user.password,\n              device: this.getOS(),\n              u_id: this.getDeviceType(),\n              status: 1,\n              created_by: 1,\n              updated_by: 1,\n            };\n            UserService.updateUser(res.data.user_id, data).then((res) => {\n              console.log(res.data);\n              this.$router.push(\"/login\");\n            });\n          }\n        });\n      }\n    },\n  },\n  mounted() {\n  },\n};\n</script>\n\n<style>\nbody {\n  font-family: \"Kanit\" !important;\n  color: black !important;\n}\n.card {\n  max-width: 500px;\n  margin: auto;\n  background: white;\n  padding: 10px;\n  color: black !important;\n}\n</style>"]}]}