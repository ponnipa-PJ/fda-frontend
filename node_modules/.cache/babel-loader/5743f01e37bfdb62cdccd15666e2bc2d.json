{"remainingRequest":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/thread-loader/dist/cjs.js!/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/babel-loader/lib/index.js!/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/eslint-loader/index.js??ref--14-0!/Users/ponnipa/Documents/GitHub/fda-frontend/src/services/auth/auth.service.js","dependencies":[{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/src/services/auth/auth.service.js","mtime":1677654957539},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/babel.config.js","mtime":1677654957527},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1687492401267},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1687492401222},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/babel-loader/lib/index.js","mtime":1687492401655},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/eslint-loader/index.js","mtime":1687492401350}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9wb25uaXBhL0RvY3VtZW50cy9HaXRIdWIvZmRhLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvcG9ubmlwYS9Eb2N1bWVudHMvR2l0SHViL2ZkYS1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2suanMiOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy9wb25uaXBhL0RvY3VtZW50cy9HaXRIdWIvZmRhLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgaHR0cCBmcm9tICIuLi8uLi9odHRwLWNvbW1vbiI7CmltcG9ydCB7IERldmljZVVVSUQgfSBmcm9tICdkZXZpY2UtdXVpZCc7Cgp2YXIgQXV0aFNlcnZpY2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEF1dGhTZXJ2aWNlKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEF1dGhTZXJ2aWNlKTsKICB9CgogIF9jcmVhdGVDbGFzcyhBdXRoU2VydmljZSwgW3sKICAgIGtleTogImdldFVVSUQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFVVSUQoKSB7CiAgICAgIHZhciB1dWlkID0gbmV3IERldmljZVVVSUQoKS5nZXQoKTsKICAgICAgcmV0dXJuIHV1aWQ7CiAgICB9CiAgfSwgewogICAga2V5OiAibG9naW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9sb2dpbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh1c2VyKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgaHR0cC5wb3N0KCd1c2VyL3NpZ25pbicsIHVzZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuYWNjZXNzVG9rZW4pIHsKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcnMnLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKSk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiL2xvZ2luIik7CgogICAgICAgICAgICAgICAgICBhbGVydCgn4LiK4Li34LmI4Lit4Lir4Lij4Li34Lit4Lij4Lir4Lix4Liq4Lic4LmI4Liy4LiZ4LmE4Lih4LmI4LiW4Li54LiB4LiV4LmJ4Lit4LiHJyk7CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBsb2dpbihfeCkgewogICAgICAgIHJldHVybiBfbG9naW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGxvZ2luOwogICAgfSgpCiAgfSwgewogICAga2V5OiAibG9nb3V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VycycpOwogICAgfQogIH0sIHsKICAgIGtleTogInJvbGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJvbGUoKSB7CiAgICAgIHJldHVybiBodHRwLmdldCgncm9sZScpOwogICAgfQogIH0sIHsKICAgIGtleTogImdldHBhZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldHBhZ2UoaWQpIHsKICAgICAgcmV0dXJuIGh0dHAuZ2V0KCJtZW51L21lbnVieXVzZXJpZC8iICsgaWQpOwogICAgfQogIH0sIHsKICAgIGtleTogImdldG5hbWUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldG5hbWUoaWQpIHsKICAgICAgcmV0dXJuIGh0dHAuZ2V0KCJ1c2VyLyIgKyBpZCk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQXV0aFNlcnZpY2U7Cn0oKTsKCmV4cG9ydCBkZWZhdWx0IG5ldyBBdXRoU2VydmljZSgpOw=="},{"version":3,"sources":["/Users/ponnipa/Documents/GitHub/fda-frontend/src/services/auth/auth.service.js"],"names":["http","DeviceUUID","AuthService","uuid","get","user","post","then","response","console","log","data","accessToken","localStorage","setItem","JSON","stringify","error","$router","push","alert","removeItem","id"],"mappings":";;;;;AAAA,OAAOA,IAAP,MAAiB,mBAAjB;AACA,SAASC,UAAT,QAA2B,aAA3B;;IAEMC,W;;;;;;;WACJ,mBAAS;AACP,UAAIC,IAAI,GAAG,IAAIF,UAAJ,GAAiBG,GAAjB,EAAX;AACF,aAAOD,IAAP;AACE;;;;2EACF,iBAAYE,IAAZ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,iDAISL,IAAI,CAACM,IAAL,CAAU,aAAV,EAAyBD,IAAzB,EACJE,IADI,CACC,UAAAC,QAAQ,EAAI;AAChBC,kBAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;;AACA,sBAAIH,QAAQ,CAACG,IAAT,CAAcC,WAAlB,EAA+B;AAC7BC,oBAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAeR,QAAQ,CAACG,IAAxB,CAA9B;AACD;;AACD,yBAAOH,QAAQ,CAACG,IAAhB;AACD,iBAPI,EAQH,UAAAM,KAAK,EAAI;AACPR,kBAAAA,OAAO,CAACC,GAAR,CAAYO,KAAZ;;AACA,kBAAA,KAAI,CAACC,OAAL,CAAaC,IAAb,CAAkB,QAAlB;;AACAC,kBAAAA,KAAK,CAAC,4BAAD,CAAL;AACD,iBAZE,CAJT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;WAoBA,kBAAS;AACPP,MAAAA,YAAY,CAACQ,UAAb,CAAwB,OAAxB;AACD;;;WAED,gBAAO;AACL,aAAOrB,IAAI,CAACI,GAAL,CAAS,MAAT,CAAP;AACD;;;WAED,iBAAQkB,EAAR,EAAY;AACV,aAAOtB,IAAI,CAACI,GAAL,CAAS,uBAAqBkB,EAA9B,CAAP;AACD;;;WAGD,iBAAQA,EAAR,EAAY;AACV,aAAOtB,IAAI,CAACI,GAAL,CAAS,UAAQkB,EAAjB,CAAP;AACD;;;;;;AAGH,eAAe,IAAIpB,WAAJ,EAAf","sourcesContent":["import http from \"../../http-common\";\nimport { DeviceUUID } from 'device-uuid';\n\nclass AuthService {\n  getUUID(){  \n    var uuid = new DeviceUUID().get();\n  return uuid\n   }\n  async login(user) {\n    // console.log(user)\n    // localStorage.setItem('users', JSON.stringify(user));\n    // return user\n    return http.post('user/signin', user)\n      .then(response => {\n        console.log(response.data);\n        if (response.data.accessToken) {\n          localStorage.setItem('users', JSON.stringify(response.data));\n        }\n        return response.data;\n      },\n        error => {\n          console.log(error);\n          this.$router.push(\"/login\");\n          alert('ชื่อหรือรหัสผ่านไม่ถูกต้อง')\n        }\n      );\n  }\n\n  logout() {\n    localStorage.removeItem('users');\n  }\n\n  role() {\n    return http.get('role');\n  }\n\n  getpage(id) {\n    return http.get(`menu/menubyuserid/`+id);\n  }\n\n  \n  getname(id) {\n    return http.get(`user/`+id);\n  }\n\n}\nexport default new AuthService();"]}]}