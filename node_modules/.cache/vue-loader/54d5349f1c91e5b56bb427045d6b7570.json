{"remainingRequest":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ponnipa/Documents/GitHub/fda-frontend/src/components/graphtax.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/src/components/graphtax.vue","mtime":1687067987629},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/babel-loader/lib/index.js","mtime":1687492401655},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1687492401267},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/vue-loader/lib/index.js","mtime":1687492401738}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCBsb25nZG8gZnJvbSAibG9uZ2RvLW1hcC12dWUiOwppbXBvcnQgRGV0YWlsRXhjaXNlU2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy9EZXRhaWxFeGNpc2VTZXJ2aWNlLmpzIjsKaW1wb3J0IE1lcmdlTGlxdW9yUmVwb3J0U2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy9NZXJnZUxpcXVvclJlcG9ydFNlcnZpY2UuanMiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBcHAiLAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRlOiAiIiwKICAgICAgZGF0YTogW10sCiAgICAgIGV4Y2lzZV9ubzogIiIsCiAgICAgIHNob3c6IGZhbHNlLAogICAgICBzZXJpZXM6IFtdLAogICAgICBudW10aHJlZXRocmVlOiBbXSwKICAgICAgbnVtc2l4dHdvZml2ZTogW10sCiAgICAgIG51bXNpeHRocmVlOiBbXSwKICAgICAgbnVtc2V2ZW46IFtdLAogICAgICBudW1zZXZlbmZpdmU6IFtdLAogICAgICBudW10aHJlZXRocmVlY3VycmVudDogW10sCiAgICAgIG51bXNpeHR3b2ZpdmVjdXJyZW50OiBbXSwKICAgICAgbnVtc2l4dGhyZWVjdXJyZW50OiBbXSwKICAgICAgbnVtc2V2ZW5jdXJyZW50OiBbXSwKICAgICAgbnVtc2V2ZW5maXZlY3VycmVudDogW10sCiAgICAgIHRhYmxlOiBbXSwKICAgICAgY2hhcnRPcHRpb25zOiB7fSwKICAgICAgZGV0YWlsOiBbXSwKICAgICAgbW9udGg6IFtdLAogICAgICBzdW10aHJlZXRocmVlOiAwLAogICAgICBzdW1zaXh0d29maXZlOiAwLAogICAgICBzdW1zaXh0aHJlZTogMCwKICAgICAgc3Vtc2V2ZW46IDAsCiAgICAgIHN1bXNldmVuZml2ZTogMCwKICAgICAgc3VtdGhyZWV0aHJlZXk6IDAsCiAgICAgIHN1bXNpeHR3b2ZpdmV5OiAwLAogICAgICBzdW1zaXh0aHJlZXk6IDAsCiAgICAgIHN1bXNldmVueTogMCwKICAgICAgc3Vtc2V2ZW5maXZleTogMCwKICAgICAgdG90YWw6IDAsCiAgICAgIHN0YXR1c3RocmVldGhyZWU6IGZhbHNlLAogICAgICBzdGF0dXNzaXh0d29maXZlOiBmYWxzZSwKICAgICAgc3RhdHVzc2l4dGhyZWU6IGZhbHNlLAogICAgICBzdGF0dXNzZXZlbjogZmFsc2UsCiAgICAgIHN0YXR1c3NldmVuZml2ZTogZmFsc2UsCiAgICAgIHRhYmxlbmV3OiBbCiAgICAgICAgeyBtb250aDogMTAgfSwKICAgICAgICB7IG1vbnRoOiAxMSB9LAogICAgICAgIHsgbW9udGg6IDEyIH0sCiAgICAgICAgeyBtb250aDogMSB9LAogICAgICAgIHsgbW9udGg6IDIgfSwKICAgICAgICB7IG1vbnRoOiAzIH0sCiAgICAgICAgeyBtb250aDogNCB9LAogICAgICAgIHsgbW9udGg6IDUgfSwKICAgICAgICB7IG1vbnRoOiA2IH0sCiAgICAgICAgeyBtb250aDogNyB9LAogICAgICAgIHsgbW9udGg6IDggfSwKICAgICAgICB7IG1vbnRoOiA5IH0sCiAgICAgIF0sCiAgICAgIG1vbnRobGlzdDogWyfguJXguLjguKXguLLguITguKEnLCAn4Lie4Lik4Lio4LiI4Li04LiB4Liy4Lii4LiZJywgJ+C4mOC4seC4meC4p+C4suC4hOC4oScsICfguKHguIHguKPguLLguITguKEnLCAn4LiB4Li44Lih4Lig4Liy4Lie4Lix4LiZ4LiY4LmMJywgJ+C4oeC4teC4meC4suC4hOC4oScsICfguYDguKHguKnguLLguKLguJknLCAn4Lie4Lik4Lip4Lig4Liy4LiE4LihJywgJ+C4oeC4tOC4luC4uOC4meC4suC4ouC4mScsICfguIHguKPguIHguI7guLLguITguKEnLCAn4Liq4Li04LiH4Lir4Liy4LiE4LihJywgJ+C4geC4seC4meC4ouC4suC4ouC4mSddLAogICAgICB5ZWFyY3VycmVudDogIiIsCiAgICAgIHJlcG9ydDogW10sCiAgICAgIGV4Y2lzZV9pZDogIiIsCiAgICAgIGJyYW5kX25hbWU6IFtdLAogICAgICBkaWZmOiBbXSwKICAgICAgZGVncmVlOiBbXSwKICAgICAgc3BhbjogMywKICAgICAgc3BhbmJyYW5kOiAxLAogICAgICBjdXJyZW50OiBbXSwKICAgICAgdGJzaXplOiBbMC4zMywgMC42MjUsIDAuNjMsIDAuNywgMC43NV0sCiAgICAgIHRhYmxlY3VycmVudDogW10sCiAgICAgIGxpc3Q6IFtdLAogICAgICBzdW10YXh0aHJlZXRocmVlOiAwLAogICAgICBzdW10YXhzaXh0aHJlZTogMCwKICAgICAgc3VtdGF4c2l4dHdvZml2ZTogMCwKICAgICAgc3VtdGF4c2V2ZW46IDAsCiAgICAgIHN1bXRheHNldmVuZml2ZTogMCwKICAgICAgc3VtdGF4dGhyZWV0aHJlZWM6IDAsCiAgICAgIHN1bXRheHNpeHRocmVlYzogMCwKICAgICAgc3VtdGF4c2l4dHdvZml2ZWM6IDAsCiAgICAgIHN1bXRheHNldmVuYzogMCwKICAgICAgc3VtdGF4c2V2ZW5maXZlYzogMCwKICAgICAgdGF4bGlzdDogW10sCiAgICAgIHRheGRhdGFjdXJyZW50OiBbXSwKICAgICAgaGVhZHN0YW1wOiBbXSwKICAgICAgaGVhZDogW10sCiAgICAgIHNpemU6IFtdLAogICAgICBzdW1hbGw6IFtdLAogICAgICB0Ym1vbnRoOiBbXSwKICAgICAgY2F0ZWdvcnk6IFsn4LiV4Li44Lil4Liy4LiE4LihJywgJ+C4nuC4pOC4qOC4iOC4tOC4geC4suC4ouC4mScsICfguJjguLHguJnguKfguLLguITguKEnLCAn4Lih4LiB4Lij4Liy4LiE4LihJywgJ+C4geC4uOC4oeC4oOC4suC4nuC4seC4meC4mOC5jCcsICfguKHguLXguJnguLLguITguKEnLCAn4LmA4Lih4Lip4Liy4Lii4LiZJywgJ+C4nuC4pOC4qeC4oOC4suC4hOC4oScsICfguKHguLTguJbguLjguJnguLLguKLguJknXQogICAgICAsCiAgICAgIHZvbHVtbmxpc3Q6IFtdLAogICAgICBzdW12b2x1bW5saXN0OiB7fSwKICAgICAgdGF4ZGF0YWxpc3Q6IFtdLAogICAgICB0YXhzdW06IFtdLAogICAgICBoZWFkbW9udGh0ZXh0OiBbXSwKICAgICAgb3ZlcmFsbHRheDogW10sCiAgICAgIG5ldF90YXg6IDAsCiAgICAgIHRheGRhdGFsaXN0czogW10sCiAgICAgIHN1bW51bWJlciA6IFtdLAogICAgICBzdW12b2x1bWU6W10sCiAgICAgIGFsbG51bTowLAogICAgICBhbGx2b2w6MAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNhbHN1bSh4LCB5LCB6LCBxLCB3LCBhKSB7CiAgICAgIHZhciBjYWwgPSAwOwogICAgICBpZiAoeCA9PT0gdW5kZWZpbmVkIHx8IHggPT0gbnVsbCkgewogICAgICAgIHggPSAwOwogICAgICB9CiAgICAgIGlmICh5ID09PSB1bmRlZmluZWQgfHwgeSA9PSBudWxsKSB7CiAgICAgICAgeSA9IDA7CiAgICAgIH0KICAgICAgaWYgKHogPT09IHVuZGVmaW5lZCB8fCB6ID09IG51bGwpIHsKICAgICAgICB6ID0gMDsKICAgICAgfQogICAgICBpZiAocSA9PT0gdW5kZWZpbmVkIHx8IHEgPT0gbnVsbCkgewogICAgICAgIHEgPSAwOwogICAgICB9CiAgICAgIGlmICh3ID09PSB1bmRlZmluZWQgfHwgdyA9PSBudWxsKSB7CiAgICAgICAgdyA9IDA7CiAgICAgIH0KICAgICAgaWYgKGEgPT09IHVuZGVmaW5lZCB8fCBhID09IG51bGwpIHsKICAgICAgICBhID0gMDsKICAgICAgfQogICAgICAvLyBjb25zb2xlLmxvZyh4LHkseixxLHcpOwoKICAgICAgY2FsID0gcGFyc2VJbnQoCiAgICAgICAgcGFyc2VJbnQoeCkgKyBwYXJzZUludCh5KSArIHBhcnNlSW50KHopICsgcGFyc2VJbnQocSkgKyBwYXJzZUludCh3KSArIHBhcnNlSW50KGEpCiAgICAgICk7CiAgICAgIGlmIChjYWwgPT09IHVuZGVmaW5lZCB8fCBjYWwgPT0gbnVsbCkgewogICAgICAgIGNhbCA9IDgwMDAwCiAgICAgIH0KICAgICAgLy8gY29uc29sZS5sb2coY2FsKTsKICAgICAgcmV0dXJuIGNhbDsKICAgIH0sCiAgICBnZXRoZWFkZXIoKSB7CgogICAgICBNZXJnZUxpcXVvclJlcG9ydFNlcnZpY2UuZ2V0UmVwb3J0TGlxdW9yVGF4SGVhZGVyKHRoaXMuZXhjaXNlX25vKS50aGVuKAogICAgICAgIChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuaGVhZCA9IHJlcy5kYXRhOwogICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAgICAgTWVyZ2VMaXF1b3JSZXBvcnRTZXJ2aWNlLmdldHZvbHVtZXRheCh0aGlzLmV4Y2lzZV9ubywgJycsICcnKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgdGhpcy52b2x1bW5saXN0ID0gcmVzLmRhdGEKICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy52b2x1bW5saXN0KTsKICAgICAgICAgICAgdGhpcy5jYXRlZ29yeSA9IFtdCiAgICAgICAgICAgIC8vIGZvciAobGV0IG0gPSAwOyBtIDwgdGhpcy52b2x1bW5saXN0Lmxlbmd0aDsgbSsrKSB7CiAgICAgICAgICAgIC8vICAgdGhpcy5jYXRlZ29yeS5wdXNoKHRoaXMudm9sdW1ubGlzdFttXS5uKQogICAgICAgICAgICAvLyB9CiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgdmFyIG51bTEgPSAwCiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgdmFyIHZvbDEgPSAwCiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgdmFyIG51bTIgPSAwCiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgdmFyIHZvbDIgPSAwCiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgdmFyIG51bTMgPSAwCiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgdmFyIHZvbDMgPSAwCiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgdmFyIHN1bW51bSA9IDAKICAgICAgICAgICAgLy8gICAgICAgICAgICAgICB2YXIgc3Vtdm9sID0gMAogICAgICAgICAgICAvLyAgICAgICAgICAgICAgIHZhciBzdW10YXggPSAwCiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgdmFyIHN1bXZvbGdyYXBoID0gW10KICAgICAgICAgICAgLy8gICAgICAgICAgICAgICB2YXIgc3Vtdm9sZ3JhcGh0d28gPSBbXQogICAgICAgICAgICAvLyAgICAgICAgICAgICAgIHZhciBzdW12b2xncmFwaHRocmVlID0gW10KICAgICAgICAgICAgLy8gICAgICAgICAgICAgICBmb3IgKGxldCB2ID0gMDsgdiA8IHRoaXMudm9sdW1ubGlzdC5sZW5ndGg7IHYrKykgewogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnZvbHVtbmxpc3Rbdl0ubnVtYmVyKSB7CiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgIHRoaXMudm9sdW1ubGlzdFt2XS5udW1iZXIgPSAwCiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnZvbHVtbmxpc3Rbdl0ubnVtYmVydHdvKSB7CiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgIHRoaXMudm9sdW1ubGlzdFt2XS5udW1iZXJ0d28gPSAwCiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBpZiAoIXRoaXMudm9sdW1ubGlzdFt2XS5udW1iZXJ0aHJlZSkgewogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICB0aGlzLnZvbHVtbmxpc3Rbdl0ubnVtYmVydGhyZWUgPSAwCiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBpZiAoIXRoaXMudm9sdW1ubGlzdFt2XS52b2x1bWVfbGlxdW9yKSB7CiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgIHRoaXMudm9sdW1ubGlzdFt2XS52b2x1bWVfbGlxdW9yID0gMAogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgIGlmICghdGhpcy52b2x1bW5saXN0W3ZdLnZvbHVtZV9saXF1b3J0d28pIHsKICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgdGhpcy52b2x1bW5saXN0W3ZdLnZvbHVtZV9saXF1b3J0d28gPSAwCiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBpZiAoIXRoaXMudm9sdW1ubGlzdFt2XS52b2x1bWVfbGlxdW9ydGhyZWUpIHsKICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgdGhpcy52b2x1bW5saXN0W3ZdLnZvbHVtZV9saXF1b3J0aHJlZSA9IDAKICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICBpZiAoIXRoaXMudm9sdW1ubGlzdFt2XS50YXgpIHsKICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgdGhpcy52b2x1bW5saXN0W3ZdLnRheCA9IDAKICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIG51bTEgPSBudW0xICsgdGhpcy52b2x1bW5saXN0W3ZdLm51bWJlcgogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgdm9sMSA9IHZvbDEgKyB0aGlzLnZvbHVtbmxpc3Rbdl0udm9sdW1lX2xpcXVvcgogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgIG51bTIgPSBudW0yICsgdGhpcy52b2x1bW5saXN0W3ZdLm51bWJlcnR3bwogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgdm9sMiA9IHZvbDIgKyB0aGlzLnZvbHVtbmxpc3Rbdl0udm9sdW1lX2xpcXVvcnR3bwogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgIG51bTMgPSBudW0zICsgdGhpcy52b2x1bW5saXN0W3ZdLm51bWJlcnRocmVlCiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB2b2wzID0gdm9sMyArIHRoaXMudm9sdW1ubGlzdFt2XS52b2x1bWVfbGlxdW9ydGhyZWUKICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICBzdW1udW0gPSBzdW1udW0gKyB0aGlzLnZvbHVtbmxpc3Rbdl0ubnVtYmVyICsgdGhpcy52b2x1bW5saXN0W3ZdLm51bWJlcnR3byt0aGlzLnZvbHVtbmxpc3Rbdl0ubnVtYmVydGhyZWUKICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHN1bXZvbCA9IHN1bXZvbCArIHRoaXMudm9sdW1ubGlzdFt2XS52b2x1bWVfbGlxdW9yK3RoaXMudm9sdW1ubGlzdFt2XS52b2x1bWVfbGlxdW9ydHdvK3RoaXMudm9sdW1ubGlzdFt2XS52b2x1bWVfbGlxdW9ydGhyZWUKICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHN1bXRheCA9IHN1bXRheCArdGhpcy52b2x1bW5saXN0W3ZdLnRheAogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgc3Vtdm9sZ3JhcGgucHVzaCh0aGlzLnZvbHVtbmxpc3Rbdl0ubnVtYmVyKQogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgc3Vtdm9sZ3JhcGh0d28ucHVzaCh0aGlzLnZvbHVtbmxpc3Rbdl0ubnVtYmVydHdvKQogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgc3Vtdm9sZ3JhcGh0aHJlZS5wdXNoKHRoaXMudm9sdW1ubGlzdFt2XS5udW1iZXJ0aHJlZSkKICAgICAgICAgICAgLy8gICAgICAgICAgICAgICB9CiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgdGhpcy5zdW12b2x1bW5saXN0ID0gewogICAgICAgICAgICAvLyBudW0xIDogbnVtMSAsCiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB2b2wxIDogdm9sMSAsCiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgbnVtMiA6IG51bTIgLAogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgdm9sMiA6IHZvbDIgLAogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgIG51bTMgOiBudW0zICwKICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHZvbDMgOiB2b2wzICwKICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICBzdW1udW0gOiBzdW1udW0sCiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBzdW12b2wgOiBzdW12b2wgLAogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgc3VtdGF4IDogc3VtdGF4ICwKICAgICAgICAgICAgLy8gICAgICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuc3Vtdm9sdW1ubGlzdCk7CgogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmRldGFpbCk7CgogICAgICAgICAgfSkKCiAgICAgICAgICAvLyB0aGlzLmhlYWRzdGFtcC5wdXNoKHsKICAgICAgICAgIC8vICAgYTogIuC5gOC4lOC4t+C4reC4meC4l+C4teC5iOC4iuC4s+C4o+C4sOC4oOC4suC4qeC4tSIsCiAgICAgICAgICAvLyAgIGI6ICLguIjguLPguJnguKfguJnguYHguKrguJXguKHguJvguYwiLAogICAgICAgICAgLy8gICBjOiAi4Lib4Lij4Li04Lih4Liy4LiT4LiZ4LmJ4Liz4Liq4Li44Lij4LiyIiwKICAgICAgICAgIC8vICAgZDogIuC4oOC4suC4qeC4teC4quC4uOC4l+C4mOC4tCIsCiAgICAgICAgICAvLyB9KTsKICAgICAgICAgIC8vIGlmIChyZXMuZGF0YS5sZW5ndGggPT0gMikgewogICAgICAgICAgLy8gICB0aGlzLmhlYWRzdGFtcFswXS5jb2xvciA9J2JhY2tncm91bmQtY29sb3I6I0VDN0MzMCcKICAgICAgICAgIC8vICAgdGhpcy5oZWFkc3RhbXBbMF0uZSA9ICLguIjguLPguJnguKfguJnguYHguKrguJXguKHguJvguYwiOwogICAgICAgICAgLy8gICB0aGlzLmhlYWRzdGFtcFswXS5mID0gIuC4m+C4o+C4tOC4oeC4suC4k+C4meC5ieC4s+C4quC4uOC4o+C4siI7CiAgICAgICAgICAvLyB9CiAgICAgICAgICAvLyBlbHNlIGlmIChyZXMuZGF0YS5sZW5ndGggPT0gMykgewogICAgICAgICAgLy8gICB0aGlzLmhlYWRzdGFtcFswXS5lID0gIuC4iOC4s+C4meC4p+C4meC5geC4quC4leC4oeC4m+C5jCI7CiAgICAgICAgICAvLyAgIHRoaXMuaGVhZHN0YW1wWzBdLmYgPSAi4Lib4Lij4Li04Lih4Liy4LiT4LiZ4LmJ4Liz4Liq4Li44Lij4LiyIjsKICAgICAgICAgIC8vICAgIHRoaXMuaGVhZHN0YW1wWzBdLmcgPSAi4LiI4Liz4LiZ4Lin4LiZ4LmB4Liq4LiV4Lih4Lib4LmMIjsKICAgICAgICAgIC8vICAgdGhpcy5oZWFkc3RhbXBbMF0uaCA9ICLguJvguKPguLTguKHguLLguJPguJnguYnguLPguKrguLjguKPguLIiOwogICAgICAgICAgLy8gfWVsc2UgaWYgKHJlcy5kYXRhLmxlbmd0aCA9PSA0KSB7CiAgICAgICAgICAvLyAgIHRoaXMuaGVhZHN0YW1wWzBdLmUgPSAi4LiI4Liz4LiZ4Lin4LiZ4LmB4Liq4LiV4Lih4Lib4LmMIjsKICAgICAgICAgIC8vICAgdGhpcy5oZWFkc3RhbXBbMF0uZiA9ICLguJvguKPguLTguKHguLLguJPguJnguYnguLPguKrguLjguKPguLIiOwogICAgICAgICAgLy8gICAgdGhpcy5oZWFkc3RhbXBbMF0uZyA9ICLguIjguLPguJnguKfguJnguYHguKrguJXguKHguJvguYwiOwogICAgICAgICAgLy8gICB0aGlzLmhlYWRzdGFtcFswXS5oID0gIuC4m+C4o+C4tOC4oeC4suC4k+C4meC5ieC4s+C4quC4uOC4o+C4siI7CiAgICAgICAgICAvLyAgIHRoaXMuaGVhZHN0YW1wWzBdLmkgPSAi4LiI4Liz4LiZ4Lin4LiZ4LmB4Liq4LiV4Lih4Lib4LmMIjsKICAgICAgICAgIC8vICAgdGhpcy5oZWFkc3RhbXBbMF0uaiA9ICLguJvguKPguLTguKHguLLguJPguJnguYnguLPguKrguLjguKPguLIiOwogICAgICAgICAgLy8gfQogICAgICAgICAgdGhpcy5kZWdyZWUucHVzaCh7CiAgICAgICAgICAgIGE6IDEsCiAgICAgICAgICB9KTsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICAgIGZvciAobGV0IGggPSAwOyBoIDwgcmVzLmRhdGEubGVuZ3RoOyBoKyspIHsKICAgICAgICAgICAgaWYgKGggPT0gMCkgewogICAgICAgICAgICAgIHRoaXMuZGVncmVlWzBdLmRlZ3JlZSA9IHJlcy5kYXRhW2hdLmRlZ3JlZTsKICAgICAgICAgICAgICB0aGlzLnNpemUucHVzaCh7CiAgICAgICAgICAgICAgICBzaXplOiByZXMuZGF0YVtoXS5zaXplLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHRoaXMuYnJhbmRfbmFtZS5wdXNoKHsKICAgICAgICAgICAgICAgIGJyYW5kX25hbWU6IHJlcy5kYXRhW2hdLmJyYW5kX25hbWUgKyAnLScgKyByZXMuZGF0YVtoXS5kZWdyZWUgKyAnLScgKyByZXMuZGF0YVtoXS5zaXplLAogICAgICAgICAgICAgICAgY29sb3I6ICdiYWNrZ3JvdW5kLWNvbG9yOiM3N0I2RUEnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoaCA9PSAxKSB7CiAgICAgICAgICAgICAgdGhpcy5kZWdyZWVbMF0uZGVncmVldHdvID0gcmVzLmRhdGFbaF0uZGVncmVlOwogICAgICAgICAgICAgIHRoaXMuc2l6ZS5wdXNoKHsKICAgICAgICAgICAgICAgIHNpemU6IHJlcy5kYXRhW2hdLnNpemUsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdGhpcy5icmFuZF9uYW1lLnB1c2goewogICAgICAgICAgICAgICAgYnJhbmRfbmFtZTogcmVzLmRhdGFbaF0uYnJhbmRfbmFtZSArICctJyArIHJlcy5kYXRhW2hdLmRlZ3JlZSArICctJyArIHJlcy5kYXRhW2hdLnNpemUsCiAgICAgICAgICAgICAgICBjb2xvcjogJ2JhY2tncm91bmQtY29sb3I6I0VDN0MzMCcKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChoID09IDIpIHsKICAgICAgICAgICAgICB0aGlzLmRlZ3JlZVswXS5kZWdyZWV0d28gPSByZXMuZGF0YVtoXS5kZWdyZWU7CiAgICAgICAgICAgICAgdGhpcy5zaXplLnB1c2goewogICAgICAgICAgICAgICAgc2l6ZTogcmVzLmRhdGFbaF0uc2l6ZSwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB0aGlzLmJyYW5kX25hbWUucHVzaCh7CiAgICAgICAgICAgICAgICBicmFuZF9uYW1lOiByZXMuZGF0YVtoXS5icmFuZF9uYW1lICsgJy0nICsgcmVzLmRhdGFbaF0uZGVncmVlICsgJy0nICsgcmVzLmRhdGFbaF0uc2l6ZSwKICAgICAgICAgICAgICAgIGNvbG9yOiAnYmFja2dyb3VuZC1jb2xvcjojQUM3QzMwJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICApOwogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmRlZ3JlZSk7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuaGVhZHN0YW1wKTsKCiAgICAgIHRoaXMubG9hZGNoYXJ0T3B0aW9ucygpOwogICAgfSwKICAgIHVuaXF1ckFycmF5KGFycmF5KSB7CiAgICAgIHZhciBhID0gYXJyYXkuY29uY2F0KCk7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykgewogICAgICAgIGZvciAodmFyIGogPSBpICsgMTsgaiA8IGEubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGlmIChhW2ldLm1vbnRoID09PSBhW2pdLm1vbnRoKSB7CiAgICAgICAgICAgIGEuc3BsaWNlKGotLSwgMSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gYTsKICAgIH0sCiAgICBsb2FkZGF0YSgpIHsKICAgICAgTWVyZ2VMaXF1b3JSZXBvcnRTZXJ2aWNlLmdldFJlcG9ydExpcXVvclRheERldGFpbCgKICAgICAgICB0aGlzLmV4Y2lzZV9ubywKICAgICAgICBTdHJpbmcodGhpcy55ZWFyY3VycmVudCAtIDEgKyAiLTEwLTAxIiksCiAgICAgICAgU3RyaW5nKHRoaXMueWVhcmN1cnJlbnQgKyAiLTA5LTMwIikKICAgICAgKS50aGVuKChyZXMpID0+IHsKICAgICAgICB0aGlzLmN1cnJlbnQgPSByZXMuZGF0YTsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgZm9yIChsZXQgY3UgPSAwOyBjdSA8IHRoaXMuY3VycmVudC5sZW5ndGg7IGN1KyspIHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuY3VycmVudFtjdV0ubW9udGgpOwogICAgICAgICAgZm9yIChsZXQgdGJjID0gMDsgdGJjIDwgdGhpcy50YWJsZW5ldy5sZW5ndGg7IHRiYysrKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnRhYmxlbmV3W3RiY10ubW9udGggPT0gdGhpcy5jdXJyZW50W2N1XS5tb250aCkgewogICAgICAgICAgICAgIHRoaXMudGJtb250aC5wdXNoKHsKICAgICAgICAgICAgICAgIG1vbnRoOiB0aGlzLmN1cnJlbnRbY3VdLm1vbnRoLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHRoaXMudGFibGVjdXJyZW50ID0gdGhpcy51bmlxdXJBcnJheSh0aGlzLnRibW9udGgpOwogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudGFibGVjdXJyZW50KTsKICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnRic2l6ZSk7CiAgICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCB0aGlzLmN1cnJlbnQubGVuZ3RoOyBjKyspIHsKICAgICAgICAgIGZvciAobGV0IHRiID0gMDsgdGIgPCB0aGlzLnRhYmxlY3VycmVudC5sZW5ndGg7IHRiKyspIHsKICAgICAgICAgICAgZm9yIChsZXQgcyA9IDA7IHMgPCB0aGlzLnRic2l6ZS5sZW5ndGg7IHMrKykgewogICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgIHRoaXMudGJzaXplW3NdID09IHRoaXMuY3VycmVudFtjXS5zaXplICYmCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlY3VycmVudFt0Yl0ubW9udGggPT0gdGhpcy5jdXJyZW50W2NdLm1vbnRoCiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnRhYmxlY3VycmVudCk7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnRhYmxlY3VycmVudFt0Yl0ubW9udGgsdGhpcy5jdXJyZW50W2NdLm1vbnRoKTsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnRic2l6ZVtzXSA9PSAwLjMzKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVjdXJyZW50W3RiXS5zaXplID0gMC4zMzsKICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZWN1cnJlbnRbdGJdLnN0YXR1cyA9IHRydWU7CiAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVjdXJyZW50W3RiXS5zdW1tdW5iZXIgPSB0aGlzLmN1cnJlbnRbY10uc3VtbXVuYmVyOwogICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlY3VycmVudFt0Yl0uc3Vtdm9sdW1lX2xpcXVvciA9CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50W2NdLnN1bXZvbHVtZV9saXF1b3I7CiAgICAgICAgICAgICAgICAgIC8vIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRic2l6ZVtzXSA9PSAwLjYyNSkgewogICAgICAgICAgICAgICAgICAvLyB0aGlzLnRhYmxlY3VycmVudC5wdXNoKHsKICAgICAgICAgICAgICAgICAgLy8gICBtb250aDogdGhpcy5jdXJyZW50W2NdLm1vbnRoLAogICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlY3VycmVudFt0Yl0uc2l6ZSA9IDAuNjI1OwogICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlY3VycmVudFt0Yl0uc3RhdHVzID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZWN1cnJlbnRbdGJdLnN1bW11bmJlcnNpeHR3b2ZpdmUgPQogICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFtjXS5zdW1tdW5iZXI7CiAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVjdXJyZW50W3RiXS5zdW12b2x1bWVfbGlxdW9yc2l4dHdvZml2ZSA9CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50W2NdLnN1bXZvbHVtZV9saXF1b3I7CiAgICAgICAgICAgICAgICAgIC8vIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRic2l6ZVtzXSA9PSAwLjYzKSB7CiAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuY3VycmVudFtjXSk7CiAgICAgICAgICAgICAgICAgIC8vIHRoaXMudGFibGVjdXJyZW50LnB1c2goewogICAgICAgICAgICAgICAgICAvLyAgIG1vbnRoOiB0aGlzLmN1cnJlbnRbY10ubW9udGgsCiAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVjdXJyZW50W3RiXS5zaXplID0gMC42MzsKICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZWN1cnJlbnRbdGJdLnN0YXR1cyA9IHRydWU7CiAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVjdXJyZW50W3RiXS5zdW1tdW5iZXJzaXh0aHJlZSA9CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50W2NdLnN1bW11bmJlcjsKICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZWN1cnJlbnRbdGJdLnN1bXZvbHVtZV9saXF1b3JzaXh0aHJlZSA9CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50W2NdLnN1bXZvbHVtZV9saXF1b3I7CiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRbY10uZGVncmVlID09IDM1ICYmIHRoaXMuZXhjaXNlX25vID09ICc1NDEwMjInKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZWN1cnJlbnRbdGJdLm1vcmVzdW12b2x1bWVfbGlxdW9yc2l4dGhyZWUgPQogICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50W2NdLnN1bXZvbHVtZV9saXF1b3I7CiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZWN1cnJlbnRbdGJdLm1vcmVzdW1tdW5iZXIgPQogICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50W2NdLnN1bW11bmJlcjsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlY3VycmVudFt0Yl0ubW9yZXN1bXZvbHVtZV9saXF1b3JzaXh0aHJlZSA9IDAKICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlY3VycmVudFt0Yl0ubW9yZXN1bW11bmJlciA9IDAKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAvLyB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy50YnNpemVbc10gPT0gMC43KSB7CiAgICAgICAgICAgICAgICAgIC8vIHRoaXMudGFibGVjdXJyZW50LnB1c2goewogICAgICAgICAgICAgICAgICAvLyAgIG1vbnRoOiB0aGlzLmN1cnJlbnRbY10ubW9udGgsCiAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVjdXJyZW50W3RiXS5zaXplID0gMC43OwogICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlY3VycmVudFt0Yl0uc3RhdHVzID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZWN1cnJlbnRbdGJdLnN1bW11bmJlcnNldmVuID0KICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRbY10uc3VtbXVuYmVyOwogICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlY3VycmVudFt0Yl0uc3Vtdm9sdW1lX2xpcXVvcnNldmVuID0KICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRbY10uc3Vtdm9sdW1lX2xpcXVvcjsKICAgICAgICAgICAgICAgICAgLy8gfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudGJzaXplW3NdID09IDAuNzUpIHsKICAgICAgICAgICAgICAgICAgLy8gdGhpcy50YWJsZWN1cnJlbnQucHVzaCh7CiAgICAgICAgICAgICAgICAgIC8vICAgbW9udGg6IHRoaXMuY3VycmVudFtjXS5tb250aAogICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlY3VycmVudFt0Yl0uc2l6ZSA9IDAuNzU7CiAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVjdXJyZW50W3RiXS5zdGF0dXMgPSB0cnVlOwogICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlY3VycmVudFt0Yl0uc3VtbXVuYmVyc2V2ZW5maXZlID0KICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRbY10uc3VtbXVuYmVyOwogICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlY3VycmVudFt0Yl0uc3Vtdm9sdW1lX2xpcXVvcnNldmVuZml2ZSA9CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50W2NdLnN1bXZvbHVtZV9saXF1b3I7CiAgICAgICAgICAgICAgICAgIC8vIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvLyBmb3IgKGxldCB0dHQgPSAwOyB0dHQgPCB0aGlzLnRhYmxlY3VycmVudC5sZW5ndGg7IHR0dCsrKSB7CiAgICAgICAgLy8gICBpZighdGhpcy50YWJsZWN1cnJlbnRbdHR0XS5zdW12b2x1bWVfbGlxdW9yc2l4dGhyZWUpewogICAgICAgIC8vICAgICB0aGlzLnRhYmxlY3VycmVudFt0dHRdLnN1bXZvbHVtZV9saXF1b3JzaXh0aHJlZSA9ICIwIgogICAgICAgIC8vICAgfQogICAgICAgIC8vICAgaWYoIXRoaXMudGFibGVjdXJyZW50W3R0dF0uc3VtbXVuYmVyc2l4dGhyZWUpewogICAgICAgIC8vICAgICB0aGlzLnRhYmxlY3VycmVudFt0dHRdLnN1bW11bmJlcnNpeHRocmVlID0gIjAiCiAgICAgICAgLy8gICB9CiAgICAgICAgLy8gfQogICAgICAgIHRoaXMuc3VtbW9udGgoKTsKICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmN1cnJlbnQpOwogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudGFibGVjdXJyZW50KTsKCiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5oZWFkKTsKICAgICAgICBpZiAodGhpcy5oZWFkLmxlbmd0aCA+IDEpIHsKICAgICAgICAgIGZvciAobGV0IHRhID0gMDsgdGEgPCB0aGlzLnRhYmxlY3VycmVudC5sZW5ndGg7IHRhKyspIHsKICAgICAgICAgICAgLy8gdmFyIGMgPSAwCiAgICAgICAgICAgIGZvciAobGV0IHNzID0gMDsgc3MgPCB0aGlzLmhlYWQubGVuZ3RoOyBzcysrKSB7CiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy50YWJsZWN1cnJlbnRbdGFdWzBdKTsKICAgICAgICAgICAgICB0aGlzLnRhYmxlY3VycmVudFt0YV0uc3VtbnVtYmVyYWxsID0gMDsKICAgICAgICAgICAgICB0aGlzLnRhYmxlY3VycmVudFt0YV0uc3Vtdm9sdW1lYWxsID0gMDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnRhYmxlY3VycmVudCk7CiAgICAgIH0pOwoKICAgIH0sCiAgICBjYWxkaWYobWF4LCBtaW4pIHsKICAgICAgaWYgKG1pbiA9PSBudWxsKSB7CiAgICAgICAgbWluID0gMDsKICAgICAgfQogICAgICB2YXIgcmUgPSBtYXggLSBtaW47CiAgICAgIGNvbnN0IGlzVmFsaWQgPSBOdW1iZXIuaXNJbnRlZ2VyKHJlKTsKICAgICAgLy8gY29uc29sZS5sb2coaXNWYWxpZCk7CiAgICAgIGlmICghaXNWYWxpZCkgewogICAgICAgIHJlID0gIiI7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlOwogICAgfSwKICAgIGxvYWREZXRhaWwoKSB7CiAgICAgIE1lcmdlTGlxdW9yUmVwb3J0U2VydmljZS5nZXRUYWJsZWJ5ZmFjdG9yeV9jb2RlKHRoaXMuZXhjaXNlX25vKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICAgIHRoaXMudGFibGUgPSByZXMuZGF0YTsKICAgICAgICAgIHRoaXMuc2hvdyA9IHRydWU7CiAgICAgICAgICBEZXRhaWxFeGNpc2VTZXJ2aWNlLmdldERldGFpbEV4Y2lzZSh0aGlzLmV4Y2lzZV9ubykudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIHRoaXMuZGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgICAgIHRoaXMuZXhjaXNlX2lkID0gcmVzLmRhdGEuZXhjaXNlX2lkOwogICAgICAgICAgfSk7CiAgICAgICAgICBmb3IgKGxldCB0YiA9IDA7IHRiIDwgdGhpcy50YWJsZW5ldy5sZW5ndGg7IHRiKyspIHsKICAgICAgICAgICAgZm9yIChsZXQgdGIxID0gMDsgdGIxIDwgdGhpcy50YWJsZS5sZW5ndGg7IHRiMSsrKSB7CiAgICAgICAgICAgICAgLy8KICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RiMV0ubW9udGggPT0gdGhpcy50YWJsZW5ld1t0Yl0ubW9udGggJiYKICAgICAgICAgICAgICAgIHRoaXMudGFibGVuZXdbdGJdLm1vbnRoID09IDEwICYmCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RiMV0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IC0gMgogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgdGhpcy50YWJsZW5ld1t0Yl0uZGVncmVlID0gdGhpcy50YWJsZVt0YjFdLmRlZ3JlZTsKICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zZXZlbiA9IHRoaXMudGFibGVbdGIxXS5zZXZlbiksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zZXZlbmZpdmUgPSB0aGlzLnRhYmxlW3RiMV0uc2V2ZW5maXZlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpeHRocmVlID0gdGhpcy50YWJsZVt0YjFdLnNpeHRocmVlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpeHR3b2ZpdmUgPSB0aGlzLnRhYmxlW3RiMV0uc2l4dHdvZml2ZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zaXplID0gdGhpcy50YWJsZVt0YjFdLnNpemUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc3VtbnVtYmVyID0gdGhpcy50YWJsZVt0YjFdLnN1bW51bWJlciksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS50aHJlZXRocmVlID0gdGhpcy50YWJsZVt0YjFdLnRocmVldGhyZWUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0ueWVhciA9IHRoaXMudGFibGVbdGIxXS55ZWFyKTsKICAgICAgICAgICAgICAgIHRoaXMuc3VtdGhyZWV0aHJlZSA9CiAgICAgICAgICAgICAgICAgIHRoaXMuc3VtdGhyZWV0aHJlZSArIHRoaXMudGFibGVbdGIxXS50aHJlZXRocmVlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0d29maXZlID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0d29maXZlICsgdGhpcy50YWJsZVt0YjFdLnNpeHR3b2ZpdmU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHRocmVlID0gdGhpcy5zdW1zaXh0aHJlZSArIHRoaXMudGFibGVbdGIxXS5zaXh0aHJlZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW4gPSB0aGlzLnN1bXNldmVuICsgdGhpcy50YWJsZVt0YjFdLnNldmVuOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbmZpdmUgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuZml2ZSArIHRoaXMudGFibGVbdGIxXS5zZXZlbmZpdmU7CiAgICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICAgIHRoaXMudGFibGVbdGIxXS5tb250aCA9PSB0aGlzLnRhYmxlbmV3W3RiXS5tb250aCAmJgogICAgICAgICAgICAgICAgdGhpcy50YWJsZW5ld1t0Yl0ubW9udGggPT0gMTEgJiYKICAgICAgICAgICAgICAgIHRoaXMudGFibGVbdGIxXS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQgLSAyCiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlbmV3W3RiXS5kZWdyZWUgPSB0aGlzLnRhYmxlW3RiMV0uZGVncmVlOwogICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNldmVuID0gdGhpcy50YWJsZVt0YjFdLnNldmVuKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNldmVuZml2ZSA9IHRoaXMudGFibGVbdGIxXS5zZXZlbmZpdmUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2l4dGhyZWUgPSB0aGlzLnRhYmxlW3RiMV0uc2l4dGhyZWUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2l4dHdvZml2ZSA9IHRoaXMudGFibGVbdGIxXS5zaXh0d29maXZlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpemUgPSB0aGlzLnRhYmxlW3RiMV0uc2l6ZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zdW1udW1iZXIgPSB0aGlzLnRhYmxlW3RiMV0uc3VtbnVtYmVyKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnRocmVldGhyZWUgPSB0aGlzLnRhYmxlW3RiMV0udGhyZWV0aHJlZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS55ZWFyID0gdGhpcy50YWJsZVt0YjFdLnllYXIpOwogICAgICAgICAgICAgICAgdGhpcy5zdW10aHJlZXRocmVlID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW10aHJlZXRocmVlICsgdGhpcy50YWJsZVt0YjFdLnRocmVldGhyZWU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHR3b2ZpdmUgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHR3b2ZpdmUgKyB0aGlzLnRhYmxlW3RiMV0uc2l4dHdvZml2ZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2l4dGhyZWUgPSB0aGlzLnN1bXNpeHRocmVlICsgdGhpcy50YWJsZVt0YjFdLnNpeHRocmVlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbiA9IHRoaXMuc3Vtc2V2ZW4gKyB0aGlzLnRhYmxlW3RiMV0uc2V2ZW47CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuZml2ZSA9CiAgICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW5maXZlICsgdGhpcy50YWJsZVt0YjFdLnNldmVuZml2ZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW5maXZlICsgdGhpcy50YWJsZVt0YjFdLnNldmVuZml2ZTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgICAgICAgICAgdGhpcy50YWJsZVt0YjFdLm1vbnRoID09IHRoaXMudGFibGVuZXdbdGJdLm1vbnRoICYmCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlbmV3W3RiXS5tb250aCA9PSAxMiAmJgogICAgICAgICAgICAgICAgdGhpcy50YWJsZVt0YjFdLnllYXIgPT0gdGhpcy55ZWFyY3VycmVudCAtIDIKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIHRoaXMudGFibGVuZXdbdGJdLmRlZ3JlZSA9IHRoaXMudGFibGVbdGIxXS5kZWdyZWU7CiAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2V2ZW4gPSB0aGlzLnRhYmxlW3RiMV0uc2V2ZW4pLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2V2ZW5maXZlID0gdGhpcy50YWJsZVt0YjFdLnNldmVuZml2ZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zaXh0aHJlZSA9IHRoaXMudGFibGVbdGIxXS5zaXh0aHJlZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zaXh0d29maXZlID0gdGhpcy50YWJsZVt0YjFdLnNpeHR3b2ZpdmUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2l6ZSA9IHRoaXMudGFibGVbdGIxXS5zaXplKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnN1bW51bWJlciA9IHRoaXMudGFibGVbdGIxXS5zdW1udW1iZXIpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0udGhyZWV0aHJlZSA9IHRoaXMudGFibGVbdGIxXS50aHJlZXRocmVlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnllYXIgPSB0aGlzLnRhYmxlW3RiMV0ueWVhcik7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXRocmVldGhyZWUgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXRocmVldGhyZWUgKyB0aGlzLnRhYmxlW3RiMV0udGhyZWV0aHJlZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2l4dHdvZml2ZSA9CiAgICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2l4dHdvZml2ZSArIHRoaXMudGFibGVbdGIxXS5zaXh0d29maXZlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0aHJlZSA9IHRoaXMuc3Vtc2l4dGhyZWUgKyB0aGlzLnRhYmxlW3RiMV0uc2l4dGhyZWU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuID0gdGhpcy5zdW1zZXZlbiArIHRoaXMudGFibGVbdGIxXS5zZXZlbjsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW5maXZlID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbmZpdmUgKyB0aGlzLnRhYmxlW3RiMV0uc2V2ZW5maXZlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbmZpdmUgKyB0aGlzLnRhYmxlW3RiMV0uc2V2ZW5maXZlOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RiMV0ubW9udGggPT0gdGhpcy50YWJsZW5ld1t0Yl0ubW9udGggJiYKICAgICAgICAgICAgICAgIHRoaXMudGFibGVuZXdbdGJdLm1vbnRoID09IDEgJiYKICAgICAgICAgICAgICAgIHRoaXMudGFibGVbdGIxXS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQgLSAxCiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlbmV3W3RiXS5kZWdyZWUgPSB0aGlzLnRhYmxlW3RiMV0uZGVncmVlOwogICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNldmVuID0gdGhpcy50YWJsZVt0YjFdLnNldmVuKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNldmVuZml2ZSA9IHRoaXMudGFibGVbdGIxXS5zZXZlbmZpdmUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2l4dGhyZWUgPSB0aGlzLnRhYmxlW3RiMV0uc2l4dGhyZWUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2l4dHdvZml2ZSA9IHRoaXMudGFibGVbdGIxXS5zaXh0d29maXZlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpemUgPSB0aGlzLnRhYmxlW3RiMV0uc2l6ZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zdW1udW1iZXIgPSB0aGlzLnRhYmxlW3RiMV0uc3VtbnVtYmVyKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnRocmVldGhyZWUgPSB0aGlzLnRhYmxlW3RiMV0udGhyZWV0aHJlZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS55ZWFyID0gdGhpcy50YWJsZVt0YjFdLnllYXIpOwogICAgICAgICAgICAgICAgdGhpcy5zdW10aHJlZXRocmVlID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW10aHJlZXRocmVlICsgdGhpcy50YWJsZVt0YjFdLnRocmVldGhyZWU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHR3b2ZpdmUgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHR3b2ZpdmUgKyB0aGlzLnRhYmxlW3RiMV0uc2l4dHdvZml2ZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2l4dGhyZWUgPSB0aGlzLnN1bXNpeHRocmVlICsgdGhpcy50YWJsZVt0YjFdLnNpeHRocmVlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbiA9IHRoaXMuc3Vtc2V2ZW4gKyB0aGlzLnRhYmxlW3RiMV0uc2V2ZW47CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuZml2ZSA9CiAgICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW5maXZlICsgdGhpcy50YWJsZVt0YjFdLnNldmVuZml2ZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW5maXZlICsgdGhpcy50YWJsZVt0YjFdLnNldmVuZml2ZTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgICAgICAgICAgdGhpcy50YWJsZVt0YjFdLm1vbnRoID09IHRoaXMudGFibGVuZXdbdGJdLm1vbnRoICYmCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlbmV3W3RiXS5tb250aCA9PSAyICYmCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RiMV0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IC0gMQogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgdGhpcy50YWJsZW5ld1t0Yl0uZGVncmVlID0gdGhpcy50YWJsZVt0YjFdLmRlZ3JlZTsKICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zZXZlbiA9IHRoaXMudGFibGVbdGIxXS5zZXZlbiksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zZXZlbmZpdmUgPSB0aGlzLnRhYmxlW3RiMV0uc2V2ZW5maXZlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpeHRocmVlID0gdGhpcy50YWJsZVt0YjFdLnNpeHRocmVlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpeHR3b2ZpdmUgPSB0aGlzLnRhYmxlW3RiMV0uc2l4dHdvZml2ZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zaXplID0gdGhpcy50YWJsZVt0YjFdLnNpemUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc3VtbnVtYmVyID0gdGhpcy50YWJsZVt0YjFdLnN1bW51bWJlciksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS50aHJlZXRocmVlID0gdGhpcy50YWJsZVt0YjFdLnRocmVldGhyZWUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0ueWVhciA9IHRoaXMudGFibGVbdGIxXS55ZWFyKTsKICAgICAgICAgICAgICAgIHRoaXMuc3VtdGhyZWV0aHJlZSA9CiAgICAgICAgICAgICAgICAgIHRoaXMuc3VtdGhyZWV0aHJlZSArIHRoaXMudGFibGVbdGIxXS50aHJlZXRocmVlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0d29maXZlID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0d29maXZlICsgdGhpcy50YWJsZVt0YjFdLnNpeHR3b2ZpdmU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHRocmVlID0gdGhpcy5zdW1zaXh0aHJlZSArIHRoaXMudGFibGVbdGIxXS5zaXh0aHJlZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW4gPSB0aGlzLnN1bXNldmVuICsgdGhpcy50YWJsZVt0YjFdLnNldmVuOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbmZpdmUgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuZml2ZSArIHRoaXMudGFibGVbdGIxXS5zZXZlbmZpdmU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuZml2ZSArIHRoaXMudGFibGVbdGIxXS5zZXZlbmZpdmU7CiAgICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICAgIHRoaXMudGFibGVbdGIxXS5tb250aCA9PSB0aGlzLnRhYmxlbmV3W3RiXS5tb250aCAmJgogICAgICAgICAgICAgICAgdGhpcy50YWJsZW5ld1t0Yl0ubW9udGggPT0gMyAmJgogICAgICAgICAgICAgICAgdGhpcy50YWJsZVt0YjFdLnllYXIgPT0gdGhpcy55ZWFyY3VycmVudCAtIDEKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIHRoaXMudGFibGVuZXdbdGJdLmRlZ3JlZSA9IHRoaXMudGFibGVbdGIxXS5kZWdyZWU7CiAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2V2ZW4gPSB0aGlzLnRhYmxlW3RiMV0uc2V2ZW4pLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2V2ZW5maXZlID0gdGhpcy50YWJsZVt0YjFdLnNldmVuZml2ZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zaXh0aHJlZSA9IHRoaXMudGFibGVbdGIxXS5zaXh0aHJlZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zaXh0d29maXZlID0gdGhpcy50YWJsZVt0YjFdLnNpeHR3b2ZpdmUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2l6ZSA9IHRoaXMudGFibGVbdGIxXS5zaXplKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnN1bW51bWJlciA9IHRoaXMudGFibGVbdGIxXS5zdW1udW1iZXIpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0udGhyZWV0aHJlZSA9IHRoaXMudGFibGVbdGIxXS50aHJlZXRocmVlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnllYXIgPSB0aGlzLnRhYmxlW3RiMV0ueWVhcik7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXRocmVldGhyZWUgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXRocmVldGhyZWUgKyB0aGlzLnRhYmxlW3RiMV0udGhyZWV0aHJlZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2l4dHdvZml2ZSA9CiAgICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2l4dHdvZml2ZSArIHRoaXMudGFibGVbdGIxXS5zaXh0d29maXZlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0aHJlZSA9IHRoaXMuc3Vtc2l4dGhyZWUgKyB0aGlzLnRhYmxlW3RiMV0uc2l4dGhyZWU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuID0gdGhpcy5zdW1zZXZlbiArIHRoaXMudGFibGVbdGIxXS5zZXZlbjsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW5maXZlID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbmZpdmUgKyB0aGlzLnRhYmxlW3RiMV0uc2V2ZW5maXZlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbmZpdmUgKyB0aGlzLnRhYmxlW3RiMV0uc2V2ZW5maXZlOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RiMV0ubW9udGggPT0gdGhpcy50YWJsZW5ld1t0Yl0ubW9udGggJiYKICAgICAgICAgICAgICAgIHRoaXMudGFibGVuZXdbdGJdLm1vbnRoID09IDQgJiYKICAgICAgICAgICAgICAgIHRoaXMudGFibGVbdGIxXS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQgLSAxCiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlbmV3W3RiXS5kZWdyZWUgPSB0aGlzLnRhYmxlW3RiMV0uZGVncmVlOwogICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNldmVuID0gdGhpcy50YWJsZVt0YjFdLnNldmVuKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNldmVuZml2ZSA9IHRoaXMudGFibGVbdGIxXS5zZXZlbmZpdmUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2l4dGhyZWUgPSB0aGlzLnRhYmxlW3RiMV0uc2l4dGhyZWUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2l4dHdvZml2ZSA9IHRoaXMudGFibGVbdGIxXS5zaXh0d29maXZlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpemUgPSB0aGlzLnRhYmxlW3RiMV0uc2l6ZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zdW1udW1iZXIgPSB0aGlzLnRhYmxlW3RiMV0uc3VtbnVtYmVyKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnRocmVldGhyZWUgPSB0aGlzLnRhYmxlW3RiMV0udGhyZWV0aHJlZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS55ZWFyID0gdGhpcy50YWJsZVt0YjFdLnllYXIpOwogICAgICAgICAgICAgICAgdGhpcy5zdW10aHJlZXRocmVlID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW10aHJlZXRocmVlICsgdGhpcy50YWJsZVt0YjFdLnRocmVldGhyZWU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHR3b2ZpdmUgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHR3b2ZpdmUgKyB0aGlzLnRhYmxlW3RiMV0uc2l4dHdvZml2ZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2l4dGhyZWUgPSB0aGlzLnN1bXNpeHRocmVlICsgdGhpcy50YWJsZVt0YjFdLnNpeHRocmVlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbiA9IHRoaXMuc3Vtc2V2ZW4gKyB0aGlzLnRhYmxlW3RiMV0uc2V2ZW47CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuZml2ZSA9CiAgICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW5maXZlICsgdGhpcy50YWJsZVt0YjFdLnNldmVuZml2ZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW5maXZlICsgdGhpcy50YWJsZVt0YjFdLnNldmVuZml2ZTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgICAgICAgICAgdGhpcy50YWJsZVt0YjFdLm1vbnRoID09IHRoaXMudGFibGVuZXdbdGJdLm1vbnRoICYmCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlbmV3W3RiXS5tb250aCA9PSA1ICYmCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RiMV0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IC0gMQogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgdGhpcy50YWJsZW5ld1t0Yl0uZGVncmVlID0gdGhpcy50YWJsZVt0YjFdLmRlZ3JlZTsKICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zZXZlbiA9IHRoaXMudGFibGVbdGIxXS5zZXZlbiksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zZXZlbmZpdmUgPSB0aGlzLnRhYmxlW3RiMV0uc2V2ZW5maXZlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpeHRocmVlID0gdGhpcy50YWJsZVt0YjFdLnNpeHRocmVlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpeHR3b2ZpdmUgPSB0aGlzLnRhYmxlW3RiMV0uc2l4dHdvZml2ZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zaXplID0gdGhpcy50YWJsZVt0YjFdLnNpemUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc3VtbnVtYmVyID0gdGhpcy50YWJsZVt0YjFdLnN1bW51bWJlciksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS50aHJlZXRocmVlID0gdGhpcy50YWJsZVt0YjFdLnRocmVldGhyZWUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0ueWVhciA9IHRoaXMudGFibGVbdGIxXS55ZWFyKTsKICAgICAgICAgICAgICAgIHRoaXMuc3VtdGhyZWV0aHJlZSA9CiAgICAgICAgICAgICAgICAgIHRoaXMuc3VtdGhyZWV0aHJlZSArIHRoaXMudGFibGVbdGIxXS50aHJlZXRocmVlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0d29maXZlID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0d29maXZlICsgdGhpcy50YWJsZVt0YjFdLnNpeHR3b2ZpdmU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHRocmVlID0gdGhpcy5zdW1zaXh0aHJlZSArIHRoaXMudGFibGVbdGIxXS5zaXh0aHJlZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW4gPSB0aGlzLnN1bXNldmVuICsgdGhpcy50YWJsZVt0YjFdLnNldmVuOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbmZpdmUgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuZml2ZSArIHRoaXMudGFibGVbdGIxXS5zZXZlbmZpdmU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuZml2ZSArIHRoaXMudGFibGVbdGIxXS5zZXZlbmZpdmU7CiAgICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICAgIHRoaXMudGFibGVbdGIxXS5tb250aCA9PSB0aGlzLnRhYmxlbmV3W3RiXS5tb250aCAmJgogICAgICAgICAgICAgICAgdGhpcy50YWJsZW5ld1t0Yl0ubW9udGggPT0gNiAmJgogICAgICAgICAgICAgICAgdGhpcy50YWJsZVt0YjFdLnllYXIgPT0gdGhpcy55ZWFyY3VycmVudCAtIDEKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIHRoaXMudGFibGVuZXdbdGJdLmRlZ3JlZSA9IHRoaXMudGFibGVbdGIxXS5kZWdyZWU7CiAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2V2ZW4gPSB0aGlzLnRhYmxlW3RiMV0uc2V2ZW4pLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2V2ZW5maXZlID0gdGhpcy50YWJsZVt0YjFdLnNldmVuZml2ZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zaXh0aHJlZSA9IHRoaXMudGFibGVbdGIxXS5zaXh0aHJlZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zaXh0d29maXZlID0gdGhpcy50YWJsZVt0YjFdLnNpeHR3b2ZpdmUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2l6ZSA9IHRoaXMudGFibGVbdGIxXS5zaXplKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnN1bW51bWJlciA9IHRoaXMudGFibGVbdGIxXS5zdW1udW1iZXIpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0udGhyZWV0aHJlZSA9IHRoaXMudGFibGVbdGIxXS50aHJlZXRocmVlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnllYXIgPSB0aGlzLnRhYmxlW3RiMV0ueWVhcik7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXRocmVldGhyZWUgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXRocmVldGhyZWUgKyB0aGlzLnRhYmxlW3RiMV0udGhyZWV0aHJlZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2l4dHdvZml2ZSA9CiAgICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2l4dHdvZml2ZSArIHRoaXMudGFibGVbdGIxXS5zaXh0d29maXZlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0aHJlZSA9IHRoaXMuc3Vtc2l4dGhyZWUgKyB0aGlzLnRhYmxlW3RiMV0uc2l4dGhyZWU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuID0gdGhpcy5zdW1zZXZlbiArIHRoaXMudGFibGVbdGIxXS5zZXZlbjsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW5maXZlID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbmZpdmUgKyB0aGlzLnRhYmxlW3RiMV0uc2V2ZW5maXZlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbmZpdmUgKyB0aGlzLnRhYmxlW3RiMV0uc2V2ZW5maXZlOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RiMV0ubW9udGggPT0gdGhpcy50YWJsZW5ld1t0Yl0ubW9udGggJiYKICAgICAgICAgICAgICAgIHRoaXMudGFibGVuZXdbdGJdLm1vbnRoID09IDcgJiYKICAgICAgICAgICAgICAgIHRoaXMudGFibGVbdGIxXS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQgLSAxCiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlbmV3W3RiXS5kZWdyZWUgPSB0aGlzLnRhYmxlW3RiMV0uZGVncmVlOwogICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNldmVuID0gdGhpcy50YWJsZVt0YjFdLnNldmVuKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNldmVuZml2ZSA9IHRoaXMudGFibGVbdGIxXS5zZXZlbmZpdmUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2l4dGhyZWUgPSB0aGlzLnRhYmxlW3RiMV0uc2l4dGhyZWUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2l4dHdvZml2ZSA9IHRoaXMudGFibGVbdGIxXS5zaXh0d29maXZlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpemUgPSB0aGlzLnRhYmxlW3RiMV0uc2l6ZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zdW1udW1iZXIgPSB0aGlzLnRhYmxlW3RiMV0uc3VtbnVtYmVyKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnRocmVldGhyZWUgPSB0aGlzLnRhYmxlW3RiMV0udGhyZWV0aHJlZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS55ZWFyID0gdGhpcy50YWJsZVt0YjFdLnllYXIpOwogICAgICAgICAgICAgICAgdGhpcy5zdW10aHJlZXRocmVlID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW10aHJlZXRocmVlICsgdGhpcy50YWJsZVt0YjFdLnRocmVldGhyZWU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHR3b2ZpdmUgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHR3b2ZpdmUgKyB0aGlzLnRhYmxlW3RiMV0uc2l4dHdvZml2ZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2l4dGhyZWUgPSB0aGlzLnN1bXNpeHRocmVlICsgdGhpcy50YWJsZVt0YjFdLnNpeHRocmVlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbiA9IHRoaXMuc3Vtc2V2ZW4gKyB0aGlzLnRhYmxlW3RiMV0uc2V2ZW47CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuZml2ZSA9CiAgICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW5maXZlICsgdGhpcy50YWJsZVt0YjFdLnNldmVuZml2ZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW5maXZlICsgdGhpcy50YWJsZVt0YjFdLnNldmVuZml2ZTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgICAgICAgICAgdGhpcy50YWJsZVt0YjFdLm1vbnRoID09IHRoaXMudGFibGVuZXdbdGJdLm1vbnRoICYmCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlbmV3W3RiXS5tb250aCA9PSA4ICYmCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RiMV0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IC0gMQogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgdGhpcy50YWJsZW5ld1t0Yl0uZGVncmVlID0gdGhpcy50YWJsZVt0YjFdLmRlZ3JlZTsKICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zZXZlbiA9IHRoaXMudGFibGVbdGIxXS5zZXZlbiksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zZXZlbmZpdmUgPSB0aGlzLnRhYmxlW3RiMV0uc2V2ZW5maXZlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpeHRocmVlID0gdGhpcy50YWJsZVt0YjFdLnNpeHRocmVlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpeHR3b2ZpdmUgPSB0aGlzLnRhYmxlW3RiMV0uc2l4dHdvZml2ZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zaXplID0gdGhpcy50YWJsZVt0YjFdLnNpemUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc3VtbnVtYmVyID0gdGhpcy50YWJsZVt0YjFdLnN1bW51bWJlciksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS50aHJlZXRocmVlID0gdGhpcy50YWJsZVt0YjFdLnRocmVldGhyZWUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0ueWVhciA9IHRoaXMudGFibGVbdGIxXS55ZWFyKTsKICAgICAgICAgICAgICAgIHRoaXMuc3VtdGhyZWV0aHJlZSA9CiAgICAgICAgICAgICAgICAgIHRoaXMuc3VtdGhyZWV0aHJlZSArIHRoaXMudGFibGVbdGIxXS50aHJlZXRocmVlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0d29maXZlID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0d29maXZlICsgdGhpcy50YWJsZVt0YjFdLnNpeHR3b2ZpdmU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHRocmVlID0gdGhpcy5zdW1zaXh0aHJlZSArIHRoaXMudGFibGVbdGIxXS5zaXh0aHJlZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW4gPSB0aGlzLnN1bXNldmVuICsgdGhpcy50YWJsZVt0YjFdLnNldmVuOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbmZpdmUgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuZml2ZSArIHRoaXMudGFibGVbdGIxXS5zZXZlbmZpdmU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuZml2ZSArIHRoaXMudGFibGVbdGIxXS5zZXZlbmZpdmU7CiAgICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICAgIHRoaXMudGFibGVbdGIxXS5tb250aCA9PSB0aGlzLnRhYmxlbmV3W3RiXS5tb250aCAmJgogICAgICAgICAgICAgICAgdGhpcy50YWJsZW5ld1t0Yl0ubW9udGggPT0gOSAmJgogICAgICAgICAgICAgICAgdGhpcy50YWJsZVt0YjFdLnllYXIgPT0gdGhpcy55ZWFyY3VycmVudCAtIDEKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIHRoaXMudGFibGVuZXdbdGJdLmRlZ3JlZSA9IHRoaXMudGFibGVbdGIxXS5kZWdyZWU7CiAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2V2ZW4gPSB0aGlzLnRhYmxlW3RiMV0uc2V2ZW4pLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2V2ZW5maXZlID0gdGhpcy50YWJsZVt0YjFdLnNldmVuZml2ZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zaXh0aHJlZSA9IHRoaXMudGFibGVbdGIxXS5zaXh0aHJlZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zaXh0d29maXZlID0gdGhpcy50YWJsZVt0YjFdLnNpeHR3b2ZpdmUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2l6ZSA9IHRoaXMudGFibGVbdGIxXS5zaXplKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnN1bW51bWJlciA9IHRoaXMudGFibGVbdGIxXS5zdW1udW1iZXIpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0udGhyZWV0aHJlZSA9IHRoaXMudGFibGVbdGIxXS50aHJlZXRocmVlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnllYXIgPSB0aGlzLnRhYmxlW3RiMV0ueWVhcik7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXRocmVldGhyZWUgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXRocmVldGhyZWUgKyB0aGlzLnRhYmxlW3RiMV0udGhyZWV0aHJlZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2l4dHdvZml2ZSA9CiAgICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2l4dHdvZml2ZSArIHRoaXMudGFibGVbdGIxXS5zaXh0d29maXZlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0aHJlZSA9IHRoaXMuc3Vtc2l4dGhyZWUgKyB0aGlzLnRhYmxlW3RiMV0uc2l4dGhyZWU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuID0gdGhpcy5zdW1zZXZlbiArIHRoaXMudGFibGVbdGIxXS5zZXZlbjsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW5maXZlID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbmZpdmUgKyB0aGlzLnRhYmxlW3RiMV0uc2V2ZW5maXZlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbmZpdmUgKyB0aGlzLnRhYmxlW3RiMV0uc2V2ZW5maXZlOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RiMV0ubW9udGggPT0gdGhpcy50YWJsZW5ld1t0Yl0ubW9udGggJiYKICAgICAgICAgICAgICAgIHRoaXMudGFibGVuZXdbdGJdLm1vbnRoID09IDEwICYmCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RiMV0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IC0gMQogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgdGhpcy50YWJsZW5ld1t0Yl0uZGVncmVleSA9IHRoaXMudGFibGVbdGIxXS5kZWdyZWU7CiAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2V2ZW55ID0gdGhpcy50YWJsZVt0YjFdLnNldmVuKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNldmVuZml2ZXkgPSB0aGlzLnRhYmxlW3RiMV0uc2V2ZW5maXZlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpeHRocmVleSA9IHRoaXMudGFibGVbdGIxXS5zaXh0aHJlZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zaXh0d29maXZleSA9IHRoaXMudGFibGVbdGIxXS5zaXh0d29maXZlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpemV5ID0gdGhpcy50YWJsZVt0YjFdLnNpemUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc3VtbnVtYmVyeSA9IHRoaXMudGFibGVbdGIxXS5zdW1udW1iZXIpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0udGhyZWV0aHJlZXkgPSB0aGlzLnRhYmxlW3RiMV0udGhyZWV0aHJlZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS55ZWFyeSA9IHRoaXMudGFibGVbdGIxXS55ZWFyKTsKICAgICAgICAgICAgICAgIHRoaXMuc3VtdGhyZWV0aHJlZXkgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXRocmVldGhyZWV5ICsgdGhpcy50YWJsZVt0YjFdLnRocmVldGhyZWU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHR3b2ZpdmV5ID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0d29maXZleSArIHRoaXMudGFibGVbdGIxXS5zaXh0d29maXZlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0aHJlZXkgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHRocmVleSArIHRoaXMudGFibGVbdGIxXS5zaXh0aHJlZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW55ID0gdGhpcy5zdW1zZXZlbnkgKyB0aGlzLnRhYmxlW3RiMV0uc2V2ZW47CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuZml2ZXkgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuZml2ZXkgKyB0aGlzLnRhYmxlW3RiMV0uc2V2ZW5maXZlOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RiMV0ubW9udGggPT0gdGhpcy50YWJsZW5ld1t0Yl0ubW9udGggJiYKICAgICAgICAgICAgICAgIHRoaXMudGFibGVuZXdbdGJdLm1vbnRoID09IDExICYmCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RiMV0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IC0gMQogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgdGhpcy50YWJsZW5ld1t0Yl0uZGVncmVleSA9IHRoaXMudGFibGVbdGIxXS5kZWdyZWU7CiAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2V2ZW55ID0gdGhpcy50YWJsZVt0YjFdLnNldmVuKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNldmVuZml2ZXkgPSB0aGlzLnRhYmxlW3RiMV0uc2V2ZW5maXZlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpeHRocmVleSA9IHRoaXMudGFibGVbdGIxXS5zaXh0aHJlZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zaXh0d29maXZleSA9IHRoaXMudGFibGVbdGIxXS5zaXh0d29maXZlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpemV5ID0gdGhpcy50YWJsZVt0YjFdLnNpemUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc3VtbnVtYmVyeSA9IHRoaXMudGFibGVbdGIxXS5zdW1udW1iZXIpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0udGhyZWV0aHJlZXkgPSB0aGlzLnRhYmxlW3RiMV0udGhyZWV0aHJlZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS55ZWFyeSA9IHRoaXMudGFibGVbdGIxXS55ZWFyKTsKICAgICAgICAgICAgICAgIHRoaXMuc3VtdGhyZWV0aHJlZXkgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXRocmVldGhyZWV5ICsgdGhpcy50YWJsZVt0YjFdLnRocmVldGhyZWU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHR3b2ZpdmV5ID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0d29maXZleSArIHRoaXMudGFibGVbdGIxXS5zaXh0d29maXZlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0aHJlZXkgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHRocmVleSArIHRoaXMudGFibGVbdGIxXS5zaXh0aHJlZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW55ID0gdGhpcy5zdW1zZXZlbnkgKyB0aGlzLnRhYmxlW3RiMV0uc2V2ZW47CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuZml2ZXkgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuZml2ZXkgKyB0aGlzLnRhYmxlW3RiMV0uc2V2ZW5maXZlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbmZpdmUgKyB0aGlzLnRhYmxlW3RiMV0uc2V2ZW5maXZlOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RiMV0ubW9udGggPT0gdGhpcy50YWJsZW5ld1t0Yl0ubW9udGggJiYKICAgICAgICAgICAgICAgIHRoaXMudGFibGVuZXdbdGJdLm1vbnRoID09IDEyICYmCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RiMV0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IC0gMQogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgdGhpcy50YWJsZW5ld1t0Yl0uZGVncmVleSA9IHRoaXMudGFibGVbdGIxXS5kZWdyZWU7CiAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2V2ZW55ID0gdGhpcy50YWJsZVt0YjFdLnNldmVuKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNldmVuZml2ZXkgPSB0aGlzLnRhYmxlW3RiMV0uc2V2ZW5maXZlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpeHRocmVleSA9IHRoaXMudGFibGVbdGIxXS5zaXh0aHJlZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zaXh0d29maXZleSA9IHRoaXMudGFibGVbdGIxXS5zaXh0d29maXZlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpemV5ID0gdGhpcy50YWJsZVt0YjFdLnNpemUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc3VtbnVtYmVyeSA9IHRoaXMudGFibGVbdGIxXS5zdW1udW1iZXIpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0udGhyZWV0aHJlZXkgPSB0aGlzLnRhYmxlW3RiMV0udGhyZWV0aHJlZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS55ZWFyeSA9IHRoaXMudGFibGVbdGIxXS55ZWFyKTsKICAgICAgICAgICAgICAgIHRoaXMuc3VtdGhyZWV0aHJlZXkgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXRocmVldGhyZWV5ICsgdGhpcy50YWJsZVt0YjFdLnRocmVldGhyZWU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHR3b2ZpdmV5ID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0d29maXZleSArIHRoaXMudGFibGVbdGIxXS5zaXh0d29maXZlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0aHJlZXkgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHRocmVleSArIHRoaXMudGFibGVbdGIxXS5zaXh0aHJlZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW55ID0gdGhpcy5zdW1zZXZlbnkgKyB0aGlzLnRhYmxlW3RiMV0uc2V2ZW47CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuZml2ZXkgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuZml2ZXkgKyB0aGlzLnRhYmxlW3RiMV0uc2V2ZW5maXZlOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RiMV0ubW9udGggPT0gdGhpcy50YWJsZW5ld1t0Yl0ubW9udGggJiYKICAgICAgICAgICAgICAgIHRoaXMudGFibGVuZXdbdGJdLm1vbnRoID09IDEgJiYKICAgICAgICAgICAgICAgIHRoaXMudGFibGVbdGIxXS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIHRoaXMudGFibGVuZXdbdGJdLmRlZ3JlZXkgPSB0aGlzLnRhYmxlW3RiMV0uZGVncmVlOwogICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNldmVueSA9IHRoaXMudGFibGVbdGIxXS5zZXZlbiksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zZXZlbmZpdmV5ID0gdGhpcy50YWJsZVt0YjFdLnNldmVuZml2ZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zaXh0aHJlZXkgPSB0aGlzLnRhYmxlW3RiMV0uc2l4dGhyZWUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2l4dHdvZml2ZXkgPSB0aGlzLnRhYmxlW3RiMV0uc2l4dHdvZml2ZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zaXpleSA9IHRoaXMudGFibGVbdGIxXS5zaXplKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnN1bW51bWJlcnkgPSB0aGlzLnRhYmxlW3RiMV0uc3VtbnVtYmVyKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnRocmVldGhyZWV5ID0gdGhpcy50YWJsZVt0YjFdLnRocmVldGhyZWUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0ueWVhcnkgPSB0aGlzLnRhYmxlW3RiMV0ueWVhcik7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXRocmVldGhyZWV5ID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW10aHJlZXRocmVleSArIHRoaXMudGFibGVbdGIxXS50aHJlZXRocmVlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0d29maXZleSA9CiAgICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2l4dHdvZml2ZXkgKyB0aGlzLnRhYmxlW3RiMV0uc2l4dHdvZml2ZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2l4dGhyZWV5ID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0aHJlZXkgKyB0aGlzLnRhYmxlW3RiMV0uc2l4dGhyZWU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVueSA9IHRoaXMuc3Vtc2V2ZW55ICsgdGhpcy50YWJsZVt0YjFdLnNldmVuOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbmZpdmV5ID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbmZpdmV5ICsgdGhpcy50YWJsZVt0YjFdLnNldmVuZml2ZTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgICAgICAgICAgdGhpcy50YWJsZVt0YjFdLm1vbnRoID09IHRoaXMudGFibGVuZXdbdGJdLm1vbnRoICYmCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlbmV3W3RiXS5tb250aCA9PSAyICYmCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RiMV0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50CiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlbmV3W3RiXS5kZWdyZWV5ID0gdGhpcy50YWJsZVt0YjFdLmRlZ3JlZTsKICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zZXZlbnkgPSB0aGlzLnRhYmxlW3RiMV0uc2V2ZW4pLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2V2ZW5maXZleSA9IHRoaXMudGFibGVbdGIxXS5zZXZlbmZpdmUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2l4dGhyZWV5ID0gdGhpcy50YWJsZVt0YjFdLnNpeHRocmVlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpeHR3b2ZpdmV5ID0gdGhpcy50YWJsZVt0YjFdLnNpeHR3b2ZpdmUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2l6ZXkgPSB0aGlzLnRhYmxlW3RiMV0uc2l6ZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zdW1udW1iZXJ5ID0gdGhpcy50YWJsZVt0YjFdLnN1bW51bWJlciksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS50aHJlZXRocmVleSA9IHRoaXMudGFibGVbdGIxXS50aHJlZXRocmVlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnllYXJ5ID0gdGhpcy50YWJsZVt0YjFdLnllYXIpOwogICAgICAgICAgICAgICAgdGhpcy5zdW10aHJlZXRocmVleSA9CiAgICAgICAgICAgICAgICAgIHRoaXMuc3VtdGhyZWV0aHJlZXkgKyB0aGlzLnRhYmxlW3RiMV0udGhyZWV0aHJlZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2l4dHdvZml2ZXkgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHR3b2ZpdmV5ICsgdGhpcy50YWJsZVt0YjFdLnNpeHR3b2ZpdmU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHRocmVleSA9CiAgICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2l4dGhyZWV5ICsgdGhpcy50YWJsZVt0YjFdLnNpeHRocmVlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbnkgPSB0aGlzLnN1bXNldmVueSArIHRoaXMudGFibGVbdGIxXS5zZXZlbjsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW5maXZleSA9CiAgICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW5maXZleSArIHRoaXMudGFibGVbdGIxXS5zZXZlbmZpdmU7CiAgICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICAgIHRoaXMudGFibGVbdGIxXS5tb250aCA9PSB0aGlzLnRhYmxlbmV3W3RiXS5tb250aCAmJgogICAgICAgICAgICAgICAgdGhpcy50YWJsZW5ld1t0Yl0ubW9udGggPT0gMyAmJgogICAgICAgICAgICAgICAgdGhpcy50YWJsZVt0YjFdLnllYXIgPT0gdGhpcy55ZWFyY3VycmVudAogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgdGhpcy50YWJsZW5ld1t0Yl0uZGVncmVleSA9IHRoaXMudGFibGVbdGIxXS5kZWdyZWU7CiAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2V2ZW55ID0gdGhpcy50YWJsZVt0YjFdLnNldmVuKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNldmVuZml2ZXkgPSB0aGlzLnRhYmxlW3RiMV0uc2V2ZW5maXZlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpeHRocmVleSA9IHRoaXMudGFibGVbdGIxXS5zaXh0aHJlZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zaXh0d29maXZleSA9IHRoaXMudGFibGVbdGIxXS5zaXh0d29maXZlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpemV5ID0gdGhpcy50YWJsZVt0YjFdLnNpemUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc3VtbnVtYmVyeSA9IHRoaXMudGFibGVbdGIxXS5zdW1udW1iZXIpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0udGhyZWV0aHJlZXkgPSB0aGlzLnRhYmxlW3RiMV0udGhyZWV0aHJlZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS55ZWFyeSA9IHRoaXMudGFibGVbdGIxXS55ZWFyKTsKICAgICAgICAgICAgICAgIHRoaXMuc3VtdGhyZWV0aHJlZXkgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXRocmVldGhyZWV5ICsgdGhpcy50YWJsZVt0YjFdLnRocmVldGhyZWU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHR3b2ZpdmV5ID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0d29maXZleSArIHRoaXMudGFibGVbdGIxXS5zaXh0d29maXZlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0aHJlZXkgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHRocmVleSArIHRoaXMudGFibGVbdGIxXS5zaXh0aHJlZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW55ID0gdGhpcy5zdW1zZXZlbnkgKyB0aGlzLnRhYmxlW3RiMV0uc2V2ZW47CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuZml2ZXkgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuZml2ZXkgKyB0aGlzLnRhYmxlW3RiMV0uc2V2ZW5maXZlOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RiMV0ubW9udGggPT0gdGhpcy50YWJsZW5ld1t0Yl0ubW9udGggJiYKICAgICAgICAgICAgICAgIHRoaXMudGFibGVuZXdbdGJdLm1vbnRoID09IDQgJiYKICAgICAgICAgICAgICAgIHRoaXMudGFibGVbdGIxXS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIHRoaXMudGFibGVuZXdbdGJdLmRlZ3JlZXkgPSB0aGlzLnRhYmxlW3RiMV0uZGVncmVlOwogICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNldmVueSA9IHRoaXMudGFibGVbdGIxXS5zZXZlbiksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zZXZlbmZpdmV5ID0gdGhpcy50YWJsZVt0YjFdLnNldmVuZml2ZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zaXh0aHJlZXkgPSB0aGlzLnRhYmxlW3RiMV0uc2l4dGhyZWUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2l4dHdvZml2ZXkgPSB0aGlzLnRhYmxlW3RiMV0uc2l4dHdvZml2ZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zaXpleSA9IHRoaXMudGFibGVbdGIxXS5zaXplKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnN1bW51bWJlcnkgPSB0aGlzLnRhYmxlW3RiMV0uc3VtbnVtYmVyKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnRocmVldGhyZWV5ID0gdGhpcy50YWJsZVt0YjFdLnRocmVldGhyZWUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0ueWVhcnkgPSB0aGlzLnRhYmxlW3RiMV0ueWVhcik7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXRocmVldGhyZWV5ID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW10aHJlZXRocmVleSArIHRoaXMudGFibGVbdGIxXS50aHJlZXRocmVlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0d29maXZleSA9CiAgICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2l4dHdvZml2ZXkgKyB0aGlzLnRhYmxlW3RiMV0uc2l4dHdvZml2ZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2l4dGhyZWV5ID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0aHJlZXkgKyB0aGlzLnRhYmxlW3RiMV0uc2l4dGhyZWU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVueSA9IHRoaXMuc3Vtc2V2ZW55ICsgdGhpcy50YWJsZVt0YjFdLnNldmVuOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbmZpdmV5ID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbmZpdmV5ICsgdGhpcy50YWJsZVt0YjFdLnNldmVuZml2ZTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgICAgICAgICAgdGhpcy50YWJsZVt0YjFdLm1vbnRoID09IHRoaXMudGFibGVuZXdbdGJdLm1vbnRoICYmCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlbmV3W3RiXS5tb250aCA9PSA1ICYmCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RiMV0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50CiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlbmV3W3RiXS5kZWdyZWV5ID0gdGhpcy50YWJsZVt0YjFdLmRlZ3JlZTsKICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zZXZlbnkgPSB0aGlzLnRhYmxlW3RiMV0uc2V2ZW4pLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2V2ZW5maXZleSA9IHRoaXMudGFibGVbdGIxXS5zZXZlbmZpdmUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2l4dGhyZWV5ID0gdGhpcy50YWJsZVt0YjFdLnNpeHRocmVlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpeHR3b2ZpdmV5ID0gdGhpcy50YWJsZVt0YjFdLnNpeHR3b2ZpdmUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2l6ZXkgPSB0aGlzLnRhYmxlW3RiMV0uc2l6ZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zdW1udW1iZXJ5ID0gdGhpcy50YWJsZVt0YjFdLnN1bW51bWJlciksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS50aHJlZXRocmVleSA9IHRoaXMudGFibGVbdGIxXS50aHJlZXRocmVlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnllYXJ5ID0gdGhpcy50YWJsZVt0YjFdLnllYXIpOwogICAgICAgICAgICAgICAgdGhpcy5zdW10aHJlZXRocmVleSA9CiAgICAgICAgICAgICAgICAgIHRoaXMuc3VtdGhyZWV0aHJlZXkgKyB0aGlzLnRhYmxlW3RiMV0udGhyZWV0aHJlZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2l4dHdvZml2ZXkgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHR3b2ZpdmV5ICsgdGhpcy50YWJsZVt0YjFdLnNpeHR3b2ZpdmU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHRocmVleSA9CiAgICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2l4dGhyZWV5ICsgdGhpcy50YWJsZVt0YjFdLnNpeHRocmVlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbnkgPSB0aGlzLnN1bXNldmVueSArIHRoaXMudGFibGVbdGIxXS5zZXZlbjsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW5maXZleSA9CiAgICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW5maXZleSArIHRoaXMudGFibGVbdGIxXS5zZXZlbmZpdmU7CiAgICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICAgIHRoaXMudGFibGVbdGIxXS5tb250aCA9PSB0aGlzLnRhYmxlbmV3W3RiXS5tb250aCAmJgogICAgICAgICAgICAgICAgdGhpcy50YWJsZW5ld1t0Yl0ubW9udGggPT0gNiAmJgogICAgICAgICAgICAgICAgdGhpcy50YWJsZVt0YjFdLnllYXIgPT0gdGhpcy55ZWFyY3VycmVudAogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgdGhpcy50YWJsZW5ld1t0Yl0uZGVncmVleSA9IHRoaXMudGFibGVbdGIxXS5kZWdyZWU7CiAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2V2ZW55ID0gdGhpcy50YWJsZVt0YjFdLnNldmVuKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNldmVuZml2ZXkgPSB0aGlzLnRhYmxlW3RiMV0uc2V2ZW5maXZlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpeHRocmVleSA9IHRoaXMudGFibGVbdGIxXS5zaXh0aHJlZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zaXh0d29maXZleSA9IHRoaXMudGFibGVbdGIxXS5zaXh0d29maXZlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpemV5ID0gdGhpcy50YWJsZVt0YjFdLnNpemUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc3VtbnVtYmVyeSA9IHRoaXMudGFibGVbdGIxXS5zdW1udW1iZXIpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0udGhyZWV0aHJlZXkgPSB0aGlzLnRhYmxlW3RiMV0udGhyZWV0aHJlZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS55ZWFyeSA9IHRoaXMudGFibGVbdGIxXS55ZWFyKTsKICAgICAgICAgICAgICAgIHRoaXMuc3VtdGhyZWV0aHJlZXkgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXRocmVldGhyZWV5ICsgdGhpcy50YWJsZVt0YjFdLnRocmVldGhyZWU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHR3b2ZpdmV5ID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0d29maXZleSArIHRoaXMudGFibGVbdGIxXS5zaXh0d29maXZlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0aHJlZXkgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHRocmVleSArIHRoaXMudGFibGVbdGIxXS5zaXh0aHJlZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW55ID0gdGhpcy5zdW1zZXZlbnkgKyB0aGlzLnRhYmxlW3RiMV0uc2V2ZW47CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuZml2ZXkgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuZml2ZXkgKyB0aGlzLnRhYmxlW3RiMV0uc2V2ZW5maXZlOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RiMV0ubW9udGggPT0gdGhpcy50YWJsZW5ld1t0Yl0ubW9udGggJiYKICAgICAgICAgICAgICAgIHRoaXMudGFibGVuZXdbdGJdLm1vbnRoID09IDcgJiYKICAgICAgICAgICAgICAgIHRoaXMudGFibGVbdGIxXS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIHRoaXMudGFibGVuZXdbdGJdLmRlZ3JlZXkgPSB0aGlzLnRhYmxlW3RiMV0uZGVncmVlOwogICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNldmVueSA9IHRoaXMudGFibGVbdGIxXS5zZXZlbiksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zZXZlbmZpdmV5ID0gdGhpcy50YWJsZVt0YjFdLnNldmVuZml2ZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zaXh0aHJlZXkgPSB0aGlzLnRhYmxlW3RiMV0uc2l4dGhyZWUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2l4dHdvZml2ZXkgPSB0aGlzLnRhYmxlW3RiMV0uc2l4dHdvZml2ZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zaXpleSA9IHRoaXMudGFibGVbdGIxXS5zaXplKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnN1bW51bWJlcnkgPSB0aGlzLnRhYmxlW3RiMV0uc3VtbnVtYmVyKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnRocmVldGhyZWV5ID0gdGhpcy50YWJsZVt0YjFdLnRocmVldGhyZWUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0ueWVhcnkgPSB0aGlzLnRhYmxlW3RiMV0ueWVhcik7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXRocmVldGhyZWV5ID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW10aHJlZXRocmVleSArIHRoaXMudGFibGVbdGIxXS50aHJlZXRocmVlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0d29maXZleSA9CiAgICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2l4dHdvZml2ZXkgKyB0aGlzLnRhYmxlW3RiMV0uc2l4dHdvZml2ZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2l4dGhyZWV5ID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0aHJlZXkgKyB0aGlzLnRhYmxlW3RiMV0uc2l4dGhyZWU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVueSA9IHRoaXMuc3Vtc2V2ZW55ICsgdGhpcy50YWJsZVt0YjFdLnNldmVuOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbmZpdmV5ID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbmZpdmV5ICsgdGhpcy50YWJsZVt0YjFdLnNldmVuZml2ZTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgICAgICAgICAgdGhpcy50YWJsZVt0YjFdLm1vbnRoID09IHRoaXMudGFibGVuZXdbdGJdLm1vbnRoICYmCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlbmV3W3RiXS5tb250aCA9PSA4ICYmCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RiMV0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50CiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlbmV3W3RiXS5kZWdyZWV5ID0gdGhpcy50YWJsZVt0YjFdLmRlZ3JlZTsKICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zZXZlbnkgPSB0aGlzLnRhYmxlW3RiMV0uc2V2ZW4pLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2V2ZW5maXZleSA9IHRoaXMudGFibGVbdGIxXS5zZXZlbmZpdmUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2l4dGhyZWV5ID0gdGhpcy50YWJsZVt0YjFdLnNpeHRocmVlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpeHR3b2ZpdmV5ID0gdGhpcy50YWJsZVt0YjFdLnNpeHR3b2ZpdmUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2l6ZXkgPSB0aGlzLnRhYmxlW3RiMV0uc2l6ZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zdW1udW1iZXJ5ID0gdGhpcy50YWJsZVt0YjFdLnN1bW51bWJlciksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS50aHJlZXRocmVleSA9IHRoaXMudGFibGVbdGIxXS50aHJlZXRocmVlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnllYXJ5ID0gdGhpcy50YWJsZVt0YjFdLnllYXIpOwogICAgICAgICAgICAgICAgdGhpcy5zdW10aHJlZXRocmVleSA9CiAgICAgICAgICAgICAgICAgIHRoaXMuc3VtdGhyZWV0aHJlZXkgKyB0aGlzLnRhYmxlW3RiMV0udGhyZWV0aHJlZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2l4dHdvZml2ZXkgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHR3b2ZpdmV5ICsgdGhpcy50YWJsZVt0YjFdLnNpeHR3b2ZpdmU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHRocmVleSA9CiAgICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2l4dGhyZWV5ICsgdGhpcy50YWJsZVt0YjFdLnNpeHRocmVlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zZXZlbnkgPSB0aGlzLnN1bXNldmVueSArIHRoaXMudGFibGVbdGIxXS5zZXZlbjsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW5maXZleSA9CiAgICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW5maXZleSArIHRoaXMudGFibGVbdGIxXS5zZXZlbmZpdmU7CiAgICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICAgIHRoaXMudGFibGVbdGIxXS5tb250aCA9PSB0aGlzLnRhYmxlbmV3W3RiXS5tb250aCAmJgogICAgICAgICAgICAgICAgdGhpcy50YWJsZW5ld1t0Yl0ubW9udGggPT0gOSAmJgogICAgICAgICAgICAgICAgdGhpcy50YWJsZVt0YjFdLnllYXIgPT0gdGhpcy55ZWFyY3VycmVudAogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgdGhpcy50YWJsZW5ld1t0Yl0uZGVncmVleSA9IHRoaXMudGFibGVbdGIxXS5kZWdyZWU7CiAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc2V2ZW55ID0gdGhpcy50YWJsZVt0YjFdLnNldmVuKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNldmVuZml2ZXkgPSB0aGlzLnRhYmxlW3RiMV0uc2V2ZW5maXZlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpeHRocmVleSA9IHRoaXMudGFibGVbdGIxXS5zaXh0aHJlZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS5zaXh0d29maXZleSA9IHRoaXMudGFibGVbdGIxXS5zaXh0d29maXZlKSwKICAgICAgICAgICAgICAgICAgKHRoaXMudGFibGVuZXdbdGJdLnNpemV5ID0gdGhpcy50YWJsZVt0YjFdLnNpemUpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0uc3VtbnVtYmVyeSA9IHRoaXMudGFibGVbdGIxXS5zdW1udW1iZXIpLAogICAgICAgICAgICAgICAgICAodGhpcy50YWJsZW5ld1t0Yl0udGhyZWV0aHJlZXkgPSB0aGlzLnRhYmxlW3RiMV0udGhyZWV0aHJlZSksCiAgICAgICAgICAgICAgICAgICh0aGlzLnRhYmxlbmV3W3RiXS55ZWFyeSA9IHRoaXMudGFibGVbdGIxXS55ZWFyKTsKICAgICAgICAgICAgICAgIHRoaXMuc3VtdGhyZWV0aHJlZXkgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXRocmVldGhyZWV5ICsgdGhpcy50YWJsZVt0YjFdLnRocmVldGhyZWU7CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHR3b2ZpdmV5ID0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0d29maXZleSArIHRoaXMudGFibGVbdGIxXS5zaXh0d29maXZlOwogICAgICAgICAgICAgICAgdGhpcy5zdW1zaXh0aHJlZXkgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNpeHRocmVleSArIHRoaXMudGFibGVbdGIxXS5zaXh0aHJlZTsKICAgICAgICAgICAgICAgIHRoaXMuc3Vtc2V2ZW55ID0gdGhpcy5zdW1zZXZlbnkgKyB0aGlzLnRhYmxlW3RiMV0uc2V2ZW47CiAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuZml2ZXkgPQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXNldmVuZml2ZXkgKyB0aGlzLnRhYmxlW3RiMV0uc2V2ZW5maXZlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy50YWJsZW5ldyk7CiAgICAgICAgICBmb3IgKGxldCB0ID0gMDsgdCA8IHRoaXMudGFibGUubGVuZ3RoOyB0KyspIHsKICAgICAgICAgICAgLy8KICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgIHRoaXMudGFibGVbdF0ubW9udGggPT0gMTAgJiYKICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RdLnllYXIgPT0gdGhpcy55ZWFyY3VycmVudCAtIDIKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdGhpcy5udW10aHJlZXRocmVlLnB1c2godGhpcy50YWJsZVt0XS50aHJlZXRocmVlKTsKICAgICAgICAgICAgICB0aGlzLm51bXNpeHR3b2ZpdmUucHVzaCh0aGlzLnRhYmxlW3RdLnNpeHR3b2ZpdmUpOwogICAgICAgICAgICAgIHRoaXMubnVtc2l4dGhyZWUucHVzaCh0aGlzLnRhYmxlW3RdLnNpeHRocmVlKTsKICAgICAgICAgICAgICB0aGlzLm51bXNldmVuLnB1c2godGhpcy50YWJsZVt0XS5zZXZlbik7CiAgICAgICAgICAgICAgdGhpcy5udW1zZXZlbmZpdmUucHVzaCh0aGlzLnRhYmxlW3RdLnNldmVuZml2ZSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgdGhpcy50YWJsZVt0XS5tb250aCA9PSAxMSAmJgogICAgICAgICAgICAgIHRoaXMudGFibGVbdF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IC0gMgogICAgICAgICAgICApIHsKICAgICAgICAgICAgICB0aGlzLm51bXRocmVldGhyZWUucHVzaCh0aGlzLnRhYmxlW3RdLnRocmVldGhyZWUpOwogICAgICAgICAgICAgIHRoaXMubnVtc2l4dHdvZml2ZS5wdXNoKHRoaXMudGFibGVbdF0uc2l4dHdvZml2ZSk7CiAgICAgICAgICAgICAgdGhpcy5udW1zaXh0aHJlZS5wdXNoKHRoaXMudGFibGVbdF0uc2l4dGhyZWUpOwogICAgICAgICAgICAgIHRoaXMubnVtc2V2ZW4ucHVzaCh0aGlzLnRhYmxlW3RdLnNldmVuKTsKICAgICAgICAgICAgICB0aGlzLm51bXNldmVuZml2ZS5wdXNoKHRoaXMudGFibGVbdF0uc2V2ZW5maXZlKTsKICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RdLm1vbnRoID09IDEyICYmCiAgICAgICAgICAgICAgdGhpcy50YWJsZVt0XS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQgLSAyCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHRoaXMubnVtdGhyZWV0aHJlZS5wdXNoKHRoaXMudGFibGVbdF0udGhyZWV0aHJlZSk7CiAgICAgICAgICAgICAgdGhpcy5udW1zaXh0d29maXZlLnB1c2godGhpcy50YWJsZVt0XS5zaXh0d29maXZlKTsKICAgICAgICAgICAgICB0aGlzLm51bXNpeHRocmVlLnB1c2godGhpcy50YWJsZVt0XS5zaXh0aHJlZSk7CiAgICAgICAgICAgICAgdGhpcy5udW1zZXZlbi5wdXNoKHRoaXMudGFibGVbdF0uc2V2ZW4pOwogICAgICAgICAgICAgIHRoaXMubnVtc2V2ZW5maXZlLnB1c2godGhpcy50YWJsZVt0XS5zZXZlbmZpdmUpOwogICAgICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgICAgICAgIHRoaXMudGFibGVbdF0ubW9udGggPT0gMSAmJgogICAgICAgICAgICAgIHRoaXMudGFibGVbdF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IC0gMQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICB0aGlzLm51bXRocmVldGhyZWUucHVzaCh0aGlzLnRhYmxlW3RdLnRocmVldGhyZWUpOwogICAgICAgICAgICAgIHRoaXMubnVtc2l4dHdvZml2ZS5wdXNoKHRoaXMudGFibGVbdF0uc2l4dHdvZml2ZSk7CiAgICAgICAgICAgICAgdGhpcy5udW1zaXh0aHJlZS5wdXNoKHRoaXMudGFibGVbdF0uc2l4dGhyZWUpOwogICAgICAgICAgICAgIHRoaXMubnVtc2V2ZW4ucHVzaCh0aGlzLnRhYmxlW3RdLnNldmVuKTsKICAgICAgICAgICAgICB0aGlzLm51bXNldmVuZml2ZS5wdXNoKHRoaXMudGFibGVbdF0uc2V2ZW5maXZlKTsKICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RdLm1vbnRoID09IDIgJiYKICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RdLnllYXIgPT0gdGhpcy55ZWFyY3VycmVudCAtIDEKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdGhpcy5udW10aHJlZXRocmVlLnB1c2godGhpcy50YWJsZVt0XS50aHJlZXRocmVlKTsKICAgICAgICAgICAgICB0aGlzLm51bXNpeHR3b2ZpdmUucHVzaCh0aGlzLnRhYmxlW3RdLnNpeHR3b2ZpdmUpOwogICAgICAgICAgICAgIHRoaXMubnVtc2l4dGhyZWUucHVzaCh0aGlzLnRhYmxlW3RdLnNpeHRocmVlKTsKICAgICAgICAgICAgICB0aGlzLm51bXNldmVuLnB1c2godGhpcy50YWJsZVt0XS5zZXZlbik7CiAgICAgICAgICAgICAgdGhpcy5udW1zZXZlbmZpdmUucHVzaCh0aGlzLnRhYmxlW3RdLnNldmVuZml2ZSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgdGhpcy50YWJsZVt0XS5tb250aCA9PSAzICYmCiAgICAgICAgICAgICAgdGhpcy50YWJsZVt0XS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQgLSAxCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHRoaXMubnVtdGhyZWV0aHJlZS5wdXNoKHRoaXMudGFibGVbdF0udGhyZWV0aHJlZSk7CiAgICAgICAgICAgICAgdGhpcy5udW1zaXh0d29maXZlLnB1c2godGhpcy50YWJsZVt0XS5zaXh0d29maXZlKTsKICAgICAgICAgICAgICB0aGlzLm51bXNpeHRocmVlLnB1c2godGhpcy50YWJsZVt0XS5zaXh0aHJlZSk7CiAgICAgICAgICAgICAgdGhpcy5udW1zZXZlbi5wdXNoKHRoaXMudGFibGVbdF0uc2V2ZW4pOwogICAgICAgICAgICAgIHRoaXMubnVtc2V2ZW5maXZlLnB1c2godGhpcy50YWJsZVt0XS5zZXZlbmZpdmUpOwogICAgICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgICAgICAgIHRoaXMudGFibGVbdF0ubW9udGggPT0gNCAmJgogICAgICAgICAgICAgIHRoaXMudGFibGVbdF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IC0gMQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICB0aGlzLm51bXRocmVldGhyZWUucHVzaCh0aGlzLnRhYmxlW3RdLnRocmVldGhyZWUpOwogICAgICAgICAgICAgIHRoaXMubnVtc2l4dHdvZml2ZS5wdXNoKHRoaXMudGFibGVbdF0uc2l4dHdvZml2ZSk7CiAgICAgICAgICAgICAgdGhpcy5udW1zaXh0aHJlZS5wdXNoKHRoaXMudGFibGVbdF0uc2l4dGhyZWUpOwogICAgICAgICAgICAgIHRoaXMubnVtc2V2ZW4ucHVzaCh0aGlzLnRhYmxlW3RdLnNldmVuKTsKICAgICAgICAgICAgICB0aGlzLm51bXNldmVuZml2ZS5wdXNoKHRoaXMudGFibGVbdF0uc2V2ZW5maXZlKTsKICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RdLm1vbnRoID09IDUgJiYKICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RdLnllYXIgPT0gdGhpcy55ZWFyY3VycmVudCAtIDEKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdGhpcy5udW10aHJlZXRocmVlLnB1c2godGhpcy50YWJsZVt0XS50aHJlZXRocmVlKTsKICAgICAgICAgICAgICB0aGlzLm51bXNpeHR3b2ZpdmUucHVzaCh0aGlzLnRhYmxlW3RdLnNpeHR3b2ZpdmUpOwogICAgICAgICAgICAgIHRoaXMubnVtc2l4dGhyZWUucHVzaCh0aGlzLnRhYmxlW3RdLnNpeHRocmVlKTsKICAgICAgICAgICAgICB0aGlzLm51bXNldmVuLnB1c2godGhpcy50YWJsZVt0XS5zZXZlbik7CiAgICAgICAgICAgICAgdGhpcy5udW1zZXZlbmZpdmUucHVzaCh0aGlzLnRhYmxlW3RdLnNldmVuZml2ZSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgdGhpcy50YWJsZVt0XS5tb250aCA9PSA2ICYmCiAgICAgICAgICAgICAgdGhpcy50YWJsZVt0XS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQgLSAxCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHRoaXMubnVtdGhyZWV0aHJlZS5wdXNoKHRoaXMudGFibGVbdF0udGhyZWV0aHJlZSk7CiAgICAgICAgICAgICAgdGhpcy5udW1zaXh0d29maXZlLnB1c2godGhpcy50YWJsZVt0XS5zaXh0d29maXZlKTsKICAgICAgICAgICAgICB0aGlzLm51bXNpeHRocmVlLnB1c2godGhpcy50YWJsZVt0XS5zaXh0aHJlZSk7CiAgICAgICAgICAgICAgdGhpcy5udW1zZXZlbi5wdXNoKHRoaXMudGFibGVbdF0uc2V2ZW4pOwogICAgICAgICAgICAgIHRoaXMubnVtc2V2ZW5maXZlLnB1c2godGhpcy50YWJsZVt0XS5zZXZlbmZpdmUpOwogICAgICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgICAgICAgIHRoaXMudGFibGVbdF0ubW9udGggPT0gNyAmJgogICAgICAgICAgICAgIHRoaXMudGFibGVbdF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IC0gMQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICB0aGlzLm51bXRocmVldGhyZWUucHVzaCh0aGlzLnRhYmxlW3RdLnRocmVldGhyZWUpOwogICAgICAgICAgICAgIHRoaXMubnVtc2l4dHdvZml2ZS5wdXNoKHRoaXMudGFibGVbdF0uc2l4dHdvZml2ZSk7CiAgICAgICAgICAgICAgdGhpcy5udW1zaXh0aHJlZS5wdXNoKHRoaXMudGFibGVbdF0uc2l4dGhyZWUpOwogICAgICAgICAgICAgIHRoaXMubnVtc2V2ZW4ucHVzaCh0aGlzLnRhYmxlW3RdLnNldmVuKTsKICAgICAgICAgICAgICB0aGlzLm51bXNldmVuZml2ZS5wdXNoKHRoaXMudGFibGVbdF0uc2V2ZW5maXZlKTsKICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RdLm1vbnRoID09IDggJiYKICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RdLnllYXIgPT0gdGhpcy55ZWFyY3VycmVudCAtIDEKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdGhpcy5udW10aHJlZXRocmVlLnB1c2godGhpcy50YWJsZVt0XS50aHJlZXRocmVlKTsKICAgICAgICAgICAgICB0aGlzLm51bXNpeHR3b2ZpdmUucHVzaCh0aGlzLnRhYmxlW3RdLnNpeHR3b2ZpdmUpOwogICAgICAgICAgICAgIHRoaXMubnVtc2l4dGhyZWUucHVzaCh0aGlzLnRhYmxlW3RdLnNpeHRocmVlKTsKICAgICAgICAgICAgICB0aGlzLm51bXNldmVuLnB1c2godGhpcy50YWJsZVt0XS5zZXZlbik7CiAgICAgICAgICAgICAgdGhpcy5udW1zZXZlbmZpdmUucHVzaCh0aGlzLnRhYmxlW3RdLnNldmVuZml2ZSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgdGhpcy50YWJsZVt0XS5tb250aCA9PSA5ICYmCiAgICAgICAgICAgICAgdGhpcy50YWJsZVt0XS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQgLSAxCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHRoaXMubnVtdGhyZWV0aHJlZS5wdXNoKHRoaXMudGFibGVbdF0udGhyZWV0aHJlZSk7CiAgICAgICAgICAgICAgdGhpcy5udW1zaXh0d29maXZlLnB1c2godGhpcy50YWJsZVt0XS5zaXh0d29maXZlKTsKICAgICAgICAgICAgICB0aGlzLm51bXNpeHRocmVlLnB1c2godGhpcy50YWJsZVt0XS5zaXh0aHJlZSk7CiAgICAgICAgICAgICAgdGhpcy5udW1zZXZlbi5wdXNoKHRoaXMudGFibGVbdF0uc2V2ZW4pOwogICAgICAgICAgICAgIHRoaXMubnVtc2V2ZW5maXZlLnB1c2godGhpcy50YWJsZVt0XS5zZXZlbmZpdmUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIC8vCiAgICAgICAgICAgIGVsc2UgaWYgKAogICAgICAgICAgICAgIHRoaXMudGFibGVbdF0ubW9udGggPT0gMTAgJiYKICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RdLnllYXIgPT0gdGhpcy55ZWFyY3VycmVudCAtIDEKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdGhpcy5udW10aHJlZXRocmVlY3VycmVudC5wdXNoKHRoaXMudGFibGVbdF0udGhyZWV0aHJlZSk7CiAgICAgICAgICAgICAgdGhpcy5udW1zaXh0d29maXZlY3VycmVudC5wdXNoKHRoaXMudGFibGVbdF0uc2l4dHdvZml2ZSk7CiAgICAgICAgICAgICAgdGhpcy5udW1zaXh0aHJlZWN1cnJlbnQucHVzaCh0aGlzLnRhYmxlW3RdLnNpeHRocmVlKTsKICAgICAgICAgICAgICB0aGlzLm51bXNldmVuY3VycmVudC5wdXNoKHRoaXMudGFibGVbdF0uc2V2ZW4pOwogICAgICAgICAgICAgIHRoaXMubnVtc2V2ZW5maXZlY3VycmVudC5wdXNoKHRoaXMudGFibGVbdF0uc2V2ZW5maXZlKTsKICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RdLm1vbnRoID09IDExICYmCiAgICAgICAgICAgICAgdGhpcy50YWJsZVt0XS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQgLSAxCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHRoaXMubnVtdGhyZWV0aHJlZWN1cnJlbnQucHVzaCh0aGlzLnRhYmxlW3RdLnRocmVldGhyZWUpOwogICAgICAgICAgICAgIHRoaXMubnVtc2l4dHdvZml2ZWN1cnJlbnQucHVzaCh0aGlzLnRhYmxlW3RdLnNpeHR3b2ZpdmUpOwogICAgICAgICAgICAgIHRoaXMubnVtc2l4dGhyZWVjdXJyZW50LnB1c2godGhpcy50YWJsZVt0XS5zaXh0aHJlZSk7CiAgICAgICAgICAgICAgdGhpcy5udW1zZXZlbmN1cnJlbnQucHVzaCh0aGlzLnRhYmxlW3RdLnNldmVuKTsKICAgICAgICAgICAgICB0aGlzLm51bXNldmVuZml2ZWN1cnJlbnQucHVzaCh0aGlzLnRhYmxlW3RdLnNldmVuZml2ZSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgdGhpcy50YWJsZVt0XS5tb250aCA9PSAxMiAmJgogICAgICAgICAgICAgIHRoaXMudGFibGVbdF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IC0gMQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICB0aGlzLm51bXRocmVldGhyZWVjdXJyZW50LnB1c2godGhpcy50YWJsZVt0XS50aHJlZXRocmVlKTsKICAgICAgICAgICAgICB0aGlzLm51bXNpeHR3b2ZpdmVjdXJyZW50LnB1c2godGhpcy50YWJsZVt0XS5zaXh0d29maXZlKTsKICAgICAgICAgICAgICB0aGlzLm51bXNpeHRocmVlY3VycmVudC5wdXNoKHRoaXMudGFibGVbdF0uc2l4dGhyZWUpOwogICAgICAgICAgICAgIHRoaXMubnVtc2V2ZW5jdXJyZW50LnB1c2godGhpcy50YWJsZVt0XS5zZXZlbik7CiAgICAgICAgICAgICAgdGhpcy5udW1zZXZlbmZpdmVjdXJyZW50LnB1c2godGhpcy50YWJsZVt0XS5zZXZlbmZpdmUpOwogICAgICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgICAgICAgIHRoaXMudGFibGVbdF0ubW9udGggPT0gMSAmJgogICAgICAgICAgICAgIHRoaXMudGFibGVbdF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50CiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHRoaXMubnVtdGhyZWV0aHJlZWN1cnJlbnQucHVzaCh0aGlzLnRhYmxlW3RdLnRocmVldGhyZWUpOwogICAgICAgICAgICAgIHRoaXMubnVtc2l4dHdvZml2ZWN1cnJlbnQucHVzaCh0aGlzLnRhYmxlW3RdLnNpeHR3b2ZpdmUpOwogICAgICAgICAgICAgIHRoaXMubnVtc2l4dGhyZWVjdXJyZW50LnB1c2godGhpcy50YWJsZVt0XS5zaXh0aHJlZSk7CiAgICAgICAgICAgICAgdGhpcy5udW1zZXZlbmN1cnJlbnQucHVzaCh0aGlzLnRhYmxlW3RdLnNldmVuKTsKICAgICAgICAgICAgICB0aGlzLm51bXNldmVuZml2ZWN1cnJlbnQucHVzaCh0aGlzLnRhYmxlW3RdLnNldmVuZml2ZSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgdGhpcy50YWJsZVt0XS5tb250aCA9PSAyICYmCiAgICAgICAgICAgICAgdGhpcy50YWJsZVt0XS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdGhpcy5udW10aHJlZXRocmVlY3VycmVudC5wdXNoKHRoaXMudGFibGVbdF0udGhyZWV0aHJlZSk7CiAgICAgICAgICAgICAgdGhpcy5udW1zaXh0d29maXZlY3VycmVudC5wdXNoKHRoaXMudGFibGVbdF0uc2l4dHdvZml2ZSk7CiAgICAgICAgICAgICAgdGhpcy5udW1zaXh0aHJlZWN1cnJlbnQucHVzaCh0aGlzLnRhYmxlW3RdLnNpeHRocmVlKTsKICAgICAgICAgICAgICB0aGlzLm51bXNldmVuY3VycmVudC5wdXNoKHRoaXMudGFibGVbdF0uc2V2ZW4pOwogICAgICAgICAgICAgIHRoaXMubnVtc2V2ZW5maXZlY3VycmVudC5wdXNoKHRoaXMudGFibGVbdF0uc2V2ZW5maXZlKTsKICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RdLm1vbnRoID09IDMgJiYKICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RdLnllYXIgPT0gdGhpcy55ZWFyY3VycmVudAogICAgICAgICAgICApIHsKICAgICAgICAgICAgICB0aGlzLm51bXRocmVldGhyZWVjdXJyZW50LnB1c2godGhpcy50YWJsZVt0XS50aHJlZXRocmVlKTsKICAgICAgICAgICAgICB0aGlzLm51bXNpeHR3b2ZpdmVjdXJyZW50LnB1c2godGhpcy50YWJsZVt0XS5zaXh0d29maXZlKTsKICAgICAgICAgICAgICB0aGlzLm51bXNpeHRocmVlY3VycmVudC5wdXNoKHRoaXMudGFibGVbdF0uc2l4dGhyZWUpOwogICAgICAgICAgICAgIHRoaXMubnVtc2V2ZW5jdXJyZW50LnB1c2godGhpcy50YWJsZVt0XS5zZXZlbik7CiAgICAgICAgICAgICAgdGhpcy5udW1zZXZlbmZpdmVjdXJyZW50LnB1c2godGhpcy50YWJsZVt0XS5zZXZlbmZpdmUpOwogICAgICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgICAgICAgIHRoaXMudGFibGVbdF0ubW9udGggPT0gNCAmJgogICAgICAgICAgICAgIHRoaXMudGFibGVbdF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50CiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHRoaXMubnVtdGhyZWV0aHJlZWN1cnJlbnQucHVzaCh0aGlzLnRhYmxlW3RdLnRocmVldGhyZWUpOwogICAgICAgICAgICAgIHRoaXMubnVtc2l4dHdvZml2ZWN1cnJlbnQucHVzaCh0aGlzLnRhYmxlW3RdLnNpeHR3b2ZpdmUpOwogICAgICAgICAgICAgIHRoaXMubnVtc2l4dGhyZWVjdXJyZW50LnB1c2godGhpcy50YWJsZVt0XS5zaXh0aHJlZSk7CiAgICAgICAgICAgICAgdGhpcy5udW1zZXZlbmN1cnJlbnQucHVzaCh0aGlzLnRhYmxlW3RdLnNldmVuKTsKICAgICAgICAgICAgICB0aGlzLm51bXNldmVuZml2ZWN1cnJlbnQucHVzaCh0aGlzLnRhYmxlW3RdLnNldmVuZml2ZSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgdGhpcy50YWJsZVt0XS5tb250aCA9PSA1ICYmCiAgICAgICAgICAgICAgdGhpcy50YWJsZVt0XS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdGhpcy5udW10aHJlZXRocmVlY3VycmVudC5wdXNoKHRoaXMudGFibGVbdF0udGhyZWV0aHJlZSk7CiAgICAgICAgICAgICAgdGhpcy5udW1zaXh0d29maXZlY3VycmVudC5wdXNoKHRoaXMudGFibGVbdF0uc2l4dHdvZml2ZSk7CiAgICAgICAgICAgICAgdGhpcy5udW1zaXh0aHJlZWN1cnJlbnQucHVzaCh0aGlzLnRhYmxlW3RdLnNpeHRocmVlKTsKICAgICAgICAgICAgICB0aGlzLm51bXNldmVuY3VycmVudC5wdXNoKHRoaXMudGFibGVbdF0uc2V2ZW4pOwogICAgICAgICAgICAgIHRoaXMubnVtc2V2ZW5maXZlY3VycmVudC5wdXNoKHRoaXMudGFibGVbdF0uc2V2ZW5maXZlKTsKICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RdLm1vbnRoID09IDYgJiYKICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RdLnllYXIgPT0gdGhpcy55ZWFyY3VycmVudAogICAgICAgICAgICApIHsKICAgICAgICAgICAgICB0aGlzLm51bXRocmVldGhyZWVjdXJyZW50LnB1c2godGhpcy50YWJsZVt0XS50aHJlZXRocmVlKTsKICAgICAgICAgICAgICB0aGlzLm51bXNpeHR3b2ZpdmVjdXJyZW50LnB1c2godGhpcy50YWJsZVt0XS5zaXh0d29maXZlKTsKICAgICAgICAgICAgICB0aGlzLm51bXNpeHRocmVlY3VycmVudC5wdXNoKHRoaXMudGFibGVbdF0uc2l4dGhyZWUpOwogICAgICAgICAgICAgIHRoaXMubnVtc2V2ZW5jdXJyZW50LnB1c2godGhpcy50YWJsZVt0XS5zZXZlbik7CiAgICAgICAgICAgICAgdGhpcy5udW1zZXZlbmZpdmVjdXJyZW50LnB1c2godGhpcy50YWJsZVt0XS5zZXZlbmZpdmUpOwogICAgICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgICAgICAgIHRoaXMudGFibGVbdF0ubW9udGggPT0gNyAmJgogICAgICAgICAgICAgIHRoaXMudGFibGVbdF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50CiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHRoaXMubnVtdGhyZWV0aHJlZWN1cnJlbnQucHVzaCh0aGlzLnRhYmxlW3RdLnRocmVldGhyZWUpOwogICAgICAgICAgICAgIHRoaXMubnVtc2l4dHdvZml2ZWN1cnJlbnQucHVzaCh0aGlzLnRhYmxlW3RdLnNpeHR3b2ZpdmUpOwogICAgICAgICAgICAgIHRoaXMubnVtc2l4dGhyZWVjdXJyZW50LnB1c2godGhpcy50YWJsZVt0XS5zaXh0aHJlZSk7CiAgICAgICAgICAgICAgdGhpcy5udW1zZXZlbmN1cnJlbnQucHVzaCh0aGlzLnRhYmxlW3RdLnNldmVuKTsKICAgICAgICAgICAgICB0aGlzLm51bXNldmVuZml2ZWN1cnJlbnQucHVzaCh0aGlzLnRhYmxlW3RdLnNldmVuZml2ZSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgdGhpcy50YWJsZVt0XS5tb250aCA9PSA4ICYmCiAgICAgICAgICAgICAgdGhpcy50YWJsZVt0XS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdGhpcy5udW10aHJlZXRocmVlY3VycmVudC5wdXNoKHRoaXMudGFibGVbdF0udGhyZWV0aHJlZSk7CiAgICAgICAgICAgICAgdGhpcy5udW1zaXh0d29maXZlY3VycmVudC5wdXNoKHRoaXMudGFibGVbdF0uc2l4dHdvZml2ZSk7CiAgICAgICAgICAgICAgdGhpcy5udW1zaXh0aHJlZWN1cnJlbnQucHVzaCh0aGlzLnRhYmxlW3RdLnNpeHRocmVlKTsKICAgICAgICAgICAgICB0aGlzLm51bXNldmVuY3VycmVudC5wdXNoKHRoaXMudGFibGVbdF0uc2V2ZW4pOwogICAgICAgICAgICAgIHRoaXMubnVtc2V2ZW5maXZlY3VycmVudC5wdXNoKHRoaXMudGFibGVbdF0uc2V2ZW5maXZlKTsKICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RdLm1vbnRoID09IDkgJiYKICAgICAgICAgICAgICB0aGlzLnRhYmxlW3RdLnllYXIgPT0gdGhpcy55ZWFyY3VycmVudAogICAgICAgICAgICApIHsKICAgICAgICAgICAgICB0aGlzLm51bXRocmVldGhyZWVjdXJyZW50LnB1c2godGhpcy50YWJsZVt0XS50aHJlZXRocmVlKTsKICAgICAgICAgICAgICB0aGlzLm51bXNpeHR3b2ZpdmVjdXJyZW50LnB1c2godGhpcy50YWJsZVt0XS5zaXh0d29maXZlKTsKICAgICAgICAgICAgICB0aGlzLm51bXNpeHRocmVlY3VycmVudC5wdXNoKHRoaXMudGFibGVbdF0uc2l4dGhyZWUpOwogICAgICAgICAgICAgIHRoaXMubnVtc2V2ZW5jdXJyZW50LnB1c2godGhpcy50YWJsZVt0XS5zZXZlbik7CiAgICAgICAgICAgICAgdGhpcy5udW1zZXZlbmZpdmVjdXJyZW50LnB1c2godGhpcy50YWJsZVt0XS5zZXZlbmZpdmUpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBmb3IgKGxldCBnID0gMDsgZyA8IHRoaXMudGFibGVuZXcubGVuZ3RoOyBnKyspIHsKICAgICAgICAgICAgaWYgKHRoaXMudGFibGVuZXdbZ10ueWVhciA9PSBudWxsKSB7CiAgICAgICAgICAgICAgdGhpcy5udW10aHJlZXRocmVlLnNwbGljZShbZ10sIDAsIDApOwogICAgICAgICAgICAgIHRoaXMubnVtc2l4dHdvZml2ZS5zcGxpY2UoW2ddLCAwLCAwKTsKICAgICAgICAgICAgICB0aGlzLm51bXNpeHRocmVlLnNwbGljZShbZ10sIDAsIDApOwogICAgICAgICAgICAgIHRoaXMubnVtc2V2ZW4uc3BsaWNlKFtnXSwgMCwgMCk7CiAgICAgICAgICAgICAgdGhpcy5udW1zZXZlbmZpdmUuc3BsaWNlKFtnXSwgMCwgMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIC8vIGZvciAobGV0IHRnID0gMDsgdGcgPCB0aGlzLnRhYmxlbmV3Lmxlbmd0aDsgdGcrKykgewogICAgICAgICAgLy8gICBpZiAodGhpcy50YWJsZW5ld1t0Z10uc3VtbnVtYmVyeSAhPSB0aGlzLm51bXNpeHRocmVlY3VycmVudFt0Z10pIHsKICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyh0aGlzLm51bXNpeHRocmVlY3VycmVudFt0Z10pOwogICAgICAgICAgLy8gICB9CiAgICAgICAgICAvLyB9CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnRhYmxlbmV3KTsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubnVtc2l4dGhyZWVjdXJyZW50KTsKICAgICAgICAgIE1lcmdlTGlxdW9yUmVwb3J0U2VydmljZS5nZXREZXRhaWxieWZhY3RvcnlfY29kZSh0aGlzLmV4Y2lzZV9ubykudGhlbigKICAgICAgICAgICAgKHJlcykgPT4gewogICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICAgICAgICB0aGlzLmRldGFpbCA9IHJlcy5kYXRhOwogICAgICAgICAgICAgIGlmICh0aGlzLmRldGFpbC5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgICB0aGlzLnNwYW4gPSB0aGlzLmRldGFpbC5sZW5ndGggKiAyICogMjsKICAgICAgICAgICAgICAgIHRoaXMuc3BhbmJyYW5kID0gdGhpcy5kZXRhaWwubGVuZ3RoOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnZvbHVtbmxpc3QpOwogICAgICAgICAgICAgIC8vIGZvciAobGV0IHMgPSAwOyBzIDwgdGhpcy5zZXJpZXMubGVuZ3RoOyBzKyspIHsKICAgICAgICAgICAgICAvLyAgIGlmICh0aGlzLnNlcmllc1tzXS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQgLSAyKSB7CiAgICAgICAgICAgICAgLy8gICAgIGlmICh0aGlzLnNlcmllc1tzXS5zaXplID09IDAuMzMpIHsKICAgICAgICAgICAgICAvLyAgICAgICB0aGlzLnN0YXR1c3RocmVldGhyZWUgPSB0cnVlOwogICAgICAgICAgICAgIC8vICAgICAgIHRoaXMuc2VyaWVzW3NdWyJkYXRhIl0gPSB0aGlzLm51bXRocmVldGhyZWU7CiAgICAgICAgICAgICAgLy8gICAgIH0gZWxzZSBpZiAodGhpcy5zZXJpZXNbc10uc2l6ZSA9PSAwLjYyNSkgewogICAgICAgICAgICAgIC8vICAgICAgIHRoaXMuc3RhdHVzc2l4dHdvZml2ZSA9IHRydWU7CiAgICAgICAgICAgICAgLy8gICAgICAgdGhpcy5zZXJpZXNbc11bImRhdGEiXSA9IHRoaXMubnVtc2l4dHdvZml2ZTsKICAgICAgICAgICAgICAvLyAgICAgfSBlbHNlIGlmICh0aGlzLnNlcmllc1tzXS5zaXplID09IDAuNjMpIHsKICAgICAgICAgICAgICAvLyAgICAgICB0aGlzLnN0YXR1c3NpeHRocmVlID0gdHJ1ZTsKICAgICAgICAgICAgICAvLyAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNlcmllc1tzXS5kZWdyZWUpOwogICAgICAgICAgICAgIC8vICAgICAgIGlmICh0aGlzLnNlcmllc1tzXS5kZWdyZWUgPT0gMzUgJiYgdGhpcy5leGNpc2Vfbm8gPT0gJzU0MTAyMicpIHsKICAgICAgICAgICAgICAvLyAgICAgICAgIHRoaXMuc2VyaWVzW3NdWyJkYXRhIl0gPSBbMCwwLDAsMCwwLDAsMCwwXQogICAgICAgICAgICAgIC8vICAgICAgIH1lbHNlewogICAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy5zZXJpZXNbc11bImRhdGEiXSA9IHRoaXMubnVtc2l4dGhyZWU7CiAgICAgICAgICAgICAgLy8gICAgICAgfQogICAgICAgICAgICAgIC8vICAgICB9IGVsc2UgaWYgKHRoaXMuc2VyaWVzW3NdLnNpemUgPT0gMC43KSB7CiAgICAgICAgICAgICAgLy8gICAgICAgdGhpcy5zdGF0dXNzZXZlbiA9IHRydWU7CiAgICAgICAgICAgICAgLy8gICAgICAgdGhpcy5zZXJpZXNbc11bImRhdGEiXSA9IHRoaXMubnVtc2V2ZW47CiAgICAgICAgICAgICAgLy8gICAgIH0gZWxzZSBpZiAodGhpcy5zZXJpZXNbc10uc2l6ZSA9PSAwLjc1KSB7CiAgICAgICAgICAgICAgLy8gICAgICAgdGhpcy5zdGF0dXNzZXZlbmZpdmUgPSB0cnVlOwogICAgICAgICAgICAgIC8vICAgICAgIHRoaXMuc2VyaWVzW3NdWyJkYXRhIl0gPSB0aGlzLm51bXNldmVuZml2ZTsKICAgICAgICAgICAgICAvLyAgICAgfQogICAgICAgICAgICAgIC8vICAgfSBlbHNlIGlmICh0aGlzLnNlcmllc1tzXS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQgLSAxKSB7CiAgICAgICAgICAgICAgLy8gICAgIGlmICh0aGlzLnNlcmllc1tzXS5zaXplID09IDAuMzMpIHsKICAgICAgICAgICAgICAvLyAgICAgICB0aGlzLnN0YXR1c3RocmVldGhyZWUgPSB0cnVlOwogICAgICAgICAgICAgIC8vICAgICAgIHRoaXMuc2VyaWVzW3NdWyJkYXRhIl0gPSB0aGlzLm51bXRocmVldGhyZWVjdXJyZW50OwogICAgICAgICAgICAgIC8vICAgICB9IGVsc2UgaWYgKHRoaXMuc2VyaWVzW3NdLnNpemUgPT0gMC42MjUpIHsKICAgICAgICAgICAgICAvLyAgICAgICB0aGlzLnN0YXR1c3NpeHR3b2ZpdmUgPSB0cnVlOwogICAgICAgICAgICAgIC8vICAgICAgIHRoaXMuc2VyaWVzW3NdWyJkYXRhIl0gPSB0aGlzLm51bXNpeHR3b2ZpdmVjdXJyZW50OwogICAgICAgICAgICAgIC8vICAgICB9IGVsc2UgaWYgKHRoaXMuc2VyaWVzW3NdLnNpemUgPT0gMC42MykgewogICAgICAgICAgICAgIC8vICAgICAgIHRoaXMuc3RhdHVzc2l4dGhyZWUgPSB0cnVlOwoKICAgICAgICAgICAgICAvLyAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNlcmllc1tzXSk7CiAgICAgICAgICAgICAgLy8gICAgICAgaWYgKHRoaXMuc2VyaWVzW3NdLmRlZ3JlZSA9PSAzNSAmJiB0aGlzLmV4Y2lzZV9ubyA9PSAnNTQxMDIyJykgewogICAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy5zZXJpZXNbc11bImRhdGEiXSA9IFswLDAsMCwwLDAsMCwwLDBdCiAgICAgICAgICAgICAgLy8gICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLnNlcmllc1tzXVsiZGF0YSJdID0gdGhpcy5udW1zaXh0aHJlZWN1cnJlbnQ7CiAgICAgICAgICAgICAgLy8gICAgICAgfQogICAgICAgICAgICAgIC8vICAgICB9IGVsc2UgaWYgKHRoaXMuc2VyaWVzW3NdLnNpemUgPT0gMC43KSB7CiAgICAgICAgICAgICAgLy8gICAgICAgdGhpcy5zdGF0dXNzZXZlbiA9IHRydWU7CiAgICAgICAgICAgICAgLy8gICAgICAgdGhpcy5zZXJpZXNbc11bImRhdGEiXSA9IHRoaXMubnVtc2V2ZW5jdXJyZW50OwogICAgICAgICAgICAgIC8vICAgICB9IGVsc2UgaWYgKHRoaXMuc2VyaWVzW3NdLnNpemUgPT0gMC43NSkgewogICAgICAgICAgICAgIC8vICAgICAgIHRoaXMuc3RhdHVzc2V2ZW5maXZlID0gdHJ1ZTsKICAgICAgICAgICAgICAvLyAgICAgICB0aGlzLnNlcmllc1tzXVsiZGF0YSJdID0gdGhpcy5udW1zZXZlbmZpdmVjdXJyZW50OwogICAgICAgICAgICAgIC8vICAgICB9CiAgICAgICAgICAgICAgLy8gICB9CiAgICAgICAgICAgICAgLy8gfSAKCiAgICAgICAgICAgICAgLy8gdGhpcy5zZXJpZXNbc11bImRhdGEiXSA9IHRoaXMubnVtdGhyZWV0aHJlZWN1cnJlbnQ7CiAgICAgICAgICAgICAgLy8gZm9yIChsZXQgdGMgPSAwOyB0YyA8IHRoaXMudGFibGVuZXcubGVuZ3RoOyB0YysrKSB7CiAgICAgICAgICAgICAgLy8gICBpZiAodGhpcy50YWJsZW5ld1t0Y10ubW9udGggPT0gMTAgJiYgdGhpcy50YWJsZW5ld1t0Y10ueWVhcnkgIT0gbnVsbCkgeyAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgIC8vICAgICB0aGlzLmNhdGVnb3J5LnB1c2goJ+C4leC4uOC4peC4suC4hOC4oScpCiAgICAgICAgICAgICAgLy8gICB9ZWxzZSBpZiAodGhpcy50YWJsZW5ld1t0Y10ubW9udGggPT0gMTEgJiYgdGhpcy50YWJsZW5ld1t0Y10ueWVhcnkgIT0gbnVsbCkgeyAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgIC8vICAgICB0aGlzLmNhdGVnb3J5LnB1c2goJ+C4nuC4pOC4qOC4iOC4tOC4geC4suC4ouC4mScpCiAgICAgICAgICAgICAgLy8gICB9ZWxzZSBpZiAodGhpcy50YWJsZW5ld1t0Y10ubW9udGggPT0gMTIgJiYgdGhpcy50YWJsZW5ld1t0Y10ueWVhcnkgIT0gbnVsbCkgeyAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgIC8vICAgICB0aGlzLmNhdGVnb3J5LnB1c2goJ+C4mOC4seC4meC4p+C4suC4hOC4oScpCiAgICAgICAgICAgICAgLy8gICB9ZWxzZSBpZiAodGhpcy50YWJsZW5ld1t0Y10ubW9udGggPT0gMSAmJiB0aGlzLnRhYmxlbmV3W3RjXS55ZWFyeSAhPSBudWxsKSB7ICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgLy8gICAgIHRoaXMuY2F0ZWdvcnkucHVzaCgn4Lih4LiB4Lij4Liy4LiE4LihJykKICAgICAgICAgICAgICAvLyAgIH1lbHNlIGlmICh0aGlzLnRhYmxlbmV3W3RjXS5tb250aCA9PSAyICYmIHRoaXMudGFibGVuZXdbdGNdLnllYXJ5ICE9IG51bGwpIHsgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAvLyAgICAgdGhpcy5jYXRlZ29yeS5wdXNoKCfguIHguLjguKHguKDguLLguJ7guLHguJnguJjguYwnKQogICAgICAgICAgICAgIC8vICAgfWVsc2UgaWYgKHRoaXMudGFibGVuZXdbdGNdLm1vbnRoID09IDMgJiYgdGhpcy50YWJsZW5ld1t0Y10ueWVhcnkgIT0gbnVsbCkgeyAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgIC8vICAgICB0aGlzLmNhdGVnb3J5LnB1c2goJ+C4oeC4teC4meC4suC4hOC4oScpCiAgICAgICAgICAgICAgLy8gICB9ZWxzZSBpZiAodGhpcy50YWJsZW5ld1t0Y10ubW9udGggPT0gNCAmJiB0aGlzLnRhYmxlbmV3W3RjXS55ZWFyeSAhPSBudWxsKSB7ICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgLy8gICAgIHRoaXMuY2F0ZWdvcnkucHVzaCgn4LmA4Lih4Lip4Liy4Lii4LiZJykKICAgICAgICAgICAgICAvLyAgIH1lbHNlIGlmICh0aGlzLnRhYmxlbmV3W3RjXS5tb250aCA9PSA1ICYmIHRoaXMudGFibGVuZXdbdGNdLnllYXJ5ICE9IG51bGwpIHsgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAvLyAgICAgdGhpcy5jYXRlZ29yeS5wdXNoKCfguJ7guKTguKnguKDguLLguITguKEnKQogICAgICAgICAgICAgIC8vICAgfWVsc2UgaWYgKHRoaXMudGFibGVuZXdbdGNdLm1vbnRoID09IDYgJiYgdGhpcy50YWJsZW5ld1t0Y10ueWVhcnkgIT0gbnVsbCkgeyAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgIC8vICAgICB0aGlzLmNhdGVnb3J5LnB1c2goJ+C4oeC4tOC4luC4uOC4meC4suC4ouC4mScpCiAgICAgICAgICAgICAgLy8gICB9ZWxzZSBpZiAodGhpcy50YWJsZW5ld1t0Y10ubW9udGggPT0gNyAmJiB0aGlzLnRhYmxlbmV3W3RjXS55ZWFyeSAhPSBudWxsKSB7ICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgLy8gICAgIHRoaXMuY2F0ZWdvcnkucHVzaCgn4LiB4Lij4LiB4LiO4Liy4LiE4LihJykKICAgICAgICAgICAgICAvLyAgIH1lbHNlIGlmICh0aGlzLnRhYmxlbmV3W3RjXS5tb250aCA9PSA4ICYmIHRoaXMudGFibGVuZXdbdGNdLnllYXJ5ICE9IG51bGwpIHsgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAvLyAgICAgdGhpcy5jYXRlZ29yeS5wdXNoKCfguKrguLTguIfguKvguLLguITguKEnKQogICAgICAgICAgICAgIC8vICAgfWVsc2UgaWYgKHRoaXMudGFibGVuZXdbdGNdLm1vbnRoID09IDkgJiYgdGhpcy50YWJsZW5ld1t0Y10ueWVhcnkgIT0gbnVsbCkgeyAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgIC8vICAgICB0aGlzLmNhdGVnb3J5LnB1c2goJ+C4geC4seC4meC4ouC4suC4ouC4mScpCiAgICAgICAgICAgICAgLy8gICB9CiAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgIHRoaXMubG9hZGNoYXJ0T3B0aW9ucygpOwogICAgICAgICAgICB9CiAgICAgICAgICApOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIHRoaXMuc2hvdyA9IGZhbHNlOwogICAgICAgICAgYWxlcnQoIuC5hOC4oeC5iOC4nuC4muC4guC5ieC4reC4oeC4ueC4pSIpOwogICAgICAgICAgLy8gdGhpcy4kcm91dGVyLnB1c2goIi9tYXAiKTsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgfSk7CiAgICB9LAogICAgbG9hZGNoYXJ0T3B0aW9ucygpIHsKICAgICAgdGhpcy5jaGFydE9wdGlvbnMgPSB7CiAgICAgICAgY2hhcnQ6IHsKICAgICAgICAgIGhlaWdodDogNTAwLAogICAgICAgICAgdHlwZTogImxpbmUiLAogICAgICAgICAgZHJvcFNoYWRvdzogewogICAgICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgICAgICBjb2xvcjogIiMwMDAiLAogICAgICAgICAgICB0b3A6IDE4LAogICAgICAgICAgICBsZWZ0OiA3LAogICAgICAgICAgICBibHVyOiAxMCwKICAgICAgICAgICAgb3BhY2l0eTogMC4yLAogICAgICAgICAgfSwKICAgICAgICAgIHRvb2xiYXI6IHsKICAgICAgICAgICAgc2hvdzogZmFsc2UsCiAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgY29sb3JzOiBbIiM3N0I2RUEiLCAiI0VDN0MzMCIsICIjOWMyN2IwIiwgIiNlOTFlNjMiLCAiI0UzREZENiJdLAogICAgICAgIGRhdGFMYWJlbHM6IHsKICAgICAgICAgIGVuYWJsZWQ6IHRydWUsCiAgICAgICAgfSwKICAgICAgICBzdHJva2U6IHsKICAgICAgICAgIGN1cnZlOiAic3RyYWlnaHQiLAogICAgICAgIH0sCiAgICAgICAgdGl0bGU6IHsKICAgICAgICAgIHRleHQ6ICLguIHguKPguLLguJ/guYHguKrguJTguIfguIHguLLguKPguIrguLPguKPguLDguKDguLLguKnguLXguKrguLjguKPguLIg4Lib4Li14LiH4Lia4Lib4Lij4Liw4Lih4Liy4LiTICIgKyB0aGlzLnllYXJjdXJyZW50LAogICAgICAgICAgYWxpZ246ICJsZWZ0IiwKICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgIGZvbnRTaXplOiAiOXB4IiwKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICBncmlkOiB7CiAgICAgICAgICBib3JkZXJDb2xvcjogIiNlN2U3ZTciLAogICAgICAgICAgcm93OiB7CiAgICAgICAgICAgIGNvbG9yczogWyIjZjNmM2YzIiwgInRyYW5zcGFyZW50Il0sIC8vIHRha2VzIGFuIGFycmF5IHdoaWNoIHdpbGwgYmUgcmVwZWF0ZWQgb24gY29sdW1ucwogICAgICAgICAgICBvcGFjaXR5OiAwLjUsCiAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgbWFya2VyczogewogICAgICAgICAgc2l6ZTogMCwKICAgICAgICB9LAogICAgICAgIHhheGlzOiB7CiAgICAgICAgICAvLyBjYXRlZ29yaWVzOiB0aGlzLm1vbnRoLAogICAgICAgICAgY2F0ZWdvcmllczogdGhpcy5jYXRlZ29yeSwKICAgICAgICAgIHRpdGxlOiB7CiAgICAgICAgICAgIHRleHQ6ICLguYDguJTguLfguK3guJnguJfguLXguYjguIrguLPguKPguLDguKDguLLguKnguLUiLAogICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgIGZvbnRTaXplOiAiOXB4IiwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICBsYWJlbHM6IHsKICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICBmb250U2l6ZTogIjlweCIsCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgeWF4aXM6IHsKICAgICAgICAgIHRpdGxlOiB7CiAgICAgICAgICAgIHRleHQ6ICLguIjguLPguJnguKfguJnguJTguKfguIfguYHguKrguJXguKHguJvguYwgKOC4lOC4p+C4hykiLAogICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgIGZvbnRTaXplOiAiOXB4IiwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICBsYWJlbHM6IHsKICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICBmb250U2l6ZTogIjlweCIsCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgbGVnZW5kOiB7CiAgICAgICAgICBwb3NpdGlvbjogInRvcCIsCiAgICAgICAgICBob3Jpem9udGFsQWxpZ246ICJyaWdodCIsCiAgICAgICAgICBmbG9hdGluZzogdHJ1ZSwKICAgICAgICAgIG9mZnNldFk6IC0yNSwKICAgICAgICAgIG9mZnNldFg6IC01LAogICAgICAgIH0sCiAgICAgIH07CiAgICB9LAogICAgY29udmVydGRhdGV0b3RoYWkoZGF0ZXRpbWVzKSB7CiAgICAgIGlmIChkYXRldGltZXMpIHsKICAgICAgICB2YXIgZCA9IG5ldyBEYXRlKGRhdGV0aW1lcyk7CiAgICAgICAgdmFyIG1tID0gZC5nZXRNb250aCgpICsgMTsKICAgICAgICB2YXIgZGQgPSBkLmdldERhdGUoKTsKICAgICAgICB2YXIgeXkgPSBkLmdldEZ1bGxZZWFyKCk7CgogICAgICAgIHZhciBteURhdGVTdHJpbmcgPSBkZCArICIvIiArIG1tICsgIi8iICsgeXk7IC8vKFVTKQogICAgICAgIC8vIGNvbnNvbGUubG9nKG15RGF0ZVN0cmluZyk7CiAgICAgICAgcmV0dXJuIG15RGF0ZVN0cmluZzsKICAgICAgfQogICAgfSwKCiAgICBjYWwobnVtYmVyLCBwZXJfZWFjaCwgZGVncmVlLCBzaXplKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZXhjaXNlX25vKTsKICAgICAgdmFyIHgxID0gMDsKICAgICAgdmFyIHgyID0gMDsKICAgICAgdmFyIHgzID0gMDsKICAgICAgdmFyIHg0ID0gMDsKICAgICAgaWYgKHRoaXMuZXhjaXNlX25vID09IDU0MDAwMikgewogICAgICAgIHgxID0gKCgxMCAqIG51bWJlcikgLyAxMDApICogcGVyX2VhY2g7CiAgICAgICAgLy8gY29uc29sZS5sb2coeDEpOwogICAgICAgIC8vIHZhciB4MiA9ICgoMTU1KjMwKS8xMDApKjAuNjMqMTUwMDsKICAgICAgICB4MiA9ICgoMTUwICogZGVncmVlKSAvIDEwMCkgKiBzaXplICogbnVtYmVyOwogICAgICAgIC8vIGNvbnNvbGUubG9nKHgyKTsKICAgICAgICByZXR1cm4gKHgxICsgeDIpLnRvRml4ZWQoMik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgeDMgPSAoKDIgKiBudW1iZXIpIC8gMTAwKSAqIHBlcl9lYWNoOwogICAgICAgIC8vIGNvbnNvbGUubG9nKHgxKTsKICAgICAgICAvLyB2YXIgeDIgPSAoKDE1NSozMCkvMTAwKSowLjYzKjE1MDA7CiAgICAgICAgeDQgPSAoKDE1NSAqIGRlZ3JlZSkgLyAxMDApICogc2l6ZSAqIG51bWJlcjsKICAgICAgICAvLyBjb25zb2xlLmxvZyh4Mik7CiAgICAgICAgcmV0dXJuICh4MyArIHg0KS50b0ZpeGVkKDIpOwogICAgICB9CiAgICB9LAogICAgbG9hZG5ldCgpIHsKICAgICAgTWVyZ2VMaXF1b3JSZXBvcnRTZXJ2aWNlLmdldFJlcG9ydExpcXVvclRheCh0aGlzLmV4Y2lzZV9ubykKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgICB0aGlzLmxpc3QgPSByZXMuZGF0YTsKICAgICAgICAgIC8vIHZhciBzdW1fbmV0X3RheCA9IDA7CiAgICAgICAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgLy8gICB0aGlzLmxpc3RbaV0ubmV0ID0gdGhpcy5jYWwoCiAgICAgICAgICAvLyAgICAgcmVzLmRhdGFbaV0ubnVtYmVyLAogICAgICAgICAgLy8gICAgIHJlcy5kYXRhW2ldLnBlcl9lYWNoLAogICAgICAgICAgLy8gICAgIHJlcy5kYXRhW2ldLmRlZ3JlZSwKICAgICAgICAgIC8vICAgICByZXMuZGF0YVtpXS5zaXplCiAgICAgICAgICAvLyAgICk7CiAgICAgICAgICAvLyB9CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmxpc3QpOwogICAgICAgICAgdGhpcy50YXhsaXN0ID0gdGhpcy5ncm91cEJ5KHRoaXMubGlzdCwgIm1vbnRoIik7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgIH0pOwogICAgfSwKICAgIGdyb3VwQnkoYXJyYXksIGtleSkgewogICAgICBjb25zdCByZXN1bHQgPSB7fTsKICAgICAgYXJyYXkuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgIGlmICghcmVzdWx0W2l0ZW1ba2V5XV0pIHsKICAgICAgICAgIHJlc3VsdFtpdGVtW2tleV1dID0gW107CiAgICAgICAgfQogICAgICAgIHJlc3VsdFtpdGVtW2tleV1dLnB1c2goaXRlbSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSwKICAgIHN1bW1vbnRoKCkgewogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnRheGxpc3QpOwogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnRhYmxlY3VycmVudCk7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudGF4bGlzdFsxXS5sZW5ndGgpOwogICAgICBmb3IgKGxldCB0YXggPSAwOyB0YXggPCB0aGlzLnRhYmxlbmV3Lmxlbmd0aDsgdGF4KyspIHsKICAgICAgICB0aGlzLnN1bXRheHRocmVldGhyZWUgPSAwOwogICAgICAgIHRoaXMuc3VtdGF4c2l4dGhyZWUgPSAwOwogICAgICAgIHRoaXMuc3VtdGF4c2l4dHdvZml2ZSA9IDA7CiAgICAgICAgdGhpcy5zdW10YXhzZXZlbiA9IDA7CiAgICAgICAgdGhpcy5zdW10YXhzZXZlbmZpdmUgPSAwOwogICAgICAgIHRoaXMuc3VtdGF4dGhyZWV0aHJlZWMgPSAwOwogICAgICAgIHRoaXMuc3VtdGF4c2l4dGhyZWVjID0gMDsKICAgICAgICB0aGlzLnN1bXRheHNpeHR3b2ZpdmVjID0gMDsKICAgICAgICB0aGlzLnN1bXRheHNldmVuYyA9IDA7CiAgICAgICAgdGhpcy5zdW10YXhzZXZlbmZpdmVjID0gMDsKICAgICAgICB2YXIgbSA9IDEwOwogICAgICAgIC8vIGNvbnNvbGUubG9nKHRheGxpc3QpOwogICAgICAgIGlmICh0aGlzLnRheGxpc3RbdGF4ICsgMV0pIHsKICAgICAgICAgIGZvciAobGV0IHRibCA9IDA7IHRibCA8IHRoaXMudGF4bGlzdFt0YXggKyAxXS5sZW5ndGg7IHRibCsrKSB7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudGF4bGlzdFt0YXgrMV0ubGVuZ3RoKTsKICAgICAgICAgICAgZm9yIChsZXQgcyA9IDA7IHMgPCB0aGlzLnRic2l6ZS5sZW5ndGg7IHMrKykgewogICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm1vbnRoLHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLnllYXIpOwogICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICgodGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ubW9udGggPT0gMTAgJiYKICAgICAgICAgICAgICAgICAgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IC0gMSkgfHwKICAgICAgICAgICAgICAgICAgKHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm1vbnRoID09IDExICYmCiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IC0gMSkgfHwKICAgICAgICAgICAgICAgICAgKHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm1vbnRoID09IDEyICYmCiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50IC0gMSkgfHwKICAgICAgICAgICAgICAgICAgKHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm1vbnRoID09IDEgJiYKICAgICAgICAgICAgICAgICAgICB0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQpIHx8CiAgICAgICAgICAgICAgICAgICh0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS5tb250aCA9PSAyICYmCiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50KSB8fAogICAgICAgICAgICAgICAgICAodGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ubW9udGggPT0gMyAmJgogICAgICAgICAgICAgICAgICAgIHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLnllYXIgPT0gdGhpcy55ZWFyY3VycmVudCkgfHwKICAgICAgICAgICAgICAgICAgKHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm1vbnRoID09IDQgJiYKICAgICAgICAgICAgICAgICAgICB0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQpIHx8CiAgICAgICAgICAgICAgICAgICh0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS5tb250aCA9PSA1ICYmCiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50KSB8fAogICAgICAgICAgICAgICAgICAodGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ubW9udGggPT0gNiAmJgogICAgICAgICAgICAgICAgICAgIHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLnllYXIgPT0gdGhpcy55ZWFyY3VycmVudCkgfHwKICAgICAgICAgICAgICAgICAgKHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm1vbnRoID09IDcgJiYKICAgICAgICAgICAgICAgICAgICB0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS55ZWFyID09IHRoaXMueWVhcmN1cnJlbnQpIHx8CiAgICAgICAgICAgICAgICAgICh0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS5tb250aCA9PSA4ICYmCiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ueWVhciA9PSB0aGlzLnllYXJjdXJyZW50KSB8fAogICAgICAgICAgICAgICAgICAodGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ubW9udGggPT0gOSAmJgogICAgICAgICAgICAgICAgICAgIHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLnllYXIgPT0gdGhpcy55ZWFyY3VycmVudCkpICYmCiAgICAgICAgICAgICAgICB0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS5zaXplID09IHRoaXMudGJzaXplW3NdCiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICBtID0gdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ubW9udGg7CiAgICAgICAgICAgICAgICBpZiAodGhpcy50YnNpemVbc10gPT0gMC4zMykgewogICAgICAgICAgICAgICAgICBpZiAodGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ubmV0ID09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS5uZXQgPSAwCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgdGhpcy5zdW10YXh0aHJlZXRocmVlYyA9IE1hdGguZmxvb3IoCiAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdCh0aGlzLnN1bXRheHRocmVldGhyZWVjKSArCiAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdCh0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS5uZXQpCiAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudGJzaXplW3NdID09IDAuNjMpIHsKICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm5ldCA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ubmV0ID0gMAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIHRoaXMuc3VtdGF4c2l4dGhyZWVjID0gTWF0aC5mbG9vcigKICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KHRoaXMuc3VtdGF4c2l4dGhyZWVjKSArCiAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdCh0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS5uZXQpCiAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudGJzaXplW3NdID09IDAuNjI1KSB7CiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS5uZXQgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm5ldCA9IDAKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXRheHNpeHR3b2ZpdmVjID0gTWF0aC5mbG9vcigKICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KHRoaXMuc3VtdGF4c2l4dHdvZml2ZWMpICsKICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm5ldCkKICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy50YnNpemVbc10gPT0gMC43KSB7CiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS5uZXQgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm5ldCA9IDAKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXRheHNldmVuYyA9IE1hdGguZmxvb3IoCiAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdCh0aGlzLnN1bXRheHNldmVuYykgKwogICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQodGhpcy50YXhsaXN0W3RheCArIDFdW3RibF0ubmV0KQogICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRic2l6ZVtzXSA9PSAwLjc1KSB7CiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS5uZXQgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMudGF4bGlzdFt0YXggKyAxXVt0YmxdLm5ldCA9IDAKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB0aGlzLnN1bXRheHNldmVuZml2ZWMgPSBNYXRoLmZsb29yKAogICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQodGhpcy5zdW10YXhzZXZlbmZpdmVjKSArCiAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdCh0aGlzLnRheGxpc3RbdGF4ICsgMV1bdGJsXS5uZXQpCiAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLnN1bXRheHRocmVldGhyZWVjKSB7CiAgICAgICAgICB0aGlzLnRheGRhdGFjdXJyZW50LnB1c2goewogICAgICAgICAgICBtb250aDogbSwKICAgICAgICAgICAgc2l6ZTogMC4zMywKICAgICAgICAgICAgc3VtdGF4eTogdGhpcy5zdW10YXh0aHJlZXRocmVlYywKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnRheGRhdGFjdXJyZW50LnB1c2goewogICAgICAgICAgICBtb250aDogbSwKICAgICAgICAgICAgc2l6ZTogMC4zMywKICAgICAgICAgICAgc3VtdGF4eTogMCwKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5zdW10YXhzaXh0aHJlZWMpIHsKICAgICAgICAgIHRoaXMudGF4ZGF0YWN1cnJlbnQucHVzaCh7CiAgICAgICAgICAgIG1vbnRoOiBtLAogICAgICAgICAgICBzaXplOiAwLjYzLAogICAgICAgICAgICBzdW10YXh5OiB0aGlzLnN1bXRheHNpeHRocmVlYywKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnRheGRhdGFjdXJyZW50LnB1c2goewogICAgICAgICAgICBtb250aDogbSwKICAgICAgICAgICAgc2l6ZTogMC42MywKICAgICAgICAgICAgc3VtdGF4eTogMCwKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5zdW10YXhzaXh0d29maXZlYykgewogICAgICAgICAgdGhpcy50YXhkYXRhY3VycmVudC5wdXNoKHsKICAgICAgICAgICAgbW9udGg6IG0sCiAgICAgICAgICAgIHNpemU6IDAuNjI1LAogICAgICAgICAgICBzdW10YXh5OiB0aGlzLnN1bXRheHNpeHR3b2ZpdmVjLAogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMudGF4ZGF0YWN1cnJlbnQucHVzaCh7CiAgICAgICAgICAgIG1vbnRoOiBtLAogICAgICAgICAgICBzaXplOiAwLjYyNSwKICAgICAgICAgICAgc3VtdGF4eTogMCwKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5zdW10YXhzZXZlbmZpdmVjKSB7CiAgICAgICAgICB0aGlzLnRheGRhdGFjdXJyZW50LnB1c2goewogICAgICAgICAgICBtb250aDogbSwKICAgICAgICAgICAgc2l6ZTogMC43NSwKICAgICAgICAgICAgc3VtdGF4eTogdGhpcy5zdW10YXhzZXZlbmZpdmVjLAogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMudGF4ZGF0YWN1cnJlbnQucHVzaCh7CiAgICAgICAgICAgIG1vbnRoOiBtLAogICAgICAgICAgICBzaXplOiAwLjc1LAogICAgICAgICAgICBzdW10YXh5OiAwLAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLnN1bXRheHNldmVuYykgewogICAgICAgICAgdGhpcy50YXhkYXRhY3VycmVudC5wdXNoKHsKICAgICAgICAgICAgbW9udGg6IG0sCiAgICAgICAgICAgIHNpemU6IDAuNywKICAgICAgICAgICAgc3VtdGF4eTogdGhpcy5zdW10YXhzZXZlbmMsCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy50YXhkYXRhY3VycmVudC5wdXNoKHsKICAgICAgICAgICAgbW9udGg6IG0sCiAgICAgICAgICAgIHNpemU6IDAuNywKICAgICAgICAgICAgc3VtdGF4eTogMCwKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnN1bXRheHNldmVuZml2ZWMpOwogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnRheGRhdGFjdXJyZW50KTsKICAgICAgZm9yIChsZXQgbW0gPSAwOyBtbSA8IHRoaXMudGFibGVjdXJyZW50Lmxlbmd0aDsgbW0rKykgewogICAgICAgIGZvciAobGV0IHNzID0gMDsgc3MgPCB0aGlzLnRic2l6ZS5sZW5ndGg7IHNzKyspIHsKICAgICAgICAgIHZhciB0YXhzID0gMDsKICAgICAgICAgIGZvciAobGV0IHRjID0gMDsgdGMgPCB0aGlzLnRheGRhdGFjdXJyZW50Lmxlbmd0aDsgdGMrKykgewogICAgICAgICAgICBpZiAodGhpcy50YWJsZWN1cnJlbnRbbW1dLm1vbnRoID09IHRoaXMudGF4ZGF0YWN1cnJlbnRbdGNdLm1vbnRoKSB7CiAgICAgICAgICAgICAgdGF4cyA9IHRheHMgKyB0aGlzLnRheGRhdGFjdXJyZW50W3RjXS5zdW10YXh5OwogICAgICAgICAgICAgIHRoaXMudGFibGVjdXJyZW50W21tXS50YXggPSB0YXhzOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBmb3IgKGxldCB0ID0gMDsgdCA8IHRoaXMudGFibGVjdXJyZW50Lmxlbmd0aDsgdCsrKSB7CiAgICAgICAgaWYgKHRoaXMudGFibGVjdXJyZW50W3RdLnN0YXR1cyAhPSB0cnVlKSB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnRhYmxlY3VycmVudFt0XS5tb250aCk7CiAgICAgICAgICB0aGlzLnRhYmxlY3VycmVudC5zcGxpY2UodCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuc3VtdG90YWxhbGwoKTsKICAgIH0sCiAgICBzdW10b3RhbGFsbCgpIHsKICAgICAgLy8gY29uc29sZS5sb2codGhpcy50YWJsZWN1cnJlbnQpOwogICAgICB2YXIgYWxsc3VtbXVuYmVydGhyZWV0aHJlZSA9IDA7CiAgICAgIHZhciBzdW12b2x1bWVfbGlxdW9ydGhyZWV0aHJlZSA9IDA7CiAgICAgIHZhciBhbGxzdW1tdW5iZXJzaXh0d29maXZlID0gMDsKICAgICAgdmFyIHN1bXZvbHVtZV9saXF1b3JzaXh0d29maXZlID0gMDsKICAgICAgdmFyIGFsbHN1bW11bmJlcnNpeHRocmVlID0gMDsKICAgICAgdmFyIHN1bXZvbHVtZV9saXF1b3JzaXh0aHJlZSA9IDA7CiAgICAgIHZhciBhbGxzdW1tdW5iZXJzZXZlbiA9IDA7CiAgICAgIHZhciBzdW12b2x1bWVfbGlxdW9yc2V2ZW4gPSAwOwogICAgICB2YXIgYWxsc3VtbXVuYmVyc2V2ZW5maXZlID0gMDsKICAgICAgdmFyIHN1bXZvbHVtZV9saXF1b3JzZXZlbmZpdmUgPSAwOwogICAgICB2YXIgdGF4ID0gMDsKICAgICAgdmFyIG1vcmVzdW12b2x1bWVfbGlxdW9yc2l4dGhyZWUgPSAwOwogICAgICB2YXIgbW9yZXN1bW11bmJlciA9IDA7CiAgICAgIGZvciAobGV0IGEgPSAwOyBhIDwgdGhpcy50YWJsZWN1cnJlbnQubGVuZ3RoOyBhKyspIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnRhYmxlY3VycmVudFthXSk7CiAgICAgICAgaWYgKHRoaXMudGFibGVjdXJyZW50W2FdLnN1bW11bmJlcikgewogICAgICAgICAgYWxsc3VtbXVuYmVydGhyZWV0aHJlZSA9CiAgICAgICAgICAgIGFsbHN1bW11bmJlcnRocmVldGhyZWUgKyB0aGlzLnRhYmxlY3VycmVudFthXS5zdW1tdW5iZXI7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLnRhYmxlY3VycmVudFthXS5zdW12b2x1bWVfbGlxdW9yKSB7CiAgICAgICAgICBzdW12b2x1bWVfbGlxdW9ydGhyZWV0aHJlZSA9CiAgICAgICAgICAgIHN1bXZvbHVtZV9saXF1b3J0aHJlZXRocmVlICsgdGhpcy50YWJsZWN1cnJlbnRbYV0uc3Vtdm9sdW1lX2xpcXVvcjsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMudGFibGVjdXJyZW50W2FdLnN1bW11bmJlcnNpeHR3b3RocmVlKSB7CiAgICAgICAgICBhbGxzdW1tdW5iZXJzaXh0d29maXZlID0KICAgICAgICAgICAgYWxsc3VtbXVuYmVyc2l4dHdvZml2ZSArIHRoaXMudGFibGVjdXJyZW50W2FdLnN1bW11bmJlcnNpeHR3b3RocmVlOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy50YWJsZWN1cnJlbnRbYV0uc3Vtdm9sdW1lX2xpcXVvcnNpeHR3b2ZpdmUpIHsKICAgICAgICAgIHN1bXZvbHVtZV9saXF1b3JzaXh0d29maXZlID0KICAgICAgICAgICAgc3Vtdm9sdW1lX2xpcXVvcnNpeHR3b2ZpdmUgKwogICAgICAgICAgICB0aGlzLnRhYmxlY3VycmVudFthXS5zdW12b2x1bWVfbGlxdW9yc2l4dHdvZml2ZTsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMudGFibGVjdXJyZW50W2FdLnN1bW11bmJlcnNpeHRocmVlKSB7CiAgICAgICAgICBhbGxzdW1tdW5iZXJzaXh0aHJlZSA9CiAgICAgICAgICAgIGFsbHN1bW11bmJlcnNpeHRocmVlICsgdGhpcy50YWJsZWN1cnJlbnRbYV0uc3VtbXVuYmVyc2l4dGhyZWU7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLnRhYmxlY3VycmVudFthXS5zdW12b2x1bWVfbGlxdW9yc2l4dGhyZWUpIHsKICAgICAgICAgIHN1bXZvbHVtZV9saXF1b3JzaXh0aHJlZSA9CiAgICAgICAgICAgIHN1bXZvbHVtZV9saXF1b3JzaXh0aHJlZSArCiAgICAgICAgICAgIHRoaXMudGFibGVjdXJyZW50W2FdLnN1bXZvbHVtZV9saXF1b3JzaXh0aHJlZTsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMudGFibGVjdXJyZW50W2FdLnN1bW11bmJlcnNldmVuKSB7CiAgICAgICAgICBhbGxzdW1tdW5iZXJzZXZlbiA9CiAgICAgICAgICAgIGFsbHN1bW11bmJlcnNldmVuICsgdGhpcy50YWJsZWN1cnJlbnRbYV0uc3VtbXVuYmVyc2V2ZW47CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLnRhYmxlY3VycmVudFthXS5zdW12b2x1bWVfbGlxdW9yc2V2ZW4pIHsKICAgICAgICAgIHN1bXZvbHVtZV9saXF1b3JzZXZlbiA9CiAgICAgICAgICAgIHN1bXZvbHVtZV9saXF1b3JzZXZlbiArIHRoaXMudGFibGVjdXJyZW50W2FdLnN1bXZvbHVtZV9saXF1b3JzZXZlbjsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMudGFibGVjdXJyZW50W2FdLnN1bW11bmJlcnNldmVuZml2ZSkgewogICAgICAgICAgYWxsc3VtbXVuYmVyc2V2ZW5maXZlID0KICAgICAgICAgICAgYWxsc3VtbXVuYmVyc2V2ZW5maXZlICsgdGhpcy50YWJsZWN1cnJlbnRbYV0uc3VtbXVuYmVyc2V2ZW5maXZlOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy50YWJsZWN1cnJlbnRbYV0uc3Vtdm9sdW1lX2xpcXVvcnNldmVuZml2ZSkgewogICAgICAgICAgc3Vtdm9sdW1lX2xpcXVvcnNldmVuZml2ZSA9CiAgICAgICAgICAgIHN1bXZvbHVtZV9saXF1b3JzZXZlbmZpdmUgKwogICAgICAgICAgICB0aGlzLnRhYmxlY3VycmVudFthXS5zdW12b2x1bWVfbGlxdW9yc2V2ZW5maXZlOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy50YWJsZWN1cnJlbnRbYV0ubW9yZXN1bXZvbHVtZV9saXF1b3JzaXh0aHJlZSkgewogICAgICAgICAgbW9yZXN1bXZvbHVtZV9saXF1b3JzaXh0aHJlZSA9CiAgICAgICAgICAgIG1vcmVzdW12b2x1bWVfbGlxdW9yc2l4dGhyZWUgKwogICAgICAgICAgICB0aGlzLnRhYmxlY3VycmVudFthXS5tb3Jlc3Vtdm9sdW1lX2xpcXVvcnNpeHRocmVlOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy50YWJsZWN1cnJlbnRbYV0ubW9yZXN1bW11bmJlcikgewogICAgICAgICAgbW9yZXN1bW11bmJlciA9CiAgICAgICAgICAgIG1vcmVzdW1tdW5iZXIgKwogICAgICAgICAgICB0aGlzLnRhYmxlY3VycmVudFthXS5tb3Jlc3VtbXVuYmVyOwogICAgICAgIH0KICAgICAgICB0YXggPSB0YXggKyB0aGlzLnRhYmxlY3VycmVudFthXS50YXg7CiAgICAgIH0KICAgICAgLy8gY29uc29sZS5sb2coc3Vtdm9sdW1lX2xpcXVvcnNldmVuZml2ZSk7CiAgICAgIHRoaXMuc3VtYWxsLnB1c2goewogICAgICAgIGFsbHN1bW11bmJlcnRocmVldGhyZWU6IGFsbHN1bW11bmJlcnRocmVldGhyZWUsCiAgICAgICAgc3Vtdm9sdW1lX2xpcXVvcnRocmVldGhyZWU6IHN1bXZvbHVtZV9saXF1b3J0aHJlZXRocmVlLAogICAgICAgIGFsbHN1bW11bmJlcnNpeHRocmVlOiBhbGxzdW1tdW5iZXJzaXh0aHJlZSwKICAgICAgICBzdW12b2x1bWVfbGlxdW9yc2l4dGhyZWU6IHN1bXZvbHVtZV9saXF1b3JzaXh0aHJlZSwKICAgICAgICBhbGxzdW1tdW5iZXJzaXh0d29maXZlOiBhbGxzdW1tdW5iZXJzaXh0d29maXZlLAogICAgICAgIHN1bXZvbHVtZV9saXF1b3JzaXh0d29maXZlOiBzdW12b2x1bWVfbGlxdW9yc2l4dHdvZml2ZSwKICAgICAgICBhbGxzdW1tdW5iZXJzZXZlbjogYWxsc3VtbXVuYmVyc2V2ZW4sCiAgICAgICAgc3Vtdm9sdW1lX2xpcXVvcnNldmVuOiBzdW12b2x1bWVfbGlxdW9yc2V2ZW4sCiAgICAgICAgYWxsc3VtbXVuYmVyc2V2ZW5maXZlOiBhbGxzdW1tdW5iZXJzZXZlbmZpdmUsCiAgICAgICAgc3Vtdm9sdW1lX2xpcXVvcnNldmVuZml2ZTogc3Vtdm9sdW1lX2xpcXVvcnNldmVuZml2ZSwKICAgICAgICB0YXg6IHRheCwKICAgICAgICBtb3Jlc3Vtdm9sdW1lX2xpcXVvcnNpeHRocmVlOiBtb3Jlc3Vtdm9sdW1lX2xpcXVvcnNpeHRocmVlLAogICAgICAgIG1vcmVzdW1tdW5iZXI6IG1vcmVzdW1tdW5iZXIsCiAgICAgIH0pOwogICAgfSwKICAgIG51bWJlcldpdGhDb21tYXMoeCkgewogICAgICB2YXIgciA9IDA7CiAgICAgIHggPSBwYXJzZUludCh4KTsKICAgICAgaWYgKGlzTmFOKHgpKSB7CiAgICAgICAgciA9ICIiOwogICAgICB9IGVsc2UgewogICAgICAgIHIgPSB4LnRvU3RyaW5nKCkucmVwbGFjZSgvXEIoPz0oXGR7M30pKyg/IVxkKSkvZywgIiwiKTsKICAgICAgfQogICAgICByZXR1cm4gcjsKICAgIH0sCiAgICBnZXR0YXgoKSB7CgogICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCkKICAgICAgdmFyIHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCkgKyA1NDMKICAgICAgdGhpcy50YXhkYXRhbGlzdCA9IFt7IG06IDEwLCBuOiAn4LiV4Li44Lil4Liy4LiE4LihJywgeTogeWVhciAtIDEgfSwgeyBtOiAxMSwgbjogJ+C4nuC4pOC4qOC4iOC4tOC4geC4suC4ouC4mScsIHk6IHllYXIgLSAxIH0sIHsgbTogMTIsIG46ICfguJjguLHguJnguKfguLLguITguKEnLCB5OiB5ZWFyIC0gMSB9LCB7IG06IDEsIG46ICfguKHguIHguKPguLLguITguKEnLCB5OiB5ZWFyIH0sIHsgbTogMiwgbjogJ+C4geC4uOC4oeC4oOC4suC4nuC4seC4meC4mOC5jCcsIHk6IHllYXIgfSwgeyBtOiAzLCBuOiAn4Lih4Li14LiZ4Liy4LiE4LihJywgeTogeWVhciB9LCB7IG06IDQsIG46ICfguYDguKHguKnguLLguKLguJknLCB5OiB5ZWFyIH0sIHsgbTogNSwgbjogJ+C4nuC4pOC4qeC4oOC4suC4hOC4oScsIHk6IHllYXIgfSwgeyBtOiA2LCBuOiAn4Lih4Li04LiW4Li44LiZ4Liy4Lii4LiZJywgeTogeWVhciB9XQogICAgICBNZXJnZUxpcXVvclJlcG9ydFNlcnZpY2UuZ2V0YXhsaXN0KHRoaXMuZXhjaXNlX25vLCAnJywgJycsICcnLCAnJywgJycpLnRoZW4oCiAgICAgICAgKHJlcykgPT4gewogICAgICAgICAgdGhpcy50YXhkYXRhbGlzdCA9IHJlcy5kYXRhCgogICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy50YXhkYXRhbGlzdCk7CiAgICAgICAgfSk7CiAgICAgICAgTWVyZ2VMaXF1b3JSZXBvcnRTZXJ2aWNlLmdldG5ldHRheCh0aGlzLmV4Y2lzZV9ubywgJycsICcnKS50aGVuKAogICAgICAgICAgKHRheHMpID0+IHsKICAgICAgICAgICAgdGhpcy50YXhzdW0gPSB0YXhzLmRhdGEKICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGF4cy5kYXRhKTsKICAgICAgICAgIH0pOwogICAgICAgICAgTWVyZ2VMaXF1b3JSZXBvcnRTZXJ2aWNlLmdldG51bWJlcih0aGlzLmV4Y2lzZV9ubywgJycsICcnKS50aGVuKAogICAgICAgICAgKHRheHMpID0+IHsKICAgICAgICAgICAgdGhpcy5zdW1udW1iZXIgPSB0YXhzLmRhdGEKICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGF4cy5kYXRhKTsKICAgICAgICAgIH0pOwogICAgICAgICAgTWVyZ2VMaXF1b3JSZXBvcnRTZXJ2aWNlLmdldHZvbHVtZSh0aGlzLmV4Y2lzZV9ubywgJycsICcnKS50aGVuKAogICAgICAgICAgKHRheHMpID0+IHsKICAgICAgICAgICAgdGhpcy5zdW12b2x1bWUgPSB0YXhzLmRhdGEKICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGF4cy5kYXRhKTsKICAgICAgICAgIH0pOwogICAgICAvLyBmb3IgKGxldCB0eCA9IDA7IHR4IDwgdGhpcy50YXhkYXRhbGlzdC5sZW5ndGg7IHR4KyspIHsKICAgICAgLy8gICAgIE1lcmdlTGlxdW9yUmVwb3J0U2VydmljZS5nZXRudW1iZXIodGhpcy5leGNpc2Vfbm8sIHRoaXMudGF4ZGF0YWxpc3RbdHhdLm0sIHRoaXMudGF4ZGF0YWxpc3RbdHhdLnkpLnRoZW4oCiAgICAgIC8vICAgICAocmVzKSA9PiB7CiAgICAgIC8vICAgICAgIC8vIGNvbnNvbGUubG9nKHRheHMuZGF0YS50YXgpOwogICAgICAvLyAgICAgICB2YXIgbnVtID0gMAogICAgICAvLyAgICAgICB2YXIgdm9sID0gMCAKICAgICAgLy8gICAgICAgbnVtID0gcmVzLmRhdGEubnVtYmVyCiAgICAgIC8vICAgICAgIHZvbCA9IHJlcy5kYXRhLnZvbHVtZQogICAgICAvLyAgICAgICBudW0gPSBudW0gPT0gbnVsbCA/IDAgOiBudW07CiAgICAgIC8vICAgICAgIHZvbCA9IHZvbCA9PSBudWxsID8gMCA6IHZvbDsKICAgICAgLy8gICAgICAgdGhpcy5zdW1udW1iZXIucHVzaChudW0pCiAgICAgIC8vICAgICAgIHRoaXMuc3Vtdm9sdW1lLnB1c2godm9sKQogICAgICAvLyAgICAgICB0aGlzLmFsbG51bSA9IHRoaXMuYWxsbnVtK251bQogICAgICAvLyAgICAgICB0aGlzLmFsbHZvbCA9IHRoaXMuYWxsdm9sK3ZvbAogICAgICAvLyAgICAgfSk7CiAgICAgIC8vIH0KICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CgogICAgdGhpcy5leGNpc2Vfbm8gPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICBNZXJnZUxpcXVvclJlcG9ydFNlcnZpY2UuZ2V0bmV0YWxsKHRoaXMuZXhjaXNlX25vKS50aGVuKAogICAgICAodGF4cykgPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKHRheHMuZGF0YSk7CiAgICAgICAgdmFyIG5ldF90YXggPSAwCiAgICAgICAgdmFyIG51bWJlciA9IDAKICAgICAgICB2YXIgdm9sdW1lID0gMAogICAgICAgIG5ldF90YXggPSB0YXhzLmRhdGEubmV0X3RheAogICAgICAgIG5ldF90YXggPSBuZXRfdGF4ID09IG51bGwgPyAwIDogbmV0X3RheDsKICAgICAgICBudW1iZXIgPSB0YXhzLmRhdGEubnVtYmVyCiAgICAgICAgbnVtYmVyID0gbnVtYmVyID09IG51bGwgPyAwIDogbnVtYmVyOwogICAgICAgIHZvbHVtZSA9IHRheHMuZGF0YS52b2x1bWUKICAgICAgICB2b2x1bWUgPSB2b2x1bWUgPT0gbnVsbCA/IDAgOiB2b2x1bWU7CiAgICAgICAgdGhpcy5uZXRfdGF4ID0gbmV0X3RheAogICAgICAgIHRoaXMuYWxsbnVtID0gbnVtYmVyCiAgICAgICAgdGhpcy5hbGx2b2wgPSB2b2x1bWUKICAgICAgfSk7CiAgICBNZXJnZUxpcXVvclJlcG9ydFNlcnZpY2UuZ2V0RGV0YWlsYnlmYWN0b3J5X2NvZGUodGhpcy5leGNpc2Vfbm8pLnRoZW4oCiAgICAgIChyZXMpID0+IHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgdGhpcy5kZXRhaWwgPSByZXMuZGF0YTsKICAgICAgICB0aGlzLmdldHRheCgpCiAgICAgICAgaWYgKHRoaXMuZGV0YWlsLmxlbmd0aCA+IDEpIHsKICAgICAgICAgIHRoaXMuc3BhbiA9IHRoaXMuZGV0YWlsLmxlbmd0aCAqIDIgKiAyOwogICAgICAgICAgdGhpcy5zcGFuYnJhbmQgPSB0aGlzLmRldGFpbC5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIGZvciAobGV0IHMgPSAwOyBzIDwgdGhpcy5kZXRhaWwubGVuZ3RoOyBzKyspIHsKICAgICAgICAgIE1lcmdlTGlxdW9yUmVwb3J0U2VydmljZS5nZXRvdmVyYWxsKHRoaXMuZXhjaXNlX25vLCB0aGlzLmRldGFpbFtzXS5icmFuZF9uYW1lLCB0aGlzLmRldGFpbFtzXS5kZWdyZWUsIHRoaXMuZGV0YWlsW3NdLnNpemUpLnRoZW4oCiAgICAgICAgICAgICh0YXhzKSA9PiB7CiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGF4cy5kYXRhKTsKICAgICAgICAgICAgICB2YXIgb3ZlcmFsbG51bSA9IDAKICAgICAgICAgICAgICB2YXIgb3ZlcmFsbHZvbCA9IDAKICAgICAgICAgICAgICBvdmVyYWxsbnVtID0gdGF4cy5kYXRhLm51bQogICAgICAgICAgICAgIG92ZXJhbGx2b2wgPSB0YXhzLmRhdGEudm9sCiAgICAgICAgICAgICAgb3ZlcmFsbG51bSA9IG92ZXJhbGxudW0gPT0gbnVsbCA/IDAgOiBvdmVyYWxsbnVtOwogICAgICAgICAgICAgIG92ZXJhbGx2b2wgPSBvdmVyYWxsdm9sID09IG51bGwgPyAwIDogb3ZlcmFsbHZvbDsKICAgICAgICAgICAgICB0aGlzLm92ZXJhbGx0YXgucHVzaChvdmVyYWxsbnVtKQogICAgICAgICAgICAgIHRoaXMub3ZlcmFsbHRheC5wdXNoKG92ZXJhbGx2b2wpCiAgICAgICAgICAgICAgaWYgKHRoaXMub3ZlcmFsbHRheC5sZW5ndGggPT0gcGFyc2VJbnQodGhpcy5kZXRhaWwubGVuZ3RoICogMikpIHsKICAgICAgICAgICAgICAgIHRoaXMub3ZlcmFsbHRheC5wdXNoKHRoaXMuYWxsbnVtKQogICAgICAgICAgICAgICAgdGhpcy5vdmVyYWxsdGF4LnB1c2godGhpcy5hbGx2b2wpCiAgICAgICAgICAgICAgICB0aGlzLm92ZXJhbGx0YXgucHVzaCh0aGlzLm5ldF90YXgpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAocyA9PSAwKSB7CiAgICAgICAgICAgIHRoaXMuaGVhZG1vbnRodGV4dC5wdXNoKCfguYDguJTguLfguK3guJnguJfguLXguYjguIrguLPguKPguLDguKDguLLguKnguLUnKQogICAgICAgICAgfQogICAgICAgICAgdGhpcy5oZWFkbW9udGh0ZXh0LnB1c2goJ+C4iOC4s+C4meC4p+C4meC5geC4quC4leC4oeC4m+C5jCcpCiAgICAgICAgICB0aGlzLmhlYWRtb250aHRleHQucHVzaCgn4Lib4Lij4Li04Lih4Liy4LiT4LiZ4LmJ4Liz4Liq4Li44Lij4LiyJykKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuaGVhZG1vbnRodGV4dCk7CiAgICAgICAgICBNZXJnZUxpcXVvclJlcG9ydFNlcnZpY2UuZ2V0ZGF0YWdyYXBoKHRoaXMuZXhjaXNlX25vLCB0aGlzLmRldGFpbFtzXS5icmFuZF9uYW1lLCB0aGlzLmRldGFpbFtzXS5kZWdyZWUsIHRoaXMuZGV0YWlsW3NdLnNpemUpLnRoZW4oCiAgICAgICAgICAgIChyZXMpID0+IHsKICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgICAgICAgdmFyIGxpc3QgPSByZXMuZGF0YQogICAgICAgICAgICAgIHRoaXMuZGV0YWlsW3NdLmRhdGEgPSBsaXN0CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCgogICAgICAgIGZvciAobGV0IHMgPSAwOyBzIDwgdGhpcy5kZXRhaWwubGVuZ3RoOyBzKyspIHsKICAgICAgICAgIE1lcmdlTGlxdW9yUmVwb3J0U2VydmljZS5nZXRkYXRhZ3JhcGgodGhpcy5leGNpc2Vfbm8sIHRoaXMuZGV0YWlsW3NdLmJyYW5kX25hbWUsIHRoaXMuZGV0YWlsW3NdLmRlZ3JlZSwgdGhpcy5kZXRhaWxbc10uc2l6ZSkudGhlbigKICAgICAgICAgICAgKHJlcykgPT4gewogICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICAgICAgICB2YXIgbGlzdCA9IHJlcy5kYXRhCiAgICAgICAgICAgICAgdGhpcy5kZXRhaWxbc10uZGF0YSA9IGxpc3QKICAgICAgICAgICAgICB0aGlzLnNlcmllcy5wdXNoKHsKICAgICAgICAgICAgICAgIG5hbWU6CiAgICAgICAgICAgICAgICAgIHRoaXMuZGV0YWlsW3NdLmJyYW5kX25hbWUgKwogICAgICAgICAgICAgICAgICAiIC0gIiArCiAgICAgICAgICAgICAgICAgIHRoaXMuZGV0YWlsW3NdLmRlZ3JlZSArCiAgICAgICAgICAgICAgICAgICIgLSAiICsKICAgICAgICAgICAgICAgICAgdGhpcy5kZXRhaWxbc10uc2l6ZSwKICAgICAgICAgICAgICAgIHNpemU6IHRoaXMuZGV0YWlsW3NdLnNpemUsCiAgICAgICAgICAgICAgICBicmFuZDogdGhpcy5kZXRhaWxbc10uYnJhbmRfbmFtZSwKICAgICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAiOXB4IiwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBkZWdyZWU6IHRoaXMuZGV0YWlsW3NdLmRlZ3JlZSwKICAgICAgICAgICAgICAgIGRhdGE6IGxpc3QsCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSkKCiAgICAgICAgfQogICAgICAgIHRoaXMuaGVhZG1vbnRodGV4dC5wdXNoKCfguIjguLPguJnguKfguJnguYHguKrguJXguKHguJvguYwnKQogICAgICAgIHRoaXMuaGVhZG1vbnRodGV4dC5wdXNoKCfguJvguKPguLTguKHguLLguJPguJnguYnguLPguKrguLjguKPguLInKQogICAgICAgIHRoaXMuaGVhZG1vbnRodGV4dC5wdXNoKCfguKDguLLguKnguLXguKrguLjguJfguJjguLQnKQoKICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnRheHN1bSk7CiAgICAgIH0pOwoKICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpOwogICAgdGhpcy5kYXRlID0gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoInRoLVRIIiwgewogICAgICB5ZWFyOiAibnVtZXJpYyIsCiAgICAgIG1vbnRoOiAic2hvcnQiLAogICAgICBkYXk6ICJudW1lcmljIiwKICAgIH0pOwogICAgdGhpcy5sb2FkbmV0KCk7CiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpOwogICAgY29uc3QgZCA9IG5ldyBEYXRlKCk7CiAgICB0aGlzLnllYXJjdXJyZW50ID0gcGFyc2VJbnQoZC5nZXRGdWxsWWVhcigpICsgNTQzKTsKICAgIHRoaXMuZ2V0aGVhZGVyKCk7CiAgICAvLyAgY29uc29sZS5sb2codGhpcy55ZWFyY3VycmVudCs1NDMpOwogICAgLy8gdGhpcy5sb2FkRGV0YWlsKCk7CiAgICB0aGlzLmxvYWRkYXRhKCk7CiAgfSwKICBjb21wdXRlZDoge30sCn07Cg=="},{"version":3,"sources":["graphtax.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+HA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"graphtax.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div style=\"padding: 5px\">\n    <div>\n      <div class=\"row\">\n        <div class=\"col-md-12\" v-if=\"current.length != 0\">\n          <div id=\"chart\">\n            <apexchart type=\"line\" height=\"350\" :options=\"chartOptions\" :series=\"series\"></apexchart>\n          </div>\n          <table class=\"table table-bordered\">\n            <thead>\n              <tr>\n                <th scope=\"col\" rowspan=\"2\" style=\"vertical-align : middle;text-align: center\">ปริมาณการชำระภาษี</th>\n                <th scope=\"col\" :colspan=\"span\" style=\"text-align: center\">\n                  รายการสินค้า\n                </th>\n              </tr>\n              <tr>\n                <th colspan=\"2\" scope=\"col\" style=\"text-align: center\" v-for=\"(s, i) in series\" :key=\"i\">\n                  {{ s.name }}\n                </th>\n                <th style=\"text-align: center\" colspan=\"2\">รวม</th>\n                <th style=\"text-align: center\" colspan=\"3\"></th>\n              </tr>\n              <tr>\n                <th scope=\"col\" style=\"text-align: center\" v-for=\"(h, i) in headmonthtext\" :key=\"i\">\n                  {{ h }}\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(t, td) in taxdatalist\" :key=\"td + 1\">\n                <th>{{ t.n }}</th>\n                <th v-for=\"(d, ii) in t.data\" :key=\"ii\" style=\"text-align: right\">{{ d }}</th>\n                <th style=\"text-align: right\">{{ numberWithCommas(sumnumber[td]) || 0 }}</th>\n                <th style=\"text-align: right\">{{ numberWithCommas(sumvolume[td]) || 0 }}</th>\n                <th style=\"text-align: right\">{{ numberWithCommas(taxsum[td]) || 0}}</th>\n              </tr>\n              <!-- <tr v-for=\"(t, ii) in volumnlist\" :key=\"ii\">\n                <th>{{t.n}}</th>\n                 <th style=\"text-align: right;\">{{numberWithCommas(t.number) || 0}}</th>\n                 <th style=\"text-align: right;\">{{numberWithCommas(t.volume_liquor) || 0}}</th>\n                  <th style=\"text-align: right;\" v-if=\"head.length >= 2\">{{numberWithCommas(t.numbertwo) || 0}}</th>\n                 <th style=\"text-align: right;\" v-if=\"head.length >= 2\">{{numberWithCommas(t.volume_liquortwo) || 0}}</th>\n                  <th style=\"text-align: right;\" v-if=\"head.length == 3\">{{numberWithCommas(t.numberthree) || 0}}</th>\n                 <th style=\"text-align: right;\" v-if=\"head.length == 3\">{{numberWithCommas(t.volume_liquorthree) || 0}}</th>\n                  <th style=\"text-align: right;\" v-if=\"head.length == 2\">{{numberWithCommas(t.number+t.numbertwo) || 0}}</th>\n                 <th style=\"text-align: right;\" v-if=\"head.length == 2\" >{{numberWithCommas(t.volume_liquor+t.volume_liquortwo) || 0}}</th>\n                  <th style=\"text-align: right;\" v-if=\"head.length ==3\">{{numberWithCommas(t.number+t.numbertwo+t.numberthree) || 0}}</th>\n                 <th style=\"text-align: right;\" v-if=\"head.length == 3\" >{{numberWithCommas(t.volume_liquor+t.volume_liquortwo+t.volume_liquorthree) || 0}}</th>\n                 <th style=\"text-align: right;\">{{numberWithCommas(t.tax) || 0}}</th>\n                </tr> -->\n              <tr>\n                <th class=\"table-secondary\" style=\"font-weight: bold\">รวม</th>\n\n                <th v-for=\"(hea, i) in overalltax\" class=\"table-secondary\" :key=\"i + 100\"\n                  style=\"text-align: center; font-weight: bold\">{{ numberWithCommas(hea) }}</th>\n                <!-- <th\n                  class=\"table-secondary\"\n                  style=\"text-align: center; font-weight: bold\"\n                >\n                  {{ numberWithCommas(sumvolumnlist.num1) }} \n                </th>\n                 <th\n                  class=\"table-secondary\"\n                  style=\"text-align: center; font-weight: bold\"\n                >\n                  {{ numberWithCommas(sumvolumnlist.vol1) }} \n                </th>\n                <th\n                v-if=\"head.length >= 2\"\n                  class=\"table-secondary\"\n                  style=\"text-align: center; font-weight: bold\"\n                >\n                  {{ numberWithCommas(sumvolumnlist.num2) }} \n                </th>\n                 <th\n                 v-if=\"head.length >= 2\"\n                  class=\"table-secondary\"\n                  style=\"text-align: center; font-weight: bold\"\n                >\n                  {{ numberWithCommas(sumvolumnlist.vol2) }} \n                </th>\n                <th\n                v-if=\"head.length ==3\"\n                  class=\"table-secondary\"\n                  style=\"text-align: center; font-weight: bold\"\n                >\n                  {{ numberWithCommas(sumvolumnlist.num3) }} \n                </th>\n                 <th\n                v-if=\"head.length ==3\"\n                  class=\"table-secondary\"\n                  style=\"text-align: center; font-weight: bold\"\n                >\n                  {{ numberWithCommas(sumvolumnlist.vol3) }} \n                </th>\n                <th\n                v-if=\"head.length >= 2\"\n                  class=\"table-secondary\"\n                  style=\"text-align: center; font-weight: bold\"\n                >\n                  {{ numberWithCommas(sumvolumnlist.sumnum) }} \n                </th>\n                 <th\n                 v-if=\"head.length >= 2\"\n                  class=\"table-secondary\"\n                  style=\"text-align: center; font-weight: bold\"\n                >\n                  {{ numberWithCommas(sumvolumnlist.sumvol) }} \n                </th>\n                 <th\n                  class=\"table-secondary\"\n                  style=\"text-align: center; font-weight: bold\"\n                >\n                  {{ numberWithCommas(sumvolumnlist.sumtax) }} \n                </th> -->\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <div class=\"col-md-12\" v-else style=\"text-align:center\">ไม่พบข้อมูลการชำระภาษี</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// import longdo from \"longdo-map-vue\";\nimport DetailExciseService from \"../services/DetailExciseService.js\";\nimport MergeLiquorReportService from \"../services/MergeLiquorReportService.js\";\n\nexport default {\n  name: \"App\",\n  components: {},\n  data() {\n    return {\n      date: \"\",\n      data: [],\n      excise_no: \"\",\n      show: false,\n      series: [],\n      numthreethree: [],\n      numsixtwofive: [],\n      numsixthree: [],\n      numseven: [],\n      numsevenfive: [],\n      numthreethreecurrent: [],\n      numsixtwofivecurrent: [],\n      numsixthreecurrent: [],\n      numsevencurrent: [],\n      numsevenfivecurrent: [],\n      table: [],\n      chartOptions: {},\n      detail: [],\n      month: [],\n      sumthreethree: 0,\n      sumsixtwofive: 0,\n      sumsixthree: 0,\n      sumseven: 0,\n      sumsevenfive: 0,\n      sumthreethreey: 0,\n      sumsixtwofivey: 0,\n      sumsixthreey: 0,\n      sumseveny: 0,\n      sumsevenfivey: 0,\n      total: 0,\n      statusthreethree: false,\n      statussixtwofive: false,\n      statussixthree: false,\n      statusseven: false,\n      statussevenfive: false,\n      tablenew: [\n        { month: 10 },\n        { month: 11 },\n        { month: 12 },\n        { month: 1 },\n        { month: 2 },\n        { month: 3 },\n        { month: 4 },\n        { month: 5 },\n        { month: 6 },\n        { month: 7 },\n        { month: 8 },\n        { month: 9 },\n      ],\n      monthlist: ['ตุลาคม', 'พฤศจิกายน', 'ธันวาคม', 'มกราคม', 'กุมภาพันธ์', 'มีนาคม', 'เมษายน', 'พฤษภาคม', 'มิถุนายน', 'กรกฎาคม', 'สิงหาคม', 'กันยายน'],\n      yearcurrent: \"\",\n      report: [],\n      excise_id: \"\",\n      brand_name: [],\n      diff: [],\n      degree: [],\n      span: 3,\n      spanbrand: 1,\n      current: [],\n      tbsize: [0.33, 0.625, 0.63, 0.7, 0.75],\n      tablecurrent: [],\n      list: [],\n      sumtaxthreethree: 0,\n      sumtaxsixthree: 0,\n      sumtaxsixtwofive: 0,\n      sumtaxseven: 0,\n      sumtaxsevenfive: 0,\n      sumtaxthreethreec: 0,\n      sumtaxsixthreec: 0,\n      sumtaxsixtwofivec: 0,\n      sumtaxsevenc: 0,\n      sumtaxsevenfivec: 0,\n      taxlist: [],\n      taxdatacurrent: [],\n      headstamp: [],\n      head: [],\n      size: [],\n      sumall: [],\n      tbmonth: [],\n      category: ['ตุลาคม', 'พฤศจิกายน', 'ธันวาคม', 'มกราคม', 'กุมภาพันธ์', 'มีนาคม', 'เมษายน', 'พฤษภาคม', 'มิถุนายน']\n      ,\n      volumnlist: [],\n      sumvolumnlist: {},\n      taxdatalist: [],\n      taxsum: [],\n      headmonthtext: [],\n      overalltax: [],\n      net_tax: 0,\n      taxdatalists: [],\n      sumnumber : [],\n      sumvolume:[],\n      allnum:0,\n      allvol:0\n    };\n  },\n  methods: {\n    calsum(x, y, z, q, w, a) {\n      var cal = 0;\n      if (x === undefined || x == null) {\n        x = 0;\n      }\n      if (y === undefined || y == null) {\n        y = 0;\n      }\n      if (z === undefined || z == null) {\n        z = 0;\n      }\n      if (q === undefined || q == null) {\n        q = 0;\n      }\n      if (w === undefined || w == null) {\n        w = 0;\n      }\n      if (a === undefined || a == null) {\n        a = 0;\n      }\n      // console.log(x,y,z,q,w);\n\n      cal = parseInt(\n        parseInt(x) + parseInt(y) + parseInt(z) + parseInt(q) + parseInt(w) + parseInt(a)\n      );\n      if (cal === undefined || cal == null) {\n        cal = 80000\n      }\n      // console.log(cal);\n      return cal;\n    },\n    getheader() {\n\n      MergeLiquorReportService.getReportLiquorTaxHeader(this.excise_no).then(\n        (res) => {\n          this.head = res.data;\n          // console.log(res.data);\n          MergeLiquorReportService.getvolumetax(this.excise_no, '', '').then((res) => {\n            this.volumnlist = res.data\n            // console.log(this.volumnlist);\n            this.category = []\n            // for (let m = 0; m < this.volumnlist.length; m++) {\n            //   this.category.push(this.volumnlist[m].n)\n            // }\n            //               var num1 = 0\n            //               var vol1 = 0\n            //               var num2 = 0\n            //               var vol2 = 0\n            //               var num3 = 0\n            //               var vol3 = 0\n            //               var sumnum = 0\n            //               var sumvol = 0\n            //               var sumtax = 0\n            //               var sumvolgraph = []\n            //               var sumvolgraphtwo = []\n            //               var sumvolgraphthree = []\n            //               for (let v = 0; v < this.volumnlist.length; v++) {\n            //                 if (!this.volumnlist[v].number) {\n            //                   this.volumnlist[v].number = 0\n            //                 }\n            //                  if (!this.volumnlist[v].numbertwo) {\n            //                   this.volumnlist[v].numbertwo = 0\n            //                 }\n            //                 if (!this.volumnlist[v].numberthree) {\n            //                   this.volumnlist[v].numberthree = 0\n            //                 }\n            //                 if (!this.volumnlist[v].volume_liquor) {\n            //                   this.volumnlist[v].volume_liquor = 0\n            //                 }\n            //                  if (!this.volumnlist[v].volume_liquortwo) {\n            //                   this.volumnlist[v].volume_liquortwo = 0\n            //                 }\n            //                 if (!this.volumnlist[v].volume_liquorthree) {\n            //                   this.volumnlist[v].volume_liquorthree = 0\n            //                 }\n            //                  if (!this.volumnlist[v].tax) {\n            //                   this.volumnlist[v].tax = 0\n            //                 }\n            //                 num1 = num1 + this.volumnlist[v].number\n            //                 vol1 = vol1 + this.volumnlist[v].volume_liquor\n            //                  num2 = num2 + this.volumnlist[v].numbertwo\n            //                 vol2 = vol2 + this.volumnlist[v].volume_liquortwo\n            //                  num3 = num3 + this.volumnlist[v].numberthree\n            //                 vol3 = vol3 + this.volumnlist[v].volume_liquorthree\n            //                  sumnum = sumnum + this.volumnlist[v].number + this.volumnlist[v].numbertwo+this.volumnlist[v].numberthree\n            //                 sumvol = sumvol + this.volumnlist[v].volume_liquor+this.volumnlist[v].volume_liquortwo+this.volumnlist[v].volume_liquorthree\n            //                 sumtax = sumtax +this.volumnlist[v].tax\n            //                 sumvolgraph.push(this.volumnlist[v].number)\n            //                 sumvolgraphtwo.push(this.volumnlist[v].numbertwo)\n            //                 sumvolgraphthree.push(this.volumnlist[v].numberthree)\n            //               }\n            //               this.sumvolumnlist = {\n            // num1 : num1 ,\n            //                 vol1 : vol1 ,\n            //                  num2 : num2 ,\n            //                 vol2 : vol2 ,\n            //                  num3 : num3 ,\n            //                 vol3 : vol3 ,\n            //                  sumnum : sumnum,\n            //                 sumvol : sumvol ,\n            //                 sumtax : sumtax ,\n            //               }\n            // console.log(this.sumvolumnlist);\n\n            // console.log(this.detail);\n\n          })\n\n          // this.headstamp.push({\n          //   a: \"เดือนที่ชำระภาษี\",\n          //   b: \"จำนวนแสตมป์\",\n          //   c: \"ปริมาณน้ำสุรา\",\n          //   d: \"ภาษีสุทธิ\",\n          // });\n          // if (res.data.length == 2) {\n          //   this.headstamp[0].color ='background-color:#EC7C30'\n          //   this.headstamp[0].e = \"จำนวนแสตมป์\";\n          //   this.headstamp[0].f = \"ปริมาณน้ำสุรา\";\n          // }\n          // else if (res.data.length == 3) {\n          //   this.headstamp[0].e = \"จำนวนแสตมป์\";\n          //   this.headstamp[0].f = \"ปริมาณน้ำสุรา\";\n          //    this.headstamp[0].g = \"จำนวนแสตมป์\";\n          //   this.headstamp[0].h = \"ปริมาณน้ำสุรา\";\n          // }else if (res.data.length == 4) {\n          //   this.headstamp[0].e = \"จำนวนแสตมป์\";\n          //   this.headstamp[0].f = \"ปริมาณน้ำสุรา\";\n          //    this.headstamp[0].g = \"จำนวนแสตมป์\";\n          //   this.headstamp[0].h = \"ปริมาณน้ำสุรา\";\n          //   this.headstamp[0].i = \"จำนวนแสตมป์\";\n          //   this.headstamp[0].j = \"ปริมาณน้ำสุรา\";\n          // }\n          this.degree.push({\n            a: 1,\n          });\n          // console.log(res.data);\n          for (let h = 0; h < res.data.length; h++) {\n            if (h == 0) {\n              this.degree[0].degree = res.data[h].degree;\n              this.size.push({\n                size: res.data[h].size,\n              });\n              this.brand_name.push({\n                brand_name: res.data[h].brand_name + '-' + res.data[h].degree + '-' + res.data[h].size,\n                color: 'background-color:#77B6EA'\n              });\n            } else if (h == 1) {\n              this.degree[0].degreetwo = res.data[h].degree;\n              this.size.push({\n                size: res.data[h].size,\n              });\n              this.brand_name.push({\n                brand_name: res.data[h].brand_name + '-' + res.data[h].degree + '-' + res.data[h].size,\n                color: 'background-color:#EC7C30'\n              });\n            } else if (h == 2) {\n              this.degree[0].degreetwo = res.data[h].degree;\n              this.size.push({\n                size: res.data[h].size,\n              });\n              this.brand_name.push({\n                brand_name: res.data[h].brand_name + '-' + res.data[h].degree + '-' + res.data[h].size,\n                color: 'background-color:#AC7C30'\n              });\n            }\n          }\n        }\n      );\n      // console.log(this.degree);\n      // console.log(this.headstamp);\n\n      this.loadchartOptions();\n    },\n    uniqurArray(array) {\n      var a = array.concat();\n      for (var i = 0; i < a.length; i++) {\n        for (var j = i + 1; j < a.length; j++) {\n          if (a[i].month === a[j].month) {\n            a.splice(j--, 1);\n          }\n        }\n      }\n\n      return a;\n    },\n    loaddata() {\n      MergeLiquorReportService.getReportLiquorTaxDetail(\n        this.excise_no,\n        String(this.yearcurrent - 1 + \"-10-01\"),\n        String(this.yearcurrent + \"-09-30\")\n      ).then((res) => {\n        this.current = res.data;\n        // console.log(res.data);\n        for (let cu = 0; cu < this.current.length; cu++) {\n          // console.log(this.current[cu].month);\n          for (let tbc = 0; tbc < this.tablenew.length; tbc++) {\n            if (this.tablenew[tbc].month == this.current[cu].month) {\n              this.tbmonth.push({\n                month: this.current[cu].month,\n              });\n            }\n          }\n        }\n        this.tablecurrent = this.uniqurArray(this.tbmonth);\n        // console.log(this.tablecurrent);\n        // console.log(this.tbsize);\n        for (let c = 0; c < this.current.length; c++) {\n          for (let tb = 0; tb < this.tablecurrent.length; tb++) {\n            for (let s = 0; s < this.tbsize.length; s++) {\n              if (\n                this.tbsize[s] == this.current[c].size &&\n                this.tablecurrent[tb].month == this.current[c].month\n              ) {\n                // console.log(this.tablecurrent);\n                // console.log(this.tablecurrent[tb].month,this.current[c].month);\n                if (this.tbsize[s] == 0.33) {\n                  this.tablecurrent[tb].size = 0.33;\n                  this.tablecurrent[tb].status = true;\n                  this.tablecurrent[tb].summunber = this.current[c].summunber;\n                  this.tablecurrent[tb].sumvolume_liquor =\n                    this.current[c].sumvolume_liquor;\n                  // });\n                } else if (this.tbsize[s] == 0.625) {\n                  // this.tablecurrent.push({\n                  //   month: this.current[c].month,\n                  this.tablecurrent[tb].size = 0.625;\n                  this.tablecurrent[tb].status = true;\n                  this.tablecurrent[tb].summunbersixtwofive =\n                    this.current[c].summunber;\n                  this.tablecurrent[tb].sumvolume_liquorsixtwofive =\n                    this.current[c].sumvolume_liquor;\n                  // });\n                } else if (this.tbsize[s] == 0.63) {\n                  // console.log(this.current[c]);\n                  // this.tablecurrent.push({\n                  //   month: this.current[c].month,\n                  this.tablecurrent[tb].size = 0.63;\n                  this.tablecurrent[tb].status = true;\n                  this.tablecurrent[tb].summunbersixthree =\n                    this.current[c].summunber;\n                  this.tablecurrent[tb].sumvolume_liquorsixthree =\n                    this.current[c].sumvolume_liquor;\n                  if (this.current[c].degree == 35 && this.excise_no == '541022') {\n                    this.tablecurrent[tb].moresumvolume_liquorsixthree =\n                      this.current[c].sumvolume_liquor;\n                    this.tablecurrent[tb].moresummunber =\n                      this.current[c].summunber;\n                  } else {\n                    this.tablecurrent[tb].moresumvolume_liquorsixthree = 0\n                    this.tablecurrent[tb].moresummunber = 0\n                  }\n                  // });\n                } else if (this.tbsize[s] == 0.7) {\n                  // this.tablecurrent.push({\n                  //   month: this.current[c].month,\n                  this.tablecurrent[tb].size = 0.7;\n                  this.tablecurrent[tb].status = true;\n                  this.tablecurrent[tb].summunberseven =\n                    this.current[c].summunber;\n                  this.tablecurrent[tb].sumvolume_liquorseven =\n                    this.current[c].sumvolume_liquor;\n                  // });\n                } else if (this.tbsize[s] == 0.75) {\n                  // this.tablecurrent.push({\n                  //   month: this.current[c].month\n                  this.tablecurrent[tb].size = 0.75;\n                  this.tablecurrent[tb].status = true;\n                  this.tablecurrent[tb].summunbersevenfive =\n                    this.current[c].summunber;\n                  this.tablecurrent[tb].sumvolume_liquorsevenfive =\n                    this.current[c].sumvolume_liquor;\n                  // });\n                }\n              }\n            }\n          }\n        }\n        // for (let ttt = 0; ttt < this.tablecurrent.length; ttt++) {\n        //   if(!this.tablecurrent[ttt].sumvolume_liquorsixthree){\n        //     this.tablecurrent[ttt].sumvolume_liquorsixthree = \"0\"\n        //   }\n        //   if(!this.tablecurrent[ttt].summunbersixthree){\n        //     this.tablecurrent[ttt].summunbersixthree = \"0\"\n        //   }\n        // }\n        this.summonth();\n        // console.log(this.current);\n        // console.log(this.tablecurrent);\n\n        // console.log(this.head);\n        if (this.head.length > 1) {\n          for (let ta = 0; ta < this.tablecurrent.length; ta++) {\n            // var c = 0\n            for (let ss = 0; ss < this.head.length; ss++) {\n              // console.log(this.tablecurrent[ta][0]);\n              this.tablecurrent[ta].sumnumberall = 0;\n              this.tablecurrent[ta].sumvolumeall = 0;\n            }\n          }\n        }\n        // console.log(this.tablecurrent);\n      });\n\n    },\n    caldif(max, min) {\n      if (min == null) {\n        min = 0;\n      }\n      var re = max - min;\n      const isValid = Number.isInteger(re);\n      // console.log(isValid);\n      if (!isValid) {\n        re = \"\";\n      }\n      return re;\n    },\n    loadDetail() {\n      MergeLiquorReportService.getTablebyfactory_code(this.excise_no)\n        .then((res) => {\n          // console.log(res.data);\n          this.table = res.data;\n          this.show = true;\n          DetailExciseService.getDetailExcise(this.excise_no).then((res) => {\n            this.data = res.data;\n            // console.log(res.data);\n            this.excise_id = res.data.excise_id;\n          });\n          for (let tb = 0; tb < this.tablenew.length; tb++) {\n            for (let tb1 = 0; tb1 < this.table.length; tb1++) {\n              //\n              if (\n                this.table[tb1].month == this.tablenew[tb].month &&\n                this.tablenew[tb].month == 10 &&\n                this.table[tb1].year == this.yearcurrent - 2\n              ) {\n                this.tablenew[tb].degree = this.table[tb1].degree;\n                (this.tablenew[tb].seven = this.table[tb1].seven),\n                  (this.tablenew[tb].sevenfive = this.table[tb1].sevenfive),\n                  (this.tablenew[tb].sixthree = this.table[tb1].sixthree),\n                  (this.tablenew[tb].sixtwofive = this.table[tb1].sixtwofive),\n                  (this.tablenew[tb].size = this.table[tb1].size),\n                  (this.tablenew[tb].sumnumber = this.table[tb1].sumnumber),\n                  (this.tablenew[tb].threethree = this.table[tb1].threethree),\n                  (this.tablenew[tb].year = this.table[tb1].year);\n                this.sumthreethree =\n                  this.sumthreethree + this.table[tb1].threethree;\n                this.sumsixtwofive =\n                  this.sumsixtwofive + this.table[tb1].sixtwofive;\n                this.sumsixthree = this.sumsixthree + this.table[tb1].sixthree;\n                this.sumseven = this.sumseven + this.table[tb1].seven;\n                this.sumsevenfive =\n                  this.sumsevenfive + this.table[tb1].sevenfive;\n              } else if (\n                this.table[tb1].month == this.tablenew[tb].month &&\n                this.tablenew[tb].month == 11 &&\n                this.table[tb1].year == this.yearcurrent - 2\n              ) {\n                this.tablenew[tb].degree = this.table[tb1].degree;\n                (this.tablenew[tb].seven = this.table[tb1].seven),\n                  (this.tablenew[tb].sevenfive = this.table[tb1].sevenfive),\n                  (this.tablenew[tb].sixthree = this.table[tb1].sixthree),\n                  (this.tablenew[tb].sixtwofive = this.table[tb1].sixtwofive),\n                  (this.tablenew[tb].size = this.table[tb1].size),\n                  (this.tablenew[tb].sumnumber = this.table[tb1].sumnumber),\n                  (this.tablenew[tb].threethree = this.table[tb1].threethree),\n                  (this.tablenew[tb].year = this.table[tb1].year);\n                this.sumthreethree =\n                  this.sumthreethree + this.table[tb1].threethree;\n                this.sumsixtwofive =\n                  this.sumsixtwofive + this.table[tb1].sixtwofive;\n                this.sumsixthree = this.sumsixthree + this.table[tb1].sixthree;\n                this.sumseven = this.sumseven + this.table[tb1].seven;\n                this.sumsevenfive =\n                  this.sumsevenfive + this.table[tb1].sevenfive;\n                this.sumsevenfive + this.table[tb1].sevenfive;\n              } else if (\n                this.table[tb1].month == this.tablenew[tb].month &&\n                this.tablenew[tb].month == 12 &&\n                this.table[tb1].year == this.yearcurrent - 2\n              ) {\n                this.tablenew[tb].degree = this.table[tb1].degree;\n                (this.tablenew[tb].seven = this.table[tb1].seven),\n                  (this.tablenew[tb].sevenfive = this.table[tb1].sevenfive),\n                  (this.tablenew[tb].sixthree = this.table[tb1].sixthree),\n                  (this.tablenew[tb].sixtwofive = this.table[tb1].sixtwofive),\n                  (this.tablenew[tb].size = this.table[tb1].size),\n                  (this.tablenew[tb].sumnumber = this.table[tb1].sumnumber),\n                  (this.tablenew[tb].threethree = this.table[tb1].threethree),\n                  (this.tablenew[tb].year = this.table[tb1].year);\n                this.sumthreethree =\n                  this.sumthreethree + this.table[tb1].threethree;\n                this.sumsixtwofive =\n                  this.sumsixtwofive + this.table[tb1].sixtwofive;\n                this.sumsixthree = this.sumsixthree + this.table[tb1].sixthree;\n                this.sumseven = this.sumseven + this.table[tb1].seven;\n                this.sumsevenfive =\n                  this.sumsevenfive + this.table[tb1].sevenfive;\n                this.sumsevenfive + this.table[tb1].sevenfive;\n              } else if (\n                this.table[tb1].month == this.tablenew[tb].month &&\n                this.tablenew[tb].month == 1 &&\n                this.table[tb1].year == this.yearcurrent - 1\n              ) {\n                this.tablenew[tb].degree = this.table[tb1].degree;\n                (this.tablenew[tb].seven = this.table[tb1].seven),\n                  (this.tablenew[tb].sevenfive = this.table[tb1].sevenfive),\n                  (this.tablenew[tb].sixthree = this.table[tb1].sixthree),\n                  (this.tablenew[tb].sixtwofive = this.table[tb1].sixtwofive),\n                  (this.tablenew[tb].size = this.table[tb1].size),\n                  (this.tablenew[tb].sumnumber = this.table[tb1].sumnumber),\n                  (this.tablenew[tb].threethree = this.table[tb1].threethree),\n                  (this.tablenew[tb].year = this.table[tb1].year);\n                this.sumthreethree =\n                  this.sumthreethree + this.table[tb1].threethree;\n                this.sumsixtwofive =\n                  this.sumsixtwofive + this.table[tb1].sixtwofive;\n                this.sumsixthree = this.sumsixthree + this.table[tb1].sixthree;\n                this.sumseven = this.sumseven + this.table[tb1].seven;\n                this.sumsevenfive =\n                  this.sumsevenfive + this.table[tb1].sevenfive;\n                this.sumsevenfive + this.table[tb1].sevenfive;\n              } else if (\n                this.table[tb1].month == this.tablenew[tb].month &&\n                this.tablenew[tb].month == 2 &&\n                this.table[tb1].year == this.yearcurrent - 1\n              ) {\n                this.tablenew[tb].degree = this.table[tb1].degree;\n                (this.tablenew[tb].seven = this.table[tb1].seven),\n                  (this.tablenew[tb].sevenfive = this.table[tb1].sevenfive),\n                  (this.tablenew[tb].sixthree = this.table[tb1].sixthree),\n                  (this.tablenew[tb].sixtwofive = this.table[tb1].sixtwofive),\n                  (this.tablenew[tb].size = this.table[tb1].size),\n                  (this.tablenew[tb].sumnumber = this.table[tb1].sumnumber),\n                  (this.tablenew[tb].threethree = this.table[tb1].threethree),\n                  (this.tablenew[tb].year = this.table[tb1].year);\n                this.sumthreethree =\n                  this.sumthreethree + this.table[tb1].threethree;\n                this.sumsixtwofive =\n                  this.sumsixtwofive + this.table[tb1].sixtwofive;\n                this.sumsixthree = this.sumsixthree + this.table[tb1].sixthree;\n                this.sumseven = this.sumseven + this.table[tb1].seven;\n                this.sumsevenfive =\n                  this.sumsevenfive + this.table[tb1].sevenfive;\n                this.sumsevenfive + this.table[tb1].sevenfive;\n              } else if (\n                this.table[tb1].month == this.tablenew[tb].month &&\n                this.tablenew[tb].month == 3 &&\n                this.table[tb1].year == this.yearcurrent - 1\n              ) {\n                this.tablenew[tb].degree = this.table[tb1].degree;\n                (this.tablenew[tb].seven = this.table[tb1].seven),\n                  (this.tablenew[tb].sevenfive = this.table[tb1].sevenfive),\n                  (this.tablenew[tb].sixthree = this.table[tb1].sixthree),\n                  (this.tablenew[tb].sixtwofive = this.table[tb1].sixtwofive),\n                  (this.tablenew[tb].size = this.table[tb1].size),\n                  (this.tablenew[tb].sumnumber = this.table[tb1].sumnumber),\n                  (this.tablenew[tb].threethree = this.table[tb1].threethree),\n                  (this.tablenew[tb].year = this.table[tb1].year);\n                this.sumthreethree =\n                  this.sumthreethree + this.table[tb1].threethree;\n                this.sumsixtwofive =\n                  this.sumsixtwofive + this.table[tb1].sixtwofive;\n                this.sumsixthree = this.sumsixthree + this.table[tb1].sixthree;\n                this.sumseven = this.sumseven + this.table[tb1].seven;\n                this.sumsevenfive =\n                  this.sumsevenfive + this.table[tb1].sevenfive;\n                this.sumsevenfive + this.table[tb1].sevenfive;\n              } else if (\n                this.table[tb1].month == this.tablenew[tb].month &&\n                this.tablenew[tb].month == 4 &&\n                this.table[tb1].year == this.yearcurrent - 1\n              ) {\n                this.tablenew[tb].degree = this.table[tb1].degree;\n                (this.tablenew[tb].seven = this.table[tb1].seven),\n                  (this.tablenew[tb].sevenfive = this.table[tb1].sevenfive),\n                  (this.tablenew[tb].sixthree = this.table[tb1].sixthree),\n                  (this.tablenew[tb].sixtwofive = this.table[tb1].sixtwofive),\n                  (this.tablenew[tb].size = this.table[tb1].size),\n                  (this.tablenew[tb].sumnumber = this.table[tb1].sumnumber),\n                  (this.tablenew[tb].threethree = this.table[tb1].threethree),\n                  (this.tablenew[tb].year = this.table[tb1].year);\n                this.sumthreethree =\n                  this.sumthreethree + this.table[tb1].threethree;\n                this.sumsixtwofive =\n                  this.sumsixtwofive + this.table[tb1].sixtwofive;\n                this.sumsixthree = this.sumsixthree + this.table[tb1].sixthree;\n                this.sumseven = this.sumseven + this.table[tb1].seven;\n                this.sumsevenfive =\n                  this.sumsevenfive + this.table[tb1].sevenfive;\n                this.sumsevenfive + this.table[tb1].sevenfive;\n              } else if (\n                this.table[tb1].month == this.tablenew[tb].month &&\n                this.tablenew[tb].month == 5 &&\n                this.table[tb1].year == this.yearcurrent - 1\n              ) {\n                this.tablenew[tb].degree = this.table[tb1].degree;\n                (this.tablenew[tb].seven = this.table[tb1].seven),\n                  (this.tablenew[tb].sevenfive = this.table[tb1].sevenfive),\n                  (this.tablenew[tb].sixthree = this.table[tb1].sixthree),\n                  (this.tablenew[tb].sixtwofive = this.table[tb1].sixtwofive),\n                  (this.tablenew[tb].size = this.table[tb1].size),\n                  (this.tablenew[tb].sumnumber = this.table[tb1].sumnumber),\n                  (this.tablenew[tb].threethree = this.table[tb1].threethree),\n                  (this.tablenew[tb].year = this.table[tb1].year);\n                this.sumthreethree =\n                  this.sumthreethree + this.table[tb1].threethree;\n                this.sumsixtwofive =\n                  this.sumsixtwofive + this.table[tb1].sixtwofive;\n                this.sumsixthree = this.sumsixthree + this.table[tb1].sixthree;\n                this.sumseven = this.sumseven + this.table[tb1].seven;\n                this.sumsevenfive =\n                  this.sumsevenfive + this.table[tb1].sevenfive;\n                this.sumsevenfive + this.table[tb1].sevenfive;\n              } else if (\n                this.table[tb1].month == this.tablenew[tb].month &&\n                this.tablenew[tb].month == 6 &&\n                this.table[tb1].year == this.yearcurrent - 1\n              ) {\n                this.tablenew[tb].degree = this.table[tb1].degree;\n                (this.tablenew[tb].seven = this.table[tb1].seven),\n                  (this.tablenew[tb].sevenfive = this.table[tb1].sevenfive),\n                  (this.tablenew[tb].sixthree = this.table[tb1].sixthree),\n                  (this.tablenew[tb].sixtwofive = this.table[tb1].sixtwofive),\n                  (this.tablenew[tb].size = this.table[tb1].size),\n                  (this.tablenew[tb].sumnumber = this.table[tb1].sumnumber),\n                  (this.tablenew[tb].threethree = this.table[tb1].threethree),\n                  (this.tablenew[tb].year = this.table[tb1].year);\n                this.sumthreethree =\n                  this.sumthreethree + this.table[tb1].threethree;\n                this.sumsixtwofive =\n                  this.sumsixtwofive + this.table[tb1].sixtwofive;\n                this.sumsixthree = this.sumsixthree + this.table[tb1].sixthree;\n                this.sumseven = this.sumseven + this.table[tb1].seven;\n                this.sumsevenfive =\n                  this.sumsevenfive + this.table[tb1].sevenfive;\n                this.sumsevenfive + this.table[tb1].sevenfive;\n              } else if (\n                this.table[tb1].month == this.tablenew[tb].month &&\n                this.tablenew[tb].month == 7 &&\n                this.table[tb1].year == this.yearcurrent - 1\n              ) {\n                this.tablenew[tb].degree = this.table[tb1].degree;\n                (this.tablenew[tb].seven = this.table[tb1].seven),\n                  (this.tablenew[tb].sevenfive = this.table[tb1].sevenfive),\n                  (this.tablenew[tb].sixthree = this.table[tb1].sixthree),\n                  (this.tablenew[tb].sixtwofive = this.table[tb1].sixtwofive),\n                  (this.tablenew[tb].size = this.table[tb1].size),\n                  (this.tablenew[tb].sumnumber = this.table[tb1].sumnumber),\n                  (this.tablenew[tb].threethree = this.table[tb1].threethree),\n                  (this.tablenew[tb].year = this.table[tb1].year);\n                this.sumthreethree =\n                  this.sumthreethree + this.table[tb1].threethree;\n                this.sumsixtwofive =\n                  this.sumsixtwofive + this.table[tb1].sixtwofive;\n                this.sumsixthree = this.sumsixthree + this.table[tb1].sixthree;\n                this.sumseven = this.sumseven + this.table[tb1].seven;\n                this.sumsevenfive =\n                  this.sumsevenfive + this.table[tb1].sevenfive;\n                this.sumsevenfive + this.table[tb1].sevenfive;\n              } else if (\n                this.table[tb1].month == this.tablenew[tb].month &&\n                this.tablenew[tb].month == 8 &&\n                this.table[tb1].year == this.yearcurrent - 1\n              ) {\n                this.tablenew[tb].degree = this.table[tb1].degree;\n                (this.tablenew[tb].seven = this.table[tb1].seven),\n                  (this.tablenew[tb].sevenfive = this.table[tb1].sevenfive),\n                  (this.tablenew[tb].sixthree = this.table[tb1].sixthree),\n                  (this.tablenew[tb].sixtwofive = this.table[tb1].sixtwofive),\n                  (this.tablenew[tb].size = this.table[tb1].size),\n                  (this.tablenew[tb].sumnumber = this.table[tb1].sumnumber),\n                  (this.tablenew[tb].threethree = this.table[tb1].threethree),\n                  (this.tablenew[tb].year = this.table[tb1].year);\n                this.sumthreethree =\n                  this.sumthreethree + this.table[tb1].threethree;\n                this.sumsixtwofive =\n                  this.sumsixtwofive + this.table[tb1].sixtwofive;\n                this.sumsixthree = this.sumsixthree + this.table[tb1].sixthree;\n                this.sumseven = this.sumseven + this.table[tb1].seven;\n                this.sumsevenfive =\n                  this.sumsevenfive + this.table[tb1].sevenfive;\n                this.sumsevenfive + this.table[tb1].sevenfive;\n              } else if (\n                this.table[tb1].month == this.tablenew[tb].month &&\n                this.tablenew[tb].month == 9 &&\n                this.table[tb1].year == this.yearcurrent - 1\n              ) {\n                this.tablenew[tb].degree = this.table[tb1].degree;\n                (this.tablenew[tb].seven = this.table[tb1].seven),\n                  (this.tablenew[tb].sevenfive = this.table[tb1].sevenfive),\n                  (this.tablenew[tb].sixthree = this.table[tb1].sixthree),\n                  (this.tablenew[tb].sixtwofive = this.table[tb1].sixtwofive),\n                  (this.tablenew[tb].size = this.table[tb1].size),\n                  (this.tablenew[tb].sumnumber = this.table[tb1].sumnumber),\n                  (this.tablenew[tb].threethree = this.table[tb1].threethree),\n                  (this.tablenew[tb].year = this.table[tb1].year);\n                this.sumthreethree =\n                  this.sumthreethree + this.table[tb1].threethree;\n                this.sumsixtwofive =\n                  this.sumsixtwofive + this.table[tb1].sixtwofive;\n                this.sumsixthree = this.sumsixthree + this.table[tb1].sixthree;\n                this.sumseven = this.sumseven + this.table[tb1].seven;\n                this.sumsevenfive =\n                  this.sumsevenfive + this.table[tb1].sevenfive;\n                this.sumsevenfive + this.table[tb1].sevenfive;\n              } else if (\n                this.table[tb1].month == this.tablenew[tb].month &&\n                this.tablenew[tb].month == 10 &&\n                this.table[tb1].year == this.yearcurrent - 1\n              ) {\n                this.tablenew[tb].degreey = this.table[tb1].degree;\n                (this.tablenew[tb].seveny = this.table[tb1].seven),\n                  (this.tablenew[tb].sevenfivey = this.table[tb1].sevenfive),\n                  (this.tablenew[tb].sixthreey = this.table[tb1].sixthree),\n                  (this.tablenew[tb].sixtwofivey = this.table[tb1].sixtwofive),\n                  (this.tablenew[tb].sizey = this.table[tb1].size),\n                  (this.tablenew[tb].sumnumbery = this.table[tb1].sumnumber),\n                  (this.tablenew[tb].threethreey = this.table[tb1].threethree),\n                  (this.tablenew[tb].yeary = this.table[tb1].year);\n                this.sumthreethreey =\n                  this.sumthreethreey + this.table[tb1].threethree;\n                this.sumsixtwofivey =\n                  this.sumsixtwofivey + this.table[tb1].sixtwofive;\n                this.sumsixthreey =\n                  this.sumsixthreey + this.table[tb1].sixthree;\n                this.sumseveny = this.sumseveny + this.table[tb1].seven;\n                this.sumsevenfivey =\n                  this.sumsevenfivey + this.table[tb1].sevenfive;\n              } else if (\n                this.table[tb1].month == this.tablenew[tb].month &&\n                this.tablenew[tb].month == 11 &&\n                this.table[tb1].year == this.yearcurrent - 1\n              ) {\n                this.tablenew[tb].degreey = this.table[tb1].degree;\n                (this.tablenew[tb].seveny = this.table[tb1].seven),\n                  (this.tablenew[tb].sevenfivey = this.table[tb1].sevenfive),\n                  (this.tablenew[tb].sixthreey = this.table[tb1].sixthree),\n                  (this.tablenew[tb].sixtwofivey = this.table[tb1].sixtwofive),\n                  (this.tablenew[tb].sizey = this.table[tb1].size),\n                  (this.tablenew[tb].sumnumbery = this.table[tb1].sumnumber),\n                  (this.tablenew[tb].threethreey = this.table[tb1].threethree),\n                  (this.tablenew[tb].yeary = this.table[tb1].year);\n                this.sumthreethreey =\n                  this.sumthreethreey + this.table[tb1].threethree;\n                this.sumsixtwofivey =\n                  this.sumsixtwofivey + this.table[tb1].sixtwofive;\n                this.sumsixthreey =\n                  this.sumsixthreey + this.table[tb1].sixthree;\n                this.sumseveny = this.sumseveny + this.table[tb1].seven;\n                this.sumsevenfivey =\n                  this.sumsevenfivey + this.table[tb1].sevenfive;\n                this.sumsevenfive + this.table[tb1].sevenfive;\n              } else if (\n                this.table[tb1].month == this.tablenew[tb].month &&\n                this.tablenew[tb].month == 12 &&\n                this.table[tb1].year == this.yearcurrent - 1\n              ) {\n                this.tablenew[tb].degreey = this.table[tb1].degree;\n                (this.tablenew[tb].seveny = this.table[tb1].seven),\n                  (this.tablenew[tb].sevenfivey = this.table[tb1].sevenfive),\n                  (this.tablenew[tb].sixthreey = this.table[tb1].sixthree),\n                  (this.tablenew[tb].sixtwofivey = this.table[tb1].sixtwofive),\n                  (this.tablenew[tb].sizey = this.table[tb1].size),\n                  (this.tablenew[tb].sumnumbery = this.table[tb1].sumnumber),\n                  (this.tablenew[tb].threethreey = this.table[tb1].threethree),\n                  (this.tablenew[tb].yeary = this.table[tb1].year);\n                this.sumthreethreey =\n                  this.sumthreethreey + this.table[tb1].threethree;\n                this.sumsixtwofivey =\n                  this.sumsixtwofivey + this.table[tb1].sixtwofive;\n                this.sumsixthreey =\n                  this.sumsixthreey + this.table[tb1].sixthree;\n                this.sumseveny = this.sumseveny + this.table[tb1].seven;\n                this.sumsevenfivey =\n                  this.sumsevenfivey + this.table[tb1].sevenfive;\n              } else if (\n                this.table[tb1].month == this.tablenew[tb].month &&\n                this.tablenew[tb].month == 1 &&\n                this.table[tb1].year == this.yearcurrent\n              ) {\n                this.tablenew[tb].degreey = this.table[tb1].degree;\n                (this.tablenew[tb].seveny = this.table[tb1].seven),\n                  (this.tablenew[tb].sevenfivey = this.table[tb1].sevenfive),\n                  (this.tablenew[tb].sixthreey = this.table[tb1].sixthree),\n                  (this.tablenew[tb].sixtwofivey = this.table[tb1].sixtwofive),\n                  (this.tablenew[tb].sizey = this.table[tb1].size),\n                  (this.tablenew[tb].sumnumbery = this.table[tb1].sumnumber),\n                  (this.tablenew[tb].threethreey = this.table[tb1].threethree),\n                  (this.tablenew[tb].yeary = this.table[tb1].year);\n                this.sumthreethreey =\n                  this.sumthreethreey + this.table[tb1].threethree;\n                this.sumsixtwofivey =\n                  this.sumsixtwofivey + this.table[tb1].sixtwofive;\n                this.sumsixthreey =\n                  this.sumsixthreey + this.table[tb1].sixthree;\n                this.sumseveny = this.sumseveny + this.table[tb1].seven;\n                this.sumsevenfivey =\n                  this.sumsevenfivey + this.table[tb1].sevenfive;\n              } else if (\n                this.table[tb1].month == this.tablenew[tb].month &&\n                this.tablenew[tb].month == 2 &&\n                this.table[tb1].year == this.yearcurrent\n              ) {\n                this.tablenew[tb].degreey = this.table[tb1].degree;\n                (this.tablenew[tb].seveny = this.table[tb1].seven),\n                  (this.tablenew[tb].sevenfivey = this.table[tb1].sevenfive),\n                  (this.tablenew[tb].sixthreey = this.table[tb1].sixthree),\n                  (this.tablenew[tb].sixtwofivey = this.table[tb1].sixtwofive),\n                  (this.tablenew[tb].sizey = this.table[tb1].size),\n                  (this.tablenew[tb].sumnumbery = this.table[tb1].sumnumber),\n                  (this.tablenew[tb].threethreey = this.table[tb1].threethree),\n                  (this.tablenew[tb].yeary = this.table[tb1].year);\n                this.sumthreethreey =\n                  this.sumthreethreey + this.table[tb1].threethree;\n                this.sumsixtwofivey =\n                  this.sumsixtwofivey + this.table[tb1].sixtwofive;\n                this.sumsixthreey =\n                  this.sumsixthreey + this.table[tb1].sixthree;\n                this.sumseveny = this.sumseveny + this.table[tb1].seven;\n                this.sumsevenfivey =\n                  this.sumsevenfivey + this.table[tb1].sevenfive;\n              } else if (\n                this.table[tb1].month == this.tablenew[tb].month &&\n                this.tablenew[tb].month == 3 &&\n                this.table[tb1].year == this.yearcurrent\n              ) {\n                this.tablenew[tb].degreey = this.table[tb1].degree;\n                (this.tablenew[tb].seveny = this.table[tb1].seven),\n                  (this.tablenew[tb].sevenfivey = this.table[tb1].sevenfive),\n                  (this.tablenew[tb].sixthreey = this.table[tb1].sixthree),\n                  (this.tablenew[tb].sixtwofivey = this.table[tb1].sixtwofive),\n                  (this.tablenew[tb].sizey = this.table[tb1].size),\n                  (this.tablenew[tb].sumnumbery = this.table[tb1].sumnumber),\n                  (this.tablenew[tb].threethreey = this.table[tb1].threethree),\n                  (this.tablenew[tb].yeary = this.table[tb1].year);\n                this.sumthreethreey =\n                  this.sumthreethreey + this.table[tb1].threethree;\n                this.sumsixtwofivey =\n                  this.sumsixtwofivey + this.table[tb1].sixtwofive;\n                this.sumsixthreey =\n                  this.sumsixthreey + this.table[tb1].sixthree;\n                this.sumseveny = this.sumseveny + this.table[tb1].seven;\n                this.sumsevenfivey =\n                  this.sumsevenfivey + this.table[tb1].sevenfive;\n              } else if (\n                this.table[tb1].month == this.tablenew[tb].month &&\n                this.tablenew[tb].month == 4 &&\n                this.table[tb1].year == this.yearcurrent\n              ) {\n                this.tablenew[tb].degreey = this.table[tb1].degree;\n                (this.tablenew[tb].seveny = this.table[tb1].seven),\n                  (this.tablenew[tb].sevenfivey = this.table[tb1].sevenfive),\n                  (this.tablenew[tb].sixthreey = this.table[tb1].sixthree),\n                  (this.tablenew[tb].sixtwofivey = this.table[tb1].sixtwofive),\n                  (this.tablenew[tb].sizey = this.table[tb1].size),\n                  (this.tablenew[tb].sumnumbery = this.table[tb1].sumnumber),\n                  (this.tablenew[tb].threethreey = this.table[tb1].threethree),\n                  (this.tablenew[tb].yeary = this.table[tb1].year);\n                this.sumthreethreey =\n                  this.sumthreethreey + this.table[tb1].threethree;\n                this.sumsixtwofivey =\n                  this.sumsixtwofivey + this.table[tb1].sixtwofive;\n                this.sumsixthreey =\n                  this.sumsixthreey + this.table[tb1].sixthree;\n                this.sumseveny = this.sumseveny + this.table[tb1].seven;\n                this.sumsevenfivey =\n                  this.sumsevenfivey + this.table[tb1].sevenfive;\n              } else if (\n                this.table[tb1].month == this.tablenew[tb].month &&\n                this.tablenew[tb].month == 5 &&\n                this.table[tb1].year == this.yearcurrent\n              ) {\n                this.tablenew[tb].degreey = this.table[tb1].degree;\n                (this.tablenew[tb].seveny = this.table[tb1].seven),\n                  (this.tablenew[tb].sevenfivey = this.table[tb1].sevenfive),\n                  (this.tablenew[tb].sixthreey = this.table[tb1].sixthree),\n                  (this.tablenew[tb].sixtwofivey = this.table[tb1].sixtwofive),\n                  (this.tablenew[tb].sizey = this.table[tb1].size),\n                  (this.tablenew[tb].sumnumbery = this.table[tb1].sumnumber),\n                  (this.tablenew[tb].threethreey = this.table[tb1].threethree),\n                  (this.tablenew[tb].yeary = this.table[tb1].year);\n                this.sumthreethreey =\n                  this.sumthreethreey + this.table[tb1].threethree;\n                this.sumsixtwofivey =\n                  this.sumsixtwofivey + this.table[tb1].sixtwofive;\n                this.sumsixthreey =\n                  this.sumsixthreey + this.table[tb1].sixthree;\n                this.sumseveny = this.sumseveny + this.table[tb1].seven;\n                this.sumsevenfivey =\n                  this.sumsevenfivey + this.table[tb1].sevenfive;\n              } else if (\n                this.table[tb1].month == this.tablenew[tb].month &&\n                this.tablenew[tb].month == 6 &&\n                this.table[tb1].year == this.yearcurrent\n              ) {\n                this.tablenew[tb].degreey = this.table[tb1].degree;\n                (this.tablenew[tb].seveny = this.table[tb1].seven),\n                  (this.tablenew[tb].sevenfivey = this.table[tb1].sevenfive),\n                  (this.tablenew[tb].sixthreey = this.table[tb1].sixthree),\n                  (this.tablenew[tb].sixtwofivey = this.table[tb1].sixtwofive),\n                  (this.tablenew[tb].sizey = this.table[tb1].size),\n                  (this.tablenew[tb].sumnumbery = this.table[tb1].sumnumber),\n                  (this.tablenew[tb].threethreey = this.table[tb1].threethree),\n                  (this.tablenew[tb].yeary = this.table[tb1].year);\n                this.sumthreethreey =\n                  this.sumthreethreey + this.table[tb1].threethree;\n                this.sumsixtwofivey =\n                  this.sumsixtwofivey + this.table[tb1].sixtwofive;\n                this.sumsixthreey =\n                  this.sumsixthreey + this.table[tb1].sixthree;\n                this.sumseveny = this.sumseveny + this.table[tb1].seven;\n                this.sumsevenfivey =\n                  this.sumsevenfivey + this.table[tb1].sevenfive;\n              } else if (\n                this.table[tb1].month == this.tablenew[tb].month &&\n                this.tablenew[tb].month == 7 &&\n                this.table[tb1].year == this.yearcurrent\n              ) {\n                this.tablenew[tb].degreey = this.table[tb1].degree;\n                (this.tablenew[tb].seveny = this.table[tb1].seven),\n                  (this.tablenew[tb].sevenfivey = this.table[tb1].sevenfive),\n                  (this.tablenew[tb].sixthreey = this.table[tb1].sixthree),\n                  (this.tablenew[tb].sixtwofivey = this.table[tb1].sixtwofive),\n                  (this.tablenew[tb].sizey = this.table[tb1].size),\n                  (this.tablenew[tb].sumnumbery = this.table[tb1].sumnumber),\n                  (this.tablenew[tb].threethreey = this.table[tb1].threethree),\n                  (this.tablenew[tb].yeary = this.table[tb1].year);\n                this.sumthreethreey =\n                  this.sumthreethreey + this.table[tb1].threethree;\n                this.sumsixtwofivey =\n                  this.sumsixtwofivey + this.table[tb1].sixtwofive;\n                this.sumsixthreey =\n                  this.sumsixthreey + this.table[tb1].sixthree;\n                this.sumseveny = this.sumseveny + this.table[tb1].seven;\n                this.sumsevenfivey =\n                  this.sumsevenfivey + this.table[tb1].sevenfive;\n              } else if (\n                this.table[tb1].month == this.tablenew[tb].month &&\n                this.tablenew[tb].month == 8 &&\n                this.table[tb1].year == this.yearcurrent\n              ) {\n                this.tablenew[tb].degreey = this.table[tb1].degree;\n                (this.tablenew[tb].seveny = this.table[tb1].seven),\n                  (this.tablenew[tb].sevenfivey = this.table[tb1].sevenfive),\n                  (this.tablenew[tb].sixthreey = this.table[tb1].sixthree),\n                  (this.tablenew[tb].sixtwofivey = this.table[tb1].sixtwofive),\n                  (this.tablenew[tb].sizey = this.table[tb1].size),\n                  (this.tablenew[tb].sumnumbery = this.table[tb1].sumnumber),\n                  (this.tablenew[tb].threethreey = this.table[tb1].threethree),\n                  (this.tablenew[tb].yeary = this.table[tb1].year);\n                this.sumthreethreey =\n                  this.sumthreethreey + this.table[tb1].threethree;\n                this.sumsixtwofivey =\n                  this.sumsixtwofivey + this.table[tb1].sixtwofive;\n                this.sumsixthreey =\n                  this.sumsixthreey + this.table[tb1].sixthree;\n                this.sumseveny = this.sumseveny + this.table[tb1].seven;\n                this.sumsevenfivey =\n                  this.sumsevenfivey + this.table[tb1].sevenfive;\n              } else if (\n                this.table[tb1].month == this.tablenew[tb].month &&\n                this.tablenew[tb].month == 9 &&\n                this.table[tb1].year == this.yearcurrent\n              ) {\n                this.tablenew[tb].degreey = this.table[tb1].degree;\n                (this.tablenew[tb].seveny = this.table[tb1].seven),\n                  (this.tablenew[tb].sevenfivey = this.table[tb1].sevenfive),\n                  (this.tablenew[tb].sixthreey = this.table[tb1].sixthree),\n                  (this.tablenew[tb].sixtwofivey = this.table[tb1].sixtwofive),\n                  (this.tablenew[tb].sizey = this.table[tb1].size),\n                  (this.tablenew[tb].sumnumbery = this.table[tb1].sumnumber),\n                  (this.tablenew[tb].threethreey = this.table[tb1].threethree),\n                  (this.tablenew[tb].yeary = this.table[tb1].year);\n                this.sumthreethreey =\n                  this.sumthreethreey + this.table[tb1].threethree;\n                this.sumsixtwofivey =\n                  this.sumsixtwofivey + this.table[tb1].sixtwofive;\n                this.sumsixthreey =\n                  this.sumsixthreey + this.table[tb1].sixthree;\n                this.sumseveny = this.sumseveny + this.table[tb1].seven;\n                this.sumsevenfivey =\n                  this.sumsevenfivey + this.table[tb1].sevenfive;\n              }\n            }\n          }\n          // console.log(this.tablenew);\n          for (let t = 0; t < this.table.length; t++) {\n            //\n            if (\n              this.table[t].month == 10 &&\n              this.table[t].year == this.yearcurrent - 2\n            ) {\n              this.numthreethree.push(this.table[t].threethree);\n              this.numsixtwofive.push(this.table[t].sixtwofive);\n              this.numsixthree.push(this.table[t].sixthree);\n              this.numseven.push(this.table[t].seven);\n              this.numsevenfive.push(this.table[t].sevenfive);\n            } else if (\n              this.table[t].month == 11 &&\n              this.table[t].year == this.yearcurrent - 2\n            ) {\n              this.numthreethree.push(this.table[t].threethree);\n              this.numsixtwofive.push(this.table[t].sixtwofive);\n              this.numsixthree.push(this.table[t].sixthree);\n              this.numseven.push(this.table[t].seven);\n              this.numsevenfive.push(this.table[t].sevenfive);\n            } else if (\n              this.table[t].month == 12 &&\n              this.table[t].year == this.yearcurrent - 2\n            ) {\n              this.numthreethree.push(this.table[t].threethree);\n              this.numsixtwofive.push(this.table[t].sixtwofive);\n              this.numsixthree.push(this.table[t].sixthree);\n              this.numseven.push(this.table[t].seven);\n              this.numsevenfive.push(this.table[t].sevenfive);\n            } else if (\n              this.table[t].month == 1 &&\n              this.table[t].year == this.yearcurrent - 1\n            ) {\n              this.numthreethree.push(this.table[t].threethree);\n              this.numsixtwofive.push(this.table[t].sixtwofive);\n              this.numsixthree.push(this.table[t].sixthree);\n              this.numseven.push(this.table[t].seven);\n              this.numsevenfive.push(this.table[t].sevenfive);\n            } else if (\n              this.table[t].month == 2 &&\n              this.table[t].year == this.yearcurrent - 1\n            ) {\n              this.numthreethree.push(this.table[t].threethree);\n              this.numsixtwofive.push(this.table[t].sixtwofive);\n              this.numsixthree.push(this.table[t].sixthree);\n              this.numseven.push(this.table[t].seven);\n              this.numsevenfive.push(this.table[t].sevenfive);\n            } else if (\n              this.table[t].month == 3 &&\n              this.table[t].year == this.yearcurrent - 1\n            ) {\n              this.numthreethree.push(this.table[t].threethree);\n              this.numsixtwofive.push(this.table[t].sixtwofive);\n              this.numsixthree.push(this.table[t].sixthree);\n              this.numseven.push(this.table[t].seven);\n              this.numsevenfive.push(this.table[t].sevenfive);\n            } else if (\n              this.table[t].month == 4 &&\n              this.table[t].year == this.yearcurrent - 1\n            ) {\n              this.numthreethree.push(this.table[t].threethree);\n              this.numsixtwofive.push(this.table[t].sixtwofive);\n              this.numsixthree.push(this.table[t].sixthree);\n              this.numseven.push(this.table[t].seven);\n              this.numsevenfive.push(this.table[t].sevenfive);\n            } else if (\n              this.table[t].month == 5 &&\n              this.table[t].year == this.yearcurrent - 1\n            ) {\n              this.numthreethree.push(this.table[t].threethree);\n              this.numsixtwofive.push(this.table[t].sixtwofive);\n              this.numsixthree.push(this.table[t].sixthree);\n              this.numseven.push(this.table[t].seven);\n              this.numsevenfive.push(this.table[t].sevenfive);\n            } else if (\n              this.table[t].month == 6 &&\n              this.table[t].year == this.yearcurrent - 1\n            ) {\n              this.numthreethree.push(this.table[t].threethree);\n              this.numsixtwofive.push(this.table[t].sixtwofive);\n              this.numsixthree.push(this.table[t].sixthree);\n              this.numseven.push(this.table[t].seven);\n              this.numsevenfive.push(this.table[t].sevenfive);\n            } else if (\n              this.table[t].month == 7 &&\n              this.table[t].year == this.yearcurrent - 1\n            ) {\n              this.numthreethree.push(this.table[t].threethree);\n              this.numsixtwofive.push(this.table[t].sixtwofive);\n              this.numsixthree.push(this.table[t].sixthree);\n              this.numseven.push(this.table[t].seven);\n              this.numsevenfive.push(this.table[t].sevenfive);\n            } else if (\n              this.table[t].month == 8 &&\n              this.table[t].year == this.yearcurrent - 1\n            ) {\n              this.numthreethree.push(this.table[t].threethree);\n              this.numsixtwofive.push(this.table[t].sixtwofive);\n              this.numsixthree.push(this.table[t].sixthree);\n              this.numseven.push(this.table[t].seven);\n              this.numsevenfive.push(this.table[t].sevenfive);\n            } else if (\n              this.table[t].month == 9 &&\n              this.table[t].year == this.yearcurrent - 1\n            ) {\n              this.numthreethree.push(this.table[t].threethree);\n              this.numsixtwofive.push(this.table[t].sixtwofive);\n              this.numsixthree.push(this.table[t].sixthree);\n              this.numseven.push(this.table[t].seven);\n              this.numsevenfive.push(this.table[t].sevenfive);\n            }\n            // //\n            else if (\n              this.table[t].month == 10 &&\n              this.table[t].year == this.yearcurrent - 1\n            ) {\n              this.numthreethreecurrent.push(this.table[t].threethree);\n              this.numsixtwofivecurrent.push(this.table[t].sixtwofive);\n              this.numsixthreecurrent.push(this.table[t].sixthree);\n              this.numsevencurrent.push(this.table[t].seven);\n              this.numsevenfivecurrent.push(this.table[t].sevenfive);\n            } else if (\n              this.table[t].month == 11 &&\n              this.table[t].year == this.yearcurrent - 1\n            ) {\n              this.numthreethreecurrent.push(this.table[t].threethree);\n              this.numsixtwofivecurrent.push(this.table[t].sixtwofive);\n              this.numsixthreecurrent.push(this.table[t].sixthree);\n              this.numsevencurrent.push(this.table[t].seven);\n              this.numsevenfivecurrent.push(this.table[t].sevenfive);\n            } else if (\n              this.table[t].month == 12 &&\n              this.table[t].year == this.yearcurrent - 1\n            ) {\n              this.numthreethreecurrent.push(this.table[t].threethree);\n              this.numsixtwofivecurrent.push(this.table[t].sixtwofive);\n              this.numsixthreecurrent.push(this.table[t].sixthree);\n              this.numsevencurrent.push(this.table[t].seven);\n              this.numsevenfivecurrent.push(this.table[t].sevenfive);\n            } else if (\n              this.table[t].month == 1 &&\n              this.table[t].year == this.yearcurrent\n            ) {\n              this.numthreethreecurrent.push(this.table[t].threethree);\n              this.numsixtwofivecurrent.push(this.table[t].sixtwofive);\n              this.numsixthreecurrent.push(this.table[t].sixthree);\n              this.numsevencurrent.push(this.table[t].seven);\n              this.numsevenfivecurrent.push(this.table[t].sevenfive);\n            } else if (\n              this.table[t].month == 2 &&\n              this.table[t].year == this.yearcurrent\n            ) {\n              this.numthreethreecurrent.push(this.table[t].threethree);\n              this.numsixtwofivecurrent.push(this.table[t].sixtwofive);\n              this.numsixthreecurrent.push(this.table[t].sixthree);\n              this.numsevencurrent.push(this.table[t].seven);\n              this.numsevenfivecurrent.push(this.table[t].sevenfive);\n            } else if (\n              this.table[t].month == 3 &&\n              this.table[t].year == this.yearcurrent\n            ) {\n              this.numthreethreecurrent.push(this.table[t].threethree);\n              this.numsixtwofivecurrent.push(this.table[t].sixtwofive);\n              this.numsixthreecurrent.push(this.table[t].sixthree);\n              this.numsevencurrent.push(this.table[t].seven);\n              this.numsevenfivecurrent.push(this.table[t].sevenfive);\n            } else if (\n              this.table[t].month == 4 &&\n              this.table[t].year == this.yearcurrent\n            ) {\n              this.numthreethreecurrent.push(this.table[t].threethree);\n              this.numsixtwofivecurrent.push(this.table[t].sixtwofive);\n              this.numsixthreecurrent.push(this.table[t].sixthree);\n              this.numsevencurrent.push(this.table[t].seven);\n              this.numsevenfivecurrent.push(this.table[t].sevenfive);\n            } else if (\n              this.table[t].month == 5 &&\n              this.table[t].year == this.yearcurrent\n            ) {\n              this.numthreethreecurrent.push(this.table[t].threethree);\n              this.numsixtwofivecurrent.push(this.table[t].sixtwofive);\n              this.numsixthreecurrent.push(this.table[t].sixthree);\n              this.numsevencurrent.push(this.table[t].seven);\n              this.numsevenfivecurrent.push(this.table[t].sevenfive);\n            } else if (\n              this.table[t].month == 6 &&\n              this.table[t].year == this.yearcurrent\n            ) {\n              this.numthreethreecurrent.push(this.table[t].threethree);\n              this.numsixtwofivecurrent.push(this.table[t].sixtwofive);\n              this.numsixthreecurrent.push(this.table[t].sixthree);\n              this.numsevencurrent.push(this.table[t].seven);\n              this.numsevenfivecurrent.push(this.table[t].sevenfive);\n            } else if (\n              this.table[t].month == 7 &&\n              this.table[t].year == this.yearcurrent\n            ) {\n              this.numthreethreecurrent.push(this.table[t].threethree);\n              this.numsixtwofivecurrent.push(this.table[t].sixtwofive);\n              this.numsixthreecurrent.push(this.table[t].sixthree);\n              this.numsevencurrent.push(this.table[t].seven);\n              this.numsevenfivecurrent.push(this.table[t].sevenfive);\n            } else if (\n              this.table[t].month == 8 &&\n              this.table[t].year == this.yearcurrent\n            ) {\n              this.numthreethreecurrent.push(this.table[t].threethree);\n              this.numsixtwofivecurrent.push(this.table[t].sixtwofive);\n              this.numsixthreecurrent.push(this.table[t].sixthree);\n              this.numsevencurrent.push(this.table[t].seven);\n              this.numsevenfivecurrent.push(this.table[t].sevenfive);\n            } else if (\n              this.table[t].month == 9 &&\n              this.table[t].year == this.yearcurrent\n            ) {\n              this.numthreethreecurrent.push(this.table[t].threethree);\n              this.numsixtwofivecurrent.push(this.table[t].sixtwofive);\n              this.numsixthreecurrent.push(this.table[t].sixthree);\n              this.numsevencurrent.push(this.table[t].seven);\n              this.numsevenfivecurrent.push(this.table[t].sevenfive);\n            }\n          }\n          for (let g = 0; g < this.tablenew.length; g++) {\n            if (this.tablenew[g].year == null) {\n              this.numthreethree.splice([g], 0, 0);\n              this.numsixtwofive.splice([g], 0, 0);\n              this.numsixthree.splice([g], 0, 0);\n              this.numseven.splice([g], 0, 0);\n              this.numsevenfive.splice([g], 0, 0);\n            }\n          }\n          // for (let tg = 0; tg < this.tablenew.length; tg++) {\n          //   if (this.tablenew[tg].sumnumbery != this.numsixthreecurrent[tg]) {\n          //     console.log(this.numsixthreecurrent[tg]);\n          //   }\n          // }\n          // console.log(this.tablenew);\n          // console.log(this.numsixthreecurrent);\n          MergeLiquorReportService.getDetailbyfactory_code(this.excise_no).then(\n            (res) => {\n              // console.log(res.data);\n              this.detail = res.data;\n              if (this.detail.length > 1) {\n                this.span = this.detail.length * 2 * 2;\n                this.spanbrand = this.detail.length;\n              }\n              // console.log(this.volumnlist);\n              // for (let s = 0; s < this.series.length; s++) {\n              //   if (this.series[s].year == this.yearcurrent - 2) {\n              //     if (this.series[s].size == 0.33) {\n              //       this.statusthreethree = true;\n              //       this.series[s][\"data\"] = this.numthreethree;\n              //     } else if (this.series[s].size == 0.625) {\n              //       this.statussixtwofive = true;\n              //       this.series[s][\"data\"] = this.numsixtwofive;\n              //     } else if (this.series[s].size == 0.63) {\n              //       this.statussixthree = true;\n              //       console.log(this.series[s].degree);\n              //       if (this.series[s].degree == 35 && this.excise_no == '541022') {\n              //         this.series[s][\"data\"] = [0,0,0,0,0,0,0,0]\n              //       }else{\n              //         this.series[s][\"data\"] = this.numsixthree;\n              //       }\n              //     } else if (this.series[s].size == 0.7) {\n              //       this.statusseven = true;\n              //       this.series[s][\"data\"] = this.numseven;\n              //     } else if (this.series[s].size == 0.75) {\n              //       this.statussevenfive = true;\n              //       this.series[s][\"data\"] = this.numsevenfive;\n              //     }\n              //   } else if (this.series[s].year == this.yearcurrent - 1) {\n              //     if (this.series[s].size == 0.33) {\n              //       this.statusthreethree = true;\n              //       this.series[s][\"data\"] = this.numthreethreecurrent;\n              //     } else if (this.series[s].size == 0.625) {\n              //       this.statussixtwofive = true;\n              //       this.series[s][\"data\"] = this.numsixtwofivecurrent;\n              //     } else if (this.series[s].size == 0.63) {\n              //       this.statussixthree = true;\n\n              //       console.log(this.series[s]);\n              //       if (this.series[s].degree == 35 && this.excise_no == '541022') {\n              //         this.series[s][\"data\"] = [0,0,0,0,0,0,0,0]\n              //       }else{\n              //         this.series[s][\"data\"] = this.numsixthreecurrent;\n              //       }\n              //     } else if (this.series[s].size == 0.7) {\n              //       this.statusseven = true;\n              //       this.series[s][\"data\"] = this.numsevencurrent;\n              //     } else if (this.series[s].size == 0.75) {\n              //       this.statussevenfive = true;\n              //       this.series[s][\"data\"] = this.numsevenfivecurrent;\n              //     }\n              //   }\n              // } \n\n              // this.series[s][\"data\"] = this.numthreethreecurrent;\n              // for (let tc = 0; tc < this.tablenew.length; tc++) {\n              //   if (this.tablenew[tc].month == 10 && this.tablenew[tc].yeary != null) {                  \n              //     this.category.push('ตุลาคม')\n              //   }else if (this.tablenew[tc].month == 11 && this.tablenew[tc].yeary != null) {                  \n              //     this.category.push('พฤศจิกายน')\n              //   }else if (this.tablenew[tc].month == 12 && this.tablenew[tc].yeary != null) {                  \n              //     this.category.push('ธันวาคม')\n              //   }else if (this.tablenew[tc].month == 1 && this.tablenew[tc].yeary != null) {                  \n              //     this.category.push('มกราคม')\n              //   }else if (this.tablenew[tc].month == 2 && this.tablenew[tc].yeary != null) {                  \n              //     this.category.push('กุมภาพันธ์')\n              //   }else if (this.tablenew[tc].month == 3 && this.tablenew[tc].yeary != null) {                  \n              //     this.category.push('มีนาคม')\n              //   }else if (this.tablenew[tc].month == 4 && this.tablenew[tc].yeary != null) {                  \n              //     this.category.push('เมษายน')\n              //   }else if (this.tablenew[tc].month == 5 && this.tablenew[tc].yeary != null) {                  \n              //     this.category.push('พฤษภาคม')\n              //   }else if (this.tablenew[tc].month == 6 && this.tablenew[tc].yeary != null) {                  \n              //     this.category.push('มิถุนายน')\n              //   }else if (this.tablenew[tc].month == 7 && this.tablenew[tc].yeary != null) {                  \n              //     this.category.push('กรกฎาคม')\n              //   }else if (this.tablenew[tc].month == 8 && this.tablenew[tc].yeary != null) {                  \n              //     this.category.push('สิงหาคม')\n              //   }else if (this.tablenew[tc].month == 9 && this.tablenew[tc].yeary != null) {                  \n              //     this.category.push('กันยายน')\n              //   }\n              // }\n              this.loadchartOptions();\n            }\n          );\n        })\n        .catch((err) => {\n          this.show = false;\n          alert(\"ไม่พบข้อมูล\");\n          // this.$router.push(\"/map\");\n          console.log(err);\n        });\n    },\n    loadchartOptions() {\n      this.chartOptions = {\n        chart: {\n          height: 500,\n          type: \"line\",\n          dropShadow: {\n            enabled: true,\n            color: \"#000\",\n            top: 18,\n            left: 7,\n            blur: 10,\n            opacity: 0.2,\n          },\n          toolbar: {\n            show: false,\n          },\n        },\n        colors: [\"#77B6EA\", \"#EC7C30\", \"#9c27b0\", \"#e91e63\", \"#E3DFD6\"],\n        dataLabels: {\n          enabled: true,\n        },\n        stroke: {\n          curve: \"straight\",\n        },\n        title: {\n          text: \"กราฟแสดงการชำระภาษีสุรา ปีงบประมาณ \" + this.yearcurrent,\n          align: \"left\",\n          style: {\n            fontSize: \"9px\",\n          },\n        },\n        grid: {\n          borderColor: \"#e7e7e7\",\n          row: {\n            colors: [\"#f3f3f3\", \"transparent\"], // takes an array which will be repeated on columns\n            opacity: 0.5,\n          },\n        },\n        markers: {\n          size: 0,\n        },\n        xaxis: {\n          // categories: this.month,\n          categories: this.category,\n          title: {\n            text: \"เดือนที่ชำระภาษี\",\n            style: {\n              fontSize: \"9px\",\n            },\n          },\n          labels: {\n            style: {\n              fontSize: \"9px\",\n            },\n          },\n        },\n        yaxis: {\n          title: {\n            text: \"จำนวนดวงแสตมป์ (ดวง)\",\n            style: {\n              fontSize: \"9px\",\n            },\n          },\n          labels: {\n            style: {\n              fontSize: \"9px\",\n            },\n          },\n        },\n        legend: {\n          position: \"top\",\n          horizontalAlign: \"right\",\n          floating: true,\n          offsetY: -25,\n          offsetX: -5,\n        },\n      };\n    },\n    convertdatetothai(datetimes) {\n      if (datetimes) {\n        var d = new Date(datetimes);\n        var mm = d.getMonth() + 1;\n        var dd = d.getDate();\n        var yy = d.getFullYear();\n\n        var myDateString = dd + \"/\" + mm + \"/\" + yy; //(US)\n        // console.log(myDateString);\n        return myDateString;\n      }\n    },\n\n    cal(number, per_each, degree, size) {\n      // console.log(this.excise_no);\n      var x1 = 0;\n      var x2 = 0;\n      var x3 = 0;\n      var x4 = 0;\n      if (this.excise_no == 540002) {\n        x1 = ((10 * number) / 100) * per_each;\n        // console.log(x1);\n        // var x2 = ((155*30)/100)*0.63*1500;\n        x2 = ((150 * degree) / 100) * size * number;\n        // console.log(x2);\n        return (x1 + x2).toFixed(2);\n      } else {\n        x3 = ((2 * number) / 100) * per_each;\n        // console.log(x1);\n        // var x2 = ((155*30)/100)*0.63*1500;\n        x4 = ((155 * degree) / 100) * size * number;\n        // console.log(x2);\n        return (x3 + x4).toFixed(2);\n      }\n    },\n    loadnet() {\n      MergeLiquorReportService.getReportLiquorTax(this.excise_no)\n        .then((res) => {\n          // console.log(res.data);\n          this.list = res.data;\n          // var sum_net_tax = 0;\n          // for (let i = 0; i < this.list.length; i++) {\n          //   this.list[i].net = this.cal(\n          //     res.data[i].number,\n          //     res.data[i].per_each,\n          //     res.data[i].degree,\n          //     res.data[i].size\n          //   );\n          // }\n          // console.log(this.list);\n          this.taxlist = this.groupBy(this.list, \"month\");\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n    },\n    groupBy(array, key) {\n      const result = {};\n      array.forEach((item) => {\n        if (!result[item[key]]) {\n          result[item[key]] = [];\n        }\n        result[item[key]].push(item);\n      });\n      return result;\n    },\n    summonth() {\n      // console.log(this.taxlist);\n      // console.log(this.tablecurrent);\n      // console.log(this.taxlist[1].length);\n      for (let tax = 0; tax < this.tablenew.length; tax++) {\n        this.sumtaxthreethree = 0;\n        this.sumtaxsixthree = 0;\n        this.sumtaxsixtwofive = 0;\n        this.sumtaxseven = 0;\n        this.sumtaxsevenfive = 0;\n        this.sumtaxthreethreec = 0;\n        this.sumtaxsixthreec = 0;\n        this.sumtaxsixtwofivec = 0;\n        this.sumtaxsevenc = 0;\n        this.sumtaxsevenfivec = 0;\n        var m = 10;\n        // console.log(taxlist);\n        if (this.taxlist[tax + 1]) {\n          for (let tbl = 0; tbl < this.taxlist[tax + 1].length; tbl++) {\n            // console.log(this.taxlist[tax+1].length);\n            for (let s = 0; s < this.tbsize.length; s++) {\n              // console.log(this.taxlist[tax + 1][tbl].month,this.taxlist[tax + 1][tbl].year);\n              if (\n                ((this.taxlist[tax + 1][tbl].month == 10 &&\n                  this.taxlist[tax + 1][tbl].year == this.yearcurrent - 1) ||\n                  (this.taxlist[tax + 1][tbl].month == 11 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent - 1) ||\n                  (this.taxlist[tax + 1][tbl].month == 12 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent - 1) ||\n                  (this.taxlist[tax + 1][tbl].month == 1 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent) ||\n                  (this.taxlist[tax + 1][tbl].month == 2 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent) ||\n                  (this.taxlist[tax + 1][tbl].month == 3 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent) ||\n                  (this.taxlist[tax + 1][tbl].month == 4 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent) ||\n                  (this.taxlist[tax + 1][tbl].month == 5 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent) ||\n                  (this.taxlist[tax + 1][tbl].month == 6 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent) ||\n                  (this.taxlist[tax + 1][tbl].month == 7 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent) ||\n                  (this.taxlist[tax + 1][tbl].month == 8 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent) ||\n                  (this.taxlist[tax + 1][tbl].month == 9 &&\n                    this.taxlist[tax + 1][tbl].year == this.yearcurrent)) &&\n                this.taxlist[tax + 1][tbl].size == this.tbsize[s]\n              ) {\n                m = this.taxlist[tax + 1][tbl].month;\n                if (this.tbsize[s] == 0.33) {\n                  if (this.taxlist[tax + 1][tbl].net == null) {\n                    this.taxlist[tax + 1][tbl].net = 0\n                  }\n                  this.sumtaxthreethreec = Math.floor(\n                    parseFloat(this.sumtaxthreethreec) +\n                    parseFloat(this.taxlist[tax + 1][tbl].net)\n                  );\n                } else if (this.tbsize[s] == 0.63) {\n                  if (this.taxlist[tax + 1][tbl].net == null) {\n                    this.taxlist[tax + 1][tbl].net = 0\n                  }\n                  this.sumtaxsixthreec = Math.floor(\n                    parseFloat(this.sumtaxsixthreec) +\n                    parseFloat(this.taxlist[tax + 1][tbl].net)\n                  );\n                } else if (this.tbsize[s] == 0.625) {\n                  if (this.taxlist[tax + 1][tbl].net == null) {\n                    this.taxlist[tax + 1][tbl].net = 0\n                  }\n                  this.sumtaxsixtwofivec = Math.floor(\n                    parseFloat(this.sumtaxsixtwofivec) +\n                    parseFloat(this.taxlist[tax + 1][tbl].net)\n                  );\n                } else if (this.tbsize[s] == 0.7) {\n                  if (this.taxlist[tax + 1][tbl].net == null) {\n                    this.taxlist[tax + 1][tbl].net = 0\n                  }\n                  this.sumtaxsevenc = Math.floor(\n                    parseFloat(this.sumtaxsevenc) +\n                    parseFloat(this.taxlist[tax + 1][tbl].net)\n                  );\n                } else if (this.tbsize[s] == 0.75) {\n                  if (this.taxlist[tax + 1][tbl].net == null) {\n                    this.taxlist[tax + 1][tbl].net = 0\n                  }\n                  this.sumtaxsevenfivec = Math.floor(\n                    parseFloat(this.sumtaxsevenfivec) +\n                    parseFloat(this.taxlist[tax + 1][tbl].net)\n                  );\n                }\n              }\n            }\n          }\n        }\n        if (this.sumtaxthreethreec) {\n          this.taxdatacurrent.push({\n            month: m,\n            size: 0.33,\n            sumtaxy: this.sumtaxthreethreec,\n          });\n        } else {\n          this.taxdatacurrent.push({\n            month: m,\n            size: 0.33,\n            sumtaxy: 0,\n          });\n        }\n        if (this.sumtaxsixthreec) {\n          this.taxdatacurrent.push({\n            month: m,\n            size: 0.63,\n            sumtaxy: this.sumtaxsixthreec,\n          });\n        } else {\n          this.taxdatacurrent.push({\n            month: m,\n            size: 0.63,\n            sumtaxy: 0,\n          });\n        }\n        if (this.sumtaxsixtwofivec) {\n          this.taxdatacurrent.push({\n            month: m,\n            size: 0.625,\n            sumtaxy: this.sumtaxsixtwofivec,\n          });\n        } else {\n          this.taxdatacurrent.push({\n            month: m,\n            size: 0.625,\n            sumtaxy: 0,\n          });\n        }\n        if (this.sumtaxsevenfivec) {\n          this.taxdatacurrent.push({\n            month: m,\n            size: 0.75,\n            sumtaxy: this.sumtaxsevenfivec,\n          });\n        } else {\n          this.taxdatacurrent.push({\n            month: m,\n            size: 0.75,\n            sumtaxy: 0,\n          });\n        }\n        if (this.sumtaxsevenc) {\n          this.taxdatacurrent.push({\n            month: m,\n            size: 0.7,\n            sumtaxy: this.sumtaxsevenc,\n          });\n        } else {\n          this.taxdatacurrent.push({\n            month: m,\n            size: 0.7,\n            sumtaxy: 0,\n          });\n        }\n      }\n      // console.log(this.sumtaxsevenfivec);\n      // console.log(this.taxdatacurrent);\n      for (let mm = 0; mm < this.tablecurrent.length; mm++) {\n        for (let ss = 0; ss < this.tbsize.length; ss++) {\n          var taxs = 0;\n          for (let tc = 0; tc < this.taxdatacurrent.length; tc++) {\n            if (this.tablecurrent[mm].month == this.taxdatacurrent[tc].month) {\n              taxs = taxs + this.taxdatacurrent[tc].sumtaxy;\n              this.tablecurrent[mm].tax = taxs;\n            }\n          }\n        }\n      }\n\n      for (let t = 0; t < this.tablecurrent.length; t++) {\n        if (this.tablecurrent[t].status != true) {\n          // console.log(this.tablecurrent[t].month);\n          this.tablecurrent.splice(t);\n        }\n      }\n      this.sumtotalall();\n    },\n    sumtotalall() {\n      // console.log(this.tablecurrent);\n      var allsummunberthreethree = 0;\n      var sumvolume_liquorthreethree = 0;\n      var allsummunbersixtwofive = 0;\n      var sumvolume_liquorsixtwofive = 0;\n      var allsummunbersixthree = 0;\n      var sumvolume_liquorsixthree = 0;\n      var allsummunberseven = 0;\n      var sumvolume_liquorseven = 0;\n      var allsummunbersevenfive = 0;\n      var sumvolume_liquorsevenfive = 0;\n      var tax = 0;\n      var moresumvolume_liquorsixthree = 0;\n      var moresummunber = 0;\n      for (let a = 0; a < this.tablecurrent.length; a++) {\n        // console.log(this.tablecurrent[a]);\n        if (this.tablecurrent[a].summunber) {\n          allsummunberthreethree =\n            allsummunberthreethree + this.tablecurrent[a].summunber;\n        }\n        if (this.tablecurrent[a].sumvolume_liquor) {\n          sumvolume_liquorthreethree =\n            sumvolume_liquorthreethree + this.tablecurrent[a].sumvolume_liquor;\n        }\n        if (this.tablecurrent[a].summunbersixtwothree) {\n          allsummunbersixtwofive =\n            allsummunbersixtwofive + this.tablecurrent[a].summunbersixtwothree;\n        }\n        if (this.tablecurrent[a].sumvolume_liquorsixtwofive) {\n          sumvolume_liquorsixtwofive =\n            sumvolume_liquorsixtwofive +\n            this.tablecurrent[a].sumvolume_liquorsixtwofive;\n        }\n        if (this.tablecurrent[a].summunbersixthree) {\n          allsummunbersixthree =\n            allsummunbersixthree + this.tablecurrent[a].summunbersixthree;\n        }\n        if (this.tablecurrent[a].sumvolume_liquorsixthree) {\n          sumvolume_liquorsixthree =\n            sumvolume_liquorsixthree +\n            this.tablecurrent[a].sumvolume_liquorsixthree;\n        }\n        if (this.tablecurrent[a].summunberseven) {\n          allsummunberseven =\n            allsummunberseven + this.tablecurrent[a].summunberseven;\n        }\n        if (this.tablecurrent[a].sumvolume_liquorseven) {\n          sumvolume_liquorseven =\n            sumvolume_liquorseven + this.tablecurrent[a].sumvolume_liquorseven;\n        }\n        if (this.tablecurrent[a].summunbersevenfive) {\n          allsummunbersevenfive =\n            allsummunbersevenfive + this.tablecurrent[a].summunbersevenfive;\n        }\n        if (this.tablecurrent[a].sumvolume_liquorsevenfive) {\n          sumvolume_liquorsevenfive =\n            sumvolume_liquorsevenfive +\n            this.tablecurrent[a].sumvolume_liquorsevenfive;\n        }\n        if (this.tablecurrent[a].moresumvolume_liquorsixthree) {\n          moresumvolume_liquorsixthree =\n            moresumvolume_liquorsixthree +\n            this.tablecurrent[a].moresumvolume_liquorsixthree;\n        }\n        if (this.tablecurrent[a].moresummunber) {\n          moresummunber =\n            moresummunber +\n            this.tablecurrent[a].moresummunber;\n        }\n        tax = tax + this.tablecurrent[a].tax;\n      }\n      // console.log(sumvolume_liquorsevenfive);\n      this.sumall.push({\n        allsummunberthreethree: allsummunberthreethree,\n        sumvolume_liquorthreethree: sumvolume_liquorthreethree,\n        allsummunbersixthree: allsummunbersixthree,\n        sumvolume_liquorsixthree: sumvolume_liquorsixthree,\n        allsummunbersixtwofive: allsummunbersixtwofive,\n        sumvolume_liquorsixtwofive: sumvolume_liquorsixtwofive,\n        allsummunberseven: allsummunberseven,\n        sumvolume_liquorseven: sumvolume_liquorseven,\n        allsummunbersevenfive: allsummunbersevenfive,\n        sumvolume_liquorsevenfive: sumvolume_liquorsevenfive,\n        tax: tax,\n        moresumvolume_liquorsixthree: moresumvolume_liquorsixthree,\n        moresummunber: moresummunber,\n      });\n    },\n    numberWithCommas(x) {\n      var r = 0;\n      x = parseInt(x);\n      if (isNaN(x)) {\n        r = \"\";\n      } else {\n        r = x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n      }\n      return r;\n    },\n    gettax() {\n\n      var date = new Date()\n      var year = date.getFullYear() + 543\n      this.taxdatalist = [{ m: 10, n: 'ตุลาคม', y: year - 1 }, { m: 11, n: 'พฤศจิกายน', y: year - 1 }, { m: 12, n: 'ธันวาคม', y: year - 1 }, { m: 1, n: 'มกราคม', y: year }, { m: 2, n: 'กุมภาพันธ์', y: year }, { m: 3, n: 'มีนาคม', y: year }, { m: 4, n: 'เมษายน', y: year }, { m: 5, n: 'พฤษภาคม', y: year }, { m: 6, n: 'มิถุนายน', y: year }]\n      MergeLiquorReportService.getaxlist(this.excise_no, '', '', '', '', '').then(\n        (res) => {\n          this.taxdatalist = res.data\n\n          // console.log(this.taxdatalist);\n        });\n        MergeLiquorReportService.getnettax(this.excise_no, '', '').then(\n          (taxs) => {\n            this.taxsum = taxs.data\n            // console.log(taxs.data);\n          });\n          MergeLiquorReportService.getnumber(this.excise_no, '', '').then(\n          (taxs) => {\n            this.sumnumber = taxs.data\n            // console.log(taxs.data);\n          });\n          MergeLiquorReportService.getvolume(this.excise_no, '', '').then(\n          (taxs) => {\n            this.sumvolume = taxs.data\n            // console.log(taxs.data);\n          });\n      // for (let tx = 0; tx < this.taxdatalist.length; tx++) {\n      //     MergeLiquorReportService.getnumber(this.excise_no, this.taxdatalist[tx].m, this.taxdatalist[tx].y).then(\n      //     (res) => {\n      //       // console.log(taxs.data.tax);\n      //       var num = 0\n      //       var vol = 0 \n      //       num = res.data.number\n      //       vol = res.data.volume\n      //       num = num == null ? 0 : num;\n      //       vol = vol == null ? 0 : vol;\n      //       this.sumnumber.push(num)\n      //       this.sumvolume.push(vol)\n      //       this.allnum = this.allnum+num\n      //       this.allvol = this.allvol+vol\n      //     });\n      // }\n    }\n  },\n  mounted() {\n\n    this.excise_no = this.$route.params.id;\n    MergeLiquorReportService.getnetall(this.excise_no).then(\n      (taxs) => {\n        // console.log(taxs.data);\n        var net_tax = 0\n        var number = 0\n        var volume = 0\n        net_tax = taxs.data.net_tax\n        net_tax = net_tax == null ? 0 : net_tax;\n        number = taxs.data.number\n        number = number == null ? 0 : number;\n        volume = taxs.data.volume\n        volume = volume == null ? 0 : volume;\n        this.net_tax = net_tax\n        this.allnum = number\n        this.allvol = volume\n      });\n    MergeLiquorReportService.getDetailbyfactory_code(this.excise_no).then(\n      (res) => {\n        // console.log(res.data);\n        this.detail = res.data;\n        this.gettax()\n        if (this.detail.length > 1) {\n          this.span = this.detail.length * 2 * 2;\n          this.spanbrand = this.detail.length;\n        }\n        for (let s = 0; s < this.detail.length; s++) {\n          MergeLiquorReportService.getoverall(this.excise_no, this.detail[s].brand_name, this.detail[s].degree, this.detail[s].size).then(\n            (taxs) => {\n              // console.log(taxs.data);\n              var overallnum = 0\n              var overallvol = 0\n              overallnum = taxs.data.num\n              overallvol = taxs.data.vol\n              overallnum = overallnum == null ? 0 : overallnum;\n              overallvol = overallvol == null ? 0 : overallvol;\n              this.overalltax.push(overallnum)\n              this.overalltax.push(overallvol)\n              if (this.overalltax.length == parseInt(this.detail.length * 2)) {\n                this.overalltax.push(this.allnum)\n                this.overalltax.push(this.allvol)\n                this.overalltax.push(this.net_tax)\n              }\n            });\n\n          if (s == 0) {\n            this.headmonthtext.push('เดือนที่ชำระภาษี')\n          }\n          this.headmonthtext.push('จำนวนแสตมป์')\n          this.headmonthtext.push('ปริมาณน้ำสุรา')\n          // console.log(this.headmonthtext);\n          MergeLiquorReportService.getdatagraph(this.excise_no, this.detail[s].brand_name, this.detail[s].degree, this.detail[s].size).then(\n            (res) => {\n              // console.log(res.data);\n              var list = res.data\n              this.detail[s].data = list\n            });\n        }\n\n\n        for (let s = 0; s < this.detail.length; s++) {\n          MergeLiquorReportService.getdatagraph(this.excise_no, this.detail[s].brand_name, this.detail[s].degree, this.detail[s].size).then(\n            (res) => {\n              // console.log(res.data);\n              var list = res.data\n              this.detail[s].data = list\n              this.series.push({\n                name:\n                  this.detail[s].brand_name +\n                  \" - \" +\n                  this.detail[s].degree +\n                  \" - \" +\n                  this.detail[s].size,\n                size: this.detail[s].size,\n                brand: this.detail[s].brand_name,\n                style: {\n                  fontSize: \"9px\",\n                },\n                degree: this.detail[s].degree,\n                data: list,\n              })\n            })\n\n        }\n        this.headmonthtext.push('จำนวนแสตมป์')\n        this.headmonthtext.push('ปริมาณน้ำสุรา')\n        this.headmonthtext.push('ภาษีสุทธิ')\n\n        // console.log(this.taxsum);\n      });\n\n    const date = new Date();\n    this.date = date.toLocaleDateString(\"th-TH\", {\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n    });\n    this.loadnet();\n    // console.log(this.$route.params.id);\n    const d = new Date();\n    this.yearcurrent = parseInt(d.getFullYear() + 543);\n    this.getheader();\n    //  console.log(this.yearcurrent+543);\n    // this.loadDetail();\n    this.loaddata();\n  },\n  computed: {},\n};\n</script>\n\n<style>\nhtml,\nbody {\n  font-size: 9px;\n  height: 100%;\n  margin: 0px;\n}\n\n.ldmap_placeholder {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  min-width: 100px;\n  /* min-height: 620px !important; */\n  background: #eee;\n  font: 12px/1.2 Tahoma, sans-serif;\n  overflow: hidden;\n  z-index: 0;\n  user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  -webkit-touch-callout: none;\n}\n\nth {\n  font-weight: normal;\n}\n\n.apexcharts-legend-text {\n  font-size: 9px !important;\n}\n</style>\n"]}]}