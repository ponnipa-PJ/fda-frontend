{"remainingRequest":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ponnipa/Documents/GitHub/fda-frontend/src/components/scraping.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/src/components/scraping.vue","mtime":1688819467427},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1687492401267},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/babel-loader/lib/index.js","mtime":1687492401655},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1687492401267},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/vue-loader/lib/index.js","mtime":1687492401738}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JwovLyBpbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgUHJvZHVjdHNTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL1Byb2R1Y3RzU2VydmljZS5qcycKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQXBwIiwKICBjb21wb25lbnRzOiB7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdHlwZTogMCwKICAgICAgbGlzdDogW10sCiAgICAgIHVybDonJywKICAgICAgZmlsZTonJywKICAgICAgc3RhdHVzOmZhbHNlLAogICAgICB1cmxQYXRoOicnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICBnZXRwcm9kdWN0KCl7CiAgICBQcm9kdWN0c1NlcnZpY2UuZ2V0cHJvZHVjdHMoJycpLnRoZW4oKHJlcyk9PnsKICAgICAgdGhpcy5saXN0ID0gcmVzLmRhdGEKICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgfSkKICAgfSwKICAgc2NyYXBlKGRhdGEpewogICAgLy8gdmFyIHVybCA9ICdmaWxlOi8vL1VzZXJzL3Bvbm5pcGEvRG9jdW1lbnRzL0dpdEh1Yi9zaG9waHRtbC8lRjAlOUYlOEQlOTIlMjAoJUUwJUI4JTgyJUUwJUI4JUFEJUUwJUI4JTg3JUUwJUI5JTgxJUUwJUI4JTk3JUUwJUI5JTg5MTAwJTI1KSUyMEplbGx5JTIwRmliZXIlMjAlRTAlQjklODAlRTAlQjglODglRTAlQjglQTUlRTAlQjglQTUlRTAlQjglQjUlRTAlQjklODglRTAlQjklODQlRTAlQjglOUYlRTAlQjklODAlRTAlQjglOUElRTAlQjglQUQlRTAlQjglQTMlRTAlQjklOEMlMjAlRTAlQjglQTUlRTAlQjglOTQlRTAlQjglOUUlRTAlQjglQjglRTAlQjglODclMjAlRTAlQjglQTUlRTAlQjglOTQlRTAlQjglOTklRTAlQjklODklRTAlQjglQjMlRTAlQjglQUIlRTAlQjglOTklRTAlQjglQjElRTAlQjglODElMjAxJUUwJUI4JTgxJUUwJUI4JUE1JUUwJUI5JTg4JUUwJUI4JUFEJUUwJUI4JTg3XzUlMjAlRTAlQjglOEIlRTAlQjglQUQlRTAlQjglODclMjBfJTIwU2hvcGVlJTIwVGhhaWxhbmQuaHRtbCcKICAgIHZhciBwYXRoID0gewogICAgICBpZDpkYXRhLmlkLAogICAgICBwYXRoOmRhdGEucGF0aAogICAgfQogICAgLy8gY29uc29sZS5sb2cocGF0aCk7CiAgICBQcm9kdWN0c1NlcnZpY2Uuc2NyYXBpbmcocGF0aCkudGhlbigocmVzKT0+ewogICAgICB2YXIgY29uID0gcmVzLmRhdGEKICAgICAgLy8gY29uID0gY29uLnJlcGxhY2VBbGwoLyhbXHVFMDAwLVx1RjhGRl18XHVEODNDW1x1REYwMC1cdURGRkZdfFx1RDgzRFtcdURDMDAtXHVEREZGXSkvZywgJycpCiAgICAgIGNvbiA9IGNvbi5yZXBsYWNlQWxsKC8oPzpbXHUyNzAwLVx1MjdiZl18KD86XHVkODNjW1x1ZGRlNi1cdWRkZmZdKXsyfXxbXHVkODAwLVx1ZGJmZl1bXHVkYzAwLVx1ZGZmZl18W1x1MDAyMy1cdTAwMzldXHVmZTBmP1x1MjBlM3xcdTMyOTl8XHUzMjk3fFx1MzAzZHxcdTMwMzB8XHUyNGMyfFx1ZDgzY1tcdWRkNzAtXHVkZDcxXXxcdWQ4M2NbXHVkZDdlLVx1ZGQ3Zl18XHVkODNjXHVkZDhlfFx1ZDgzY1tcdWRkOTEtXHVkZDlhXXxcdWQ4M2NbXHVkZGU2LVx1ZGRmZl18XHVkODNjW1x1ZGUwMS1cdWRlMDJdfFx1ZDgzY1x1ZGUxYXxcdWQ4M2NcdWRlMmZ8XHVkODNjW1x1ZGUzMi1cdWRlM2FdfFx1ZDgzY1tcdWRlNTAtXHVkZTUxXXxcdTIwM2N8XHUyMDQ5fFtcdTI1YWEtXHUyNWFiXXxcdTI1YjZ8XHUyNWMwfFtcdTI1ZmItXHUyNWZlXXxcdTAwYTl8XHUwMGFlfFx1MjEyMnxcdTIxMzl8XHVkODNjXHVkYzA0fFtcdTI2MDAtXHUyNkZGXXxcdTJiMDV8XHUyYjA2fFx1MmIwN3xcdTJiMWJ8XHUyYjFjfFx1MmI1MHxcdTJiNTV8XHUyMzFhfFx1MjMxYnxcdTIzMjh8XHUyM2NmfFtcdTIzZTktXHUyM2YzXXxbXHUyM2Y4LVx1MjNmYV18XHVkODNjXHVkY2NmfFx1MjkzNHxcdTI5MzV8W1x1MjE5MC1cdTIxZmZdKS9nLCAnJyk7CiAgICAgIC8vIGNvbnNvbGUubG9nKGNvbik7CiAgICAgIGlmIChyZXMuZGF0YSkgewogICAgICAgIHZhciBwcm8gPSB7CiAgICAgICAgICBjb250ZW50OmNvbiwKICAgICAgICAgIHN0YXR1czoxCiAgICAgICAgfQogICAgICAgIC8vIGNvbnNvbGUubG9nKHBybyk7CiAgICAgICAgUHJvZHVjdHNTZXJ2aWNlLnVwZGF0ZXByb2R1Y3QoZGF0YS5pZCxwcm8pLnRoZW4oKCk9PnsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICAgIGFsZXJ0KCfguJrguLHguJnguJfguLbguIHguYDguKPguLXguKLguJrguKPguYnguK3guKInKQogICAgICAgICAgdGhpcy5nZXRwcm9kdWN0KCkKICAgICAgICB9KQogICAgICB9CiAgICB9KQogICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXRwcm9kdWN0KCkKICAgIC8vIHZhciB1cmwgPSAnZmlsZTovLy9Vc2Vycy9wb25uaXBhL0RvY3VtZW50cy9HaXRIdWIvc2hvcGh0bWwvJUYwJTlGJThEJTkyJTIwKCVFMCVCOCU4MiVFMCVCOCVBRCVFMCVCOCU4NyVFMCVCOSU4MSVFMCVCOCU5NyVFMCVCOSU4OTEwMCUyNSklMjBKZWxseSUyMEZpYmVyJTIwJUUwJUI5JTgwJUUwJUI4JTg4JUUwJUI4JUE1JUUwJUI4JUE1JUUwJUI4JUI1JUUwJUI5JTg4JUUwJUI5JTg0JUUwJUI4JTlGJUUwJUI5JTgwJUUwJUI4JTlBJUUwJUI4JUFEJUUwJUI4JUEzJUUwJUI5JThDJTIwJUUwJUI4JUE1JUUwJUI4JTk0JUUwJUI4JTlFJUUwJUI4JUI4JUUwJUI4JTg3JTIwJUUwJUI4JUE1JUUwJUI4JTk0JUUwJUI4JTk5JUUwJUI5JTg5JUUwJUI4JUIzJUUwJUI4JUFCJUUwJUI4JTk5JUUwJUI4JUIxJUUwJUI4JTgxJTIwMSVFMCVCOCU4MSVFMCVCOCVBNSVFMCVCOSU4OCVFMCVCOCVBRCVFMCVCOCU4N181JTIwJUUwJUI4JThCJUUwJUI4JUFEJUUwJUI4JTg3JTIwXyUyMFNob3BlZSUyMFRoYWlsYW5kLmh0bWwnCiAgICAvLyBQcm9kdWN0c1NlcnZpY2Uuc2NyYXBpbmcodXJsKS50aGVuKChyZXMpPT57CiAgICAvLyAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgIC8vIH0pCiAgfSwKfTsK"},{"version":3,"sources":["scraping.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"scraping.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container mt-5\" style=\"height: 600px\">\n      <table class=\"table\" v-if=\"list.length > 0\">\n        <thead>\n          <tr>\n            <th scope=\"col\">#</th>\n            <th scope=\"col\">url</th>\n            <th scope=\"col\"></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"(l, i) in list\" :key=\"i\">\n            <td :style=\"l.bg\">{{ i + 1 }}</td>\n            <td :style=\"l.bg\" style=\"width:50%\">{{ l.url }}</td>\n           \n            <td :style=\"l.bg\">\n              <button @click=\"scrape(l)\" type=\"submit\" class=\"mb-3 btn btn-success\">\n      scraping\n    </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <div v-if=\"list.length == 0\" class=\"mt-5\">\n<h3 style=\"text-align:center\">ไม่พบข้อมูล</h3>\n      </div>\n  </div>\n</template>\n\n<script>\n// import moment from 'moment'\n// import axios from \"axios\";\nimport ProductsService from '../services/ProductsService.js'\n\nexport default {\n  name: \"App\",\n  components: {},\n  data() {\n    return {\n      type: 0,\n      list: [],\n      url:'',\n      file:'',\n      status:false,\n      urlPath:''\n    };\n  },\n  methods: {\n   getproduct(){\n    ProductsService.getproducts('').then((res)=>{\n      this.list = res.data\n      console.log(res.data);\n    })\n   },\n   scrape(data){\n    // var url = 'file:///Users/ponnipa/Documents/GitHub/shophtml/%F0%9F%8D%92%20(%E0%B8%82%E0%B8%AD%E0%B8%87%E0%B9%81%E0%B8%97%E0%B9%89100%25)%20Jelly%20Fiber%20%E0%B9%80%E0%B8%88%E0%B8%A5%E0%B8%A5%E0%B8%B5%E0%B9%88%E0%B9%84%E0%B8%9F%E0%B9%80%E0%B8%9A%E0%B8%AD%E0%B8%A3%E0%B9%8C%20%E0%B8%A5%E0%B8%94%E0%B8%9E%E0%B8%B8%E0%B8%87%20%E0%B8%A5%E0%B8%94%E0%B8%99%E0%B9%89%E0%B8%B3%E0%B8%AB%E0%B8%99%E0%B8%B1%E0%B8%81%201%E0%B8%81%E0%B8%A5%E0%B9%88%E0%B8%AD%E0%B8%87_5%20%E0%B8%8B%E0%B8%AD%E0%B8%87%20_%20Shopee%20Thailand.html'\n    var path = {\n      id:data.id,\n      path:data.path\n    }\n    // console.log(path);\n    ProductsService.scraping(path).then((res)=>{\n      var con = res.data\n      // con = con.replaceAll(/([\\uE000-\\uF8FF]|\\uD83C[\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDDFF])/g, '')\n      con = con.replaceAll(/(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\u0023-\\u0039]\\ufe0f?\\u20e3|\\u3299|\\u3297|\\u303d|\\u3030|\\u24c2|\\ud83c[\\udd70-\\udd71]|\\ud83c[\\udd7e-\\udd7f]|\\ud83c\\udd8e|\\ud83c[\\udd91-\\udd9a]|\\ud83c[\\udde6-\\uddff]|\\ud83c[\\ude01-\\ude02]|\\ud83c\\ude1a|\\ud83c\\ude2f|\\ud83c[\\ude32-\\ude3a]|\\ud83c[\\ude50-\\ude51]|\\u203c|\\u2049|[\\u25aa-\\u25ab]|\\u25b6|\\u25c0|[\\u25fb-\\u25fe]|\\u00a9|\\u00ae|\\u2122|\\u2139|\\ud83c\\udc04|[\\u2600-\\u26FF]|\\u2b05|\\u2b06|\\u2b07|\\u2b1b|\\u2b1c|\\u2b50|\\u2b55|\\u231a|\\u231b|\\u2328|\\u23cf|[\\u23e9-\\u23f3]|[\\u23f8-\\u23fa]|\\ud83c\\udccf|\\u2934|\\u2935|[\\u2190-\\u21ff])/g, '');\n      // console.log(con);\n      if (res.data) {\n        var pro = {\n          content:con,\n          status:1\n        }\n        // console.log(pro);\n        ProductsService.updateproduct(data.id,pro).then(()=>{\n          // console.log(res.data);\n          alert('บันทึกเรียบร้อย')\n          this.getproduct()\n        })\n      }\n    })\n   }\n  },\n  mounted() {\n    this.getproduct()\n    // var url = 'file:///Users/ponnipa/Documents/GitHub/shophtml/%F0%9F%8D%92%20(%E0%B8%82%E0%B8%AD%E0%B8%87%E0%B9%81%E0%B8%97%E0%B9%89100%25)%20Jelly%20Fiber%20%E0%B9%80%E0%B8%88%E0%B8%A5%E0%B8%A5%E0%B8%B5%E0%B9%88%E0%B9%84%E0%B8%9F%E0%B9%80%E0%B8%9A%E0%B8%AD%E0%B8%A3%E0%B9%8C%20%E0%B8%A5%E0%B8%94%E0%B8%9E%E0%B8%B8%E0%B8%87%20%E0%B8%A5%E0%B8%94%E0%B8%99%E0%B9%89%E0%B8%B3%E0%B8%AB%E0%B8%99%E0%B8%B1%E0%B8%81%201%E0%B8%81%E0%B8%A5%E0%B9%88%E0%B8%AD%E0%B8%87_5%20%E0%B8%8B%E0%B8%AD%E0%B8%87%20_%20Shopee%20Thailand.html'\n    // ProductsService.scraping(url).then((res)=>{\n    //   console.log(res.data);\n    // })\n  },\n};\n</script>\n\n<style>\nhtml,\nbody {\n  height: 100%;\n  margin: 0px;\n}</style>\n"]}]}