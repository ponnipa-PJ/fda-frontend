{"remainingRequest":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ponnipa/Documents/GitHub/fda-frontend/src/components/Map.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/src/components/Map.vue","mtime":1679877452873},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/css-loader/dist/cjs.js","mtime":1687492401554},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1687492401892},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/postcss-loader/src/index.js","mtime":1687492401651},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1687492401267},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/vue-loader/lib/index.js","mtime":1687492401738}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmh0bWwsCmJvZHkgewogIGZvbnQtc2l6ZTogOXB4ICFpbXBvcnRhbnQ7CiAgaGVpZ2h0OiAxMDAlOwogIG1hcmdpbjogMHB4Owp9Ci5sZG1hcF9wbGFjZWhvbGRlciB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogNzAwcHggIWltcG9ydGFudDsKICBtaW4td2lkdGg6IDEwMHB4OwogIG1pbi1oZWlnaHQ6IDcwMHB4ICFpbXBvcnRhbnQ7CiAgYmFja2dyb3VuZDogI2VlZTsKICBmb250OiAxMnB4LzEuMiBUYWhvbWEsIHNhbnMtc2VyaWY7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICB6LWluZGV4OiAwOwogIHVzZXItc2VsZWN0OiBub25lOwogIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7CiAgLW1zLXVzZXItc2VsZWN0OiBub25lOwogIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTsKfQoubGRtYXBfcGxhY2Vob2xkZXIgLmxkbWFwX2ZyYW1lIC5sZG1hcF9wb3B1cCB7CiAgbWluLXdpZHRoOiA4MDBweCAhaW1wb3J0YW50OwogIG1pbi1oZWlnaHQ6IDUwMHB4ICFpbXBvcnRhbnQ7Cn0KLmxkbWFwX3BsYWNlaG9sZGVyIC5sZG1hcF9mcmFtZSAubGRtYXBfcG9wdXBfZGV0YWlsIHsKICBtYXgtd2lkdGg6IDk3MCUgIWltcG9ydGFudDsKICBtYXgtaGVpZ2h0OiA1NDBweCAhaW1wb3J0YW50Owp9Ci5sZG1hcF9wbGFjZWhvbGRlciAubGRtYXBfZnJhbWUgLmxkbWFwX3BvcHVwX3RpdGxlIHsKICBmb250LXNpemU6IDlweCAhaW1wb3J0YW50Owp9Cg=="},{"version":3,"sources":["Map.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Map.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div v-if=\"show\" style=\"padding: 20px\">\n      <div class=\"row\">\n        <div class=\"col-6\">\n          <div>{{ data.excise_name }}</div>\n          <div>ทะเบียนสรรพสามิต {{ data.excise_id }}</div>\n          <img src=\"\" />\n          <div\n            class=\"mt-5\"\n            style=\"border-style: solid; padding: 10px; text-align: center\"\n          >\n            <label>พิกัด {{ data.latitude }} , {{ data.longitude }}</label>\n          </div>\n        </div>\n        <div class=\"col-6\">\n          <div style=\"text-align: right\">ข้อมูล ณ วันที่ {{ date }}</div>\n          <div style=\"text-align: right\">\n            {{ data.industrial_moo }} {{ data.industrial_subdistrict }}\n            {{ data.industrial_district }} {{ data.industrial_province }}\n          </div>\n          <div id=\"chart\">\n            <apexchart\n              type=\"line\"\n              height=\"350\"\n              :options=\"chartOptions\"\n              :series=\"series\"\n            ></apexchart>\n          </div>\n          <table class=\"table table-bordered\">\n            <thead>\n              <tr>\n                <th scope=\"col\">จำนวนดวงแสตมป์</th>\n                <th scope=\"col\" style=\"text-align: center\">รายการสินค้า</th>\n              </tr>\n              <tr>\n                <th scope=\"col\">(ดวง)</th>\n                <th scope=\"col\" v-for=\"s in detail\" :key=\"s.name\">\n                  {{ s.brand_name }}\n                </th>\n                <th\n                  rowspan=\"4\"\n                  style=\"text-align: center\"\n                  align=\"center\"\n                  scope=\"col\"\n                >\n                  รวม\n                </th>\n              </tr>\n              <tr>\n                <th scope=\"col\"></th>\n                <th\n                  scope=\"col\"\n                  style=\"text-align: right\"\n                  v-for=\"s in detail\"\n                  :key=\"s.name\"\n                >\n                  {{ s.degree }} ดีกรี\n                </th>\n              </tr>\n              <tr>\n                <th scope=\"col\">เดือนที่ชำระภาษี</th>\n                <th\n                  scope=\"col\"\n                  style=\"text-align: right\"\n                  v-for=\"s in detail\"\n                  :key=\"s.name\"\n                >\n                  {{ s.size }} ลิตร\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"t in table\" :key=\"t.name\">\n                <th v-if=\"t.month == 1\">มกราคม {{ t.year }}</th>\n                <th v-if=\"t.month == 2\">กุมภาพันธ์ {{ t.year }}</th>\n                <th v-if=\"t.month == 3\">มีนาคม {{ t.year }}</th>\n                <th v-if=\"t.month == 4\">เมษายน {{ t.year }}</th>\n                <th v-if=\"t.month == 5\">พฤษภาคม {{ t.year }}</th>\n                <th v-if=\"t.month == 6\">มิถุนายน {{ t.year }}</th>\n                <th v-if=\"t.month == 7\">กรกฎาคม {{ t.year }}</th>\n                <th v-if=\"t.month == 8\">สิงหาคม {{ t.year }}</th>\n                <th v-if=\"t.month == 9\">กันยายน {{ t.year }}</th>\n                <th v-if=\"t.month == 10\">ตุลาคม {{ t.year }}</th>\n                <th v-if=\"t.month == 11\">พฤศจิกายน {{ t.year }}</th>\n                <th v-if=\"t.month == 12\">ธันวาคม {{ t.year }}</th>\n                <th v-if=\"statusthreethree\" style=\"text-align: right\">\n                  {{ t.threethree }}\n                </th>\n                <th v-if=\"statussixtwofive\" style=\"text-align: right\">\n                  {{ t.sixtwofive }}\n                </th>\n                <th v-if=\"statussixthree\" style=\"text-align: right\">\n                  {{ t.sixthree }}\n                </th>\n                <th v-if=\"statusseven\" style=\"text-align: right\">\n                  {{ t.seven }}\n                </th>\n                <th v-if=\"statussevenfive\" style=\"text-align: right\">\n                  {{ t.sevenfive }}\n                </th>\n                <th style=\"text-align: right\">{{ t.sumnumber }}</th>\n              </tr>\n              <tr>\n                <th>รวม</th>\n                <th v-if=\"sumthreethree != 0\" style=\"text-align: right\">\n                  {{ sumthreethree }}\n                </th>\n                <th v-if=\"sumsixtwofive != 0\" style=\"text-align: right\">\n                  {{ sumsixtwofive }}\n                </th>\n                <th v-if=\"sumsixthree != 0\" style=\"text-align: right\">\n                  {{ sumsixthree }}\n                </th>\n                <th v-if=\"sumseven != 0\" style=\"text-align: right\">\n                  {{ sumseven }}\n                </th>\n                <th v-if=\"sumsevenfive != 0\" style=\"text-align: right\">\n                  {{ sumsevenfive }}\n                </th>\n                <th v-if=\"total != 0\" style=\"text-align: right\">{{ total }}</th>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n    <longdo-map\n      :zoom=\"10\"\n      v-if=\"markers\"\n      :location=\"{ lon: 100.19, lat: 19.22 }\"\n      :lastView=\"false\"\n      @load=\"event\"\n    >\n      <longdo-map-marker\n        v-for=\"(item, i) in markers\"\n        :key=\"i\"\n        :id=\"item.id\"\n        :location=\"item.location\"\n        :title=\"item.title\"\n        :icon=\"item.icon\"\n      />\n    </longdo-map>\n  </div>\n</template>\n\n<script>\n// import longdo from \"longdo-map-vue\";\nimport DetailExciseService from \"../services/DetailExciseService.js\";\nimport MergeLiquorReportService from \"../services/MergeLiquorReportService\";\n\nexport default {\n  name: \"App\",\n  components: {},\n  data() {\n    return {\n      show: false,\n      loncurrent: \"\",\n      locat: {},\n      locationList: [\n        { lon: 99, lat: 14 },\n        { lon: 100, lat: 13 },\n        { lon: 102, lat: 13 },\n        { lon: 103, lat: 14 },\n      ],\n      markers: [],\n      series: [],\n      numthreethree: [],\n      numsixtwofive: [],\n      numsixthree: [],\n      numseven: [],\n      numsevenfive: [],\n      table: [],\n      chartOptions: {},\n      detail: [],\n      month: [],\n      sumthreethree: 0,\n      sumsixtwofive: 0,\n      sumsixthree: 0,\n      sumseven: 0,\n      sumsevenfive: 0,\n      total: 0,\n      checkreport: [],\n    };\n  },\n  methods: {\n    go() {},\n    loadMap(map) {\n      // console.log(map);\n      console.log(map.location());\n      this.loncurrent = map.location().lon;\n      this.latcurrent = map.location().lat;\n    },\n    event(map) {\n      // console.log(map);\n      map.Event.bind(\"overlayClick\", function (overlayClick) {\n        // console.log(overlayClick);\n        var title = overlayClick.title;\n        var lon = overlayClick.location().lon\n        var lat = overlayClick.location().lat\n        DetailExciseService.getlExciseNo(title,lon,lat).then((res) => {\n          // console.log(res.data);\n          window.open(\n            \"/map/\" + res.data.excise_no + \"/map\",\n            \"_blank\" // <- This is what makes it open in a new window.\n          );\n        });\n      });\n    },\n    loadmarker() {\n      // ReportService.getCheckReport().then((res) => {\n        // console.log(res.data);\n        // this.checkreport = res.data;\n        DetailExciseService.getDetailmap()\n        .then((res) => {\n          // console.log(res.data);\n          var map = res.data;\n          for (let i = 0; i < map.length; i++) {\n            var desc =\n              // \" โดย \" +\n              // map[i].excise_by +\n              // \"<br/>\" +\n              // \"ทะเบียนสรรพสามิต \" +\n              // map[i].excise_id +\n              // \"<br/>\" +\n              // map[i].industrial_moo +\n              // \" \" +\n              // map[i].industrial_subdistrict +\n              // \" \" +\n              // map[i].industrial_district +\n              // \" \" +\n              // map[i].industrial_province +\n              // \"<br/>\" +\n              // \"พิกัด \" +\n              // map[i].latitude +\n              // \",\" +\n              // map[i].longitude +\n              // \"<br/><br/>\" +\n              '<iframe src=\"map/' +\n              map[i].excise_no +\n              '\" height=\"800\" width=\"800\" title=\"Iframe Example\"></iframe>';\n            // '<button onclick=\"alert(0000)\">test</button>'+\n            // '<div><a href=\"map/' +\n            // map[i].excise_no +\n            // '\">รายละเอียดเพิ่มเติม</a></div>';\n            this.markers.push({\n              location: { lon: map[i].longitude, lat: map[i].latitude },\n              title: map[i].excise_name,\n              id:map[i].excise_no,\n              detail: desc,\n              excise_no: map[i].excise_no,\n              excise_id: map[i].excise_id,\n              icon: { url: \"https://api-excise.siwapreeya.in.th/map_blue.png\" },\n              number: map[i].number,\n            });\n          }\n          // console.log(this.markers);\n          for (let m = 0; m < this.markers.length; m++) {\n            // console.log(this.markers[m].number);\n              if (this.markers[m].number <= 200) {\n                this.markers[m].icon = {\n                  url: \"https://api-excise.siwapreeya.in.th/red.png\",\n                };\n              }\n          }\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n      // console.log(this.markers);\n      // });\n      \n    },\n    loadDetail() {\n      MergeLiquorReportService.getTablebyfactory_code(541164).then((res) => {\n        // console.log(res.data);\n        this.table = res.data;\n        for (let t = 0; t < this.table.length; t++) {\n          this.numthreethree.push(this.table[t].threethree);\n          this.numsixtwofive.push(this.table[t].sixtwofive);\n          this.numsixthree.push(this.table[t].sixthree);\n          this.numseven.push(this.table[t].seven);\n          this.numsevenfive.push(this.table[t].sevenfive);\n\n          this.total = this.total + this.table[t].sumnumber;\n          this.sumthreethree = this.sumthreethree + this.table[t].threethree;\n          this.sumsixtwofive = this.sumsixtwofive + this.table[t].sixtwofive;\n          this.sumsixthree = this.sumsixthree + this.table[t].sixthree;\n          this.sumseven = this.sumseven + this.table[t].seven;\n          this.sumsevenfive = this.sumsevenfive + this.table[t].sevenfive;\n\n          if (this.table[t].month == 1) {\n            this.month.push(\"มกราคม\");\n          } else if (this.table[t].month == 2) {\n            this.month.push(\"กุมภาพันธ์\");\n          } else if (this.table[t].month == 3) {\n            this.month.push(\"มีนาคม\");\n          } else if (this.table[t].month == 4) {\n            this.month.push(\"เมษายน\");\n          } else if (this.table[t].month == 5) {\n            this.month.push(\"พฤษภาคม\");\n          } else if (this.table[t].month == 6) {\n            this.month.push(\"มิถุนายน\");\n          } else if (this.table[t].month == 7) {\n            this.month.push(\"กรกฎาคม\");\n          } else if (this.table[t].month == 8) {\n            this.month.push(\"สิงหาคม\");\n          } else if (this.table[t].month == 9) {\n            this.month.push(\"กันยายน\");\n          } else if (this.table[t].month == 10) {\n            this.month.push(\"ตุลาคม\");\n          } else if (this.table[t].month == 11) {\n            this.month.push(\"พฤศจิกายน\");\n          } else if (this.table[t].month == 12) {\n            this.month.push(\"ธันวาคม\");\n          }\n        }\n      });\n      MergeLiquorReportService.getDetailbyfactory_code(541164).then((res) => {\n        // console.log(res.data);\n        this.detail = res.data;\n        for (let i = 0; i < this.detail.length; i++) {\n          this.series.push({\n            name:\n              this.detail[i].brand_name +\n              \" - \" +\n              this.detail[i].degree +\n              \" - \" +\n              this.detail[i].size,\n            size: this.detail[i].size,\n          });\n        }\n        for (let s = 0; s < this.series.length; s++) {\n          if (this.series[s].size == \"0.33\") {\n            this.series[s][\"data\"] = this.numthreethree;\n          } else if (this.series[s].size == \"0.625\") {\n            this.series[s][\"data\"] = this.numsixtwofive;\n          } else if (this.series[s].size == \"0.63\") {\n            this.series[s][\"data\"] = this.numsixthree;\n          } else if (this.series[s].size == \"0.7\") {\n            this.series[s][\"data\"] = this.numseven;\n          } else if (this.series[s].size == \"0.75\") {\n            this.series[s][\"data\"] = this.numsevenfive;\n          }\n        }\n        // console.log(this.series);\n        this.loadchartOptions();\n      });\n    },\n    loadchartOptions() {\n      this.chartOptions = {\n        chart: {\n          height: 500,\n          type: \"line\",\n          dropShadow: {\n            enabled: true,\n            color: \"#000\",\n            top: 18,\n            left: 7,\n            blur: 10,\n            opacity: 0.2,\n          },\n          toolbar: {\n            show: false,\n          },\n        },\n        colors: [\"#77B6EA\", \"#545454\"],\n        dataLabels: {\n          enabled: true,\n        },\n        stroke: {\n          curve: \"smooth\",\n        },\n        title: {\n          text: \"จำนวนดวงแสตมป์\",\n          align: \"left\",\n        },\n        grid: {\n          borderColor: \"#e7e7e7\",\n          row: {\n            colors: [\"#f3f3f3\", \"transparent\"], // takes an array which will be repeated on columns\n            opacity: 0.5,\n          },\n        },\n        markers: {\n          size: 1,\n        },\n        xaxis: {\n          categories: this.month,\n          title: {\n            text: \"เดือน\",\n          },\n        },\n        yaxis: {\n          title: {\n            text: \"จำนวนขวด หรือดวง\",\n          },\n        },\n        legend: {\n          position: \"top\",\n          horizontalAlign: \"right\",\n          floating: true,\n          offsetY: -25,\n          offsetX: -5,\n        },\n      };\n    },\n  },\n  mounted() {\n    this.loadmarker();\n    console.log(this.currentUser);\n  },\n  computed: {\n    loggedIn() {\n      return this.$store.state.auth.status.loggedIn;\n    },\n    currentUser() {\n      return this.$store.state.auth.user;\n    },\n  },\n};\n</script>\n\n<style>\nhtml,\nbody {\n  font-size: 9px !important;\n  height: 100%;\n  margin: 0px;\n}\n.ldmap_placeholder {\n  position: relative;\n  width: 100%;\n  height: 700px !important;\n  min-width: 100px;\n  min-height: 700px !important;\n  background: #eee;\n  font: 12px/1.2 Tahoma, sans-serif;\n  overflow: hidden;\n  z-index: 0;\n  user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  -webkit-touch-callout: none;\n}\n.ldmap_placeholder .ldmap_frame .ldmap_popup {\n  min-width: 800px !important;\n  min-height: 500px !important;\n}\n.ldmap_placeholder .ldmap_frame .ldmap_popup_detail {\n  max-width: 970% !important;\n  max-height: 540px !important;\n}\n.ldmap_placeholder .ldmap_frame .ldmap_popup_title {\n  font-size: 9px !important;\n}\n</style>\n"]}]}