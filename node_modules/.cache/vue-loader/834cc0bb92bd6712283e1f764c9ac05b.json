{"remainingRequest":"D:\\fda\\fda-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\fda\\fda-frontend\\src\\components\\check.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\fda\\fda-frontend\\src\\components\\check.vue","mtime":1695538341828},{"path":"D:\\fda\\fda-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1695526245291},{"path":"D:\\fda\\fda-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1695526242921},{"path":"D:\\fda\\fda-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1695526233884}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgcmVhZFhsc3hGaWxlIGZyb20gInJlYWQtZXhjZWwtZmlsZSI7DQovLyBpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCcNCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7DQppbXBvcnQgUHJvZHVjdHNTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL1Byb2R1Y3RzU2VydmljZS5qcycNCmltcG9ydCBGREFUeXBlc1NlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvRkRBVHlwZXNTZXJ2aWNlJw0KaW1wb3J0IExpbmtTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL0xpbmtTZXJ2aWNlJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJBcHAiLA0KICBjb21wb25lbnRzOiB7fSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgbGlzdDogW10sDQogICAgICB1cmw6ICcnLA0KICAgICAgZmlsZTogJycsDQogICAgICBzdGF0dXM6IGZhbHNlLA0KICAgICAgdXJsUGF0aDogJycsDQogICAgICBpbWFnZWxpc3RzOiAnJywNCiAgICAgIHRva2VuaXplOiAnJywNCiAgICAgIG1hdGNobmFtZTonJywNCiAgICAgIG1hdGNoY2F0ZWdvcnk6JycsDQogICAgICB0eXBlOicnLA0KICAgICAgbWF0Y2huYW1lc3VtOicnLA0KICAgICAgc3RhdHVzbmFtZTowLA0KICAgICAgc3RhdHVzY2F0OjAsDQogICAgICBzdGF0dXNmZGE6MCwNCiAgICAgIGNvbG9ybmFtZTonYmFja2dyb3VuZC1jb2xvcjojZjliZGJiJywNCiAgICAgIGNvbG9yZmRhOidiYWNrZ3JvdW5kLWNvbG9yOiNmOWJkYmInLA0KICAgICAgY29sb3JjYXQ6J2JhY2tncm91bmQtY29sb3I6I2Y5YmRiYicsDQogICAgICBpZDonJywNCiAgICAgIGtleXdvcmQ6W10sDQogICAgICBjb2xvcmtleTonYmFja2dyb3VuZC1jb2xvcjojZjliZGJiJywNCiAgICAgIGRlc2M6JycNCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgY2hlY2trZXl3b3JkKG5hbWUpew0KICAgICAgLy8gY29uc29sZS5sb2cobmFtZSk7DQogICAgLy8gICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9hcGkva2V5d29yZF9kaWN0cz9uYW1lPTEnKS50aGVuKChyZXMpID0+IHsNCiAgICAvLyAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOw0KICAgICAgICAvLyBmb3IgKGxldCByID0gMDsgciA8IHJlcy5kYXRhLmxlbmd0aDsgcisrKSB7DQogICAgICAgICAgLy8gbmFtZSA9IG5hbWUucmVwbGFjZUFsbCgvKFtcdUUwMDAtXHVGOEZGXXxcdUQ4M0NbXHVERjAwLVx1REZGRl18XHVEODNEW1x1REMwMC1cdURERkZdKS9nLCAnJykNCiAgICAgICAgICAvLyAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlQWxsKC8oPzpbXHUyNzAwLVx1MjdiZl18KD86XHVkODNjW1x1ZGRlNi1cdWRkZmZdKXsyfXxbXHVkODAwLVx1ZGJmZl1bXHVkYzAwLVx1ZGZmZl18W1x1MDAyMy1cdTAwMzldXHVmZTBmP1x1MjBlM3xcdTMyOTl8XHUzMjk3fFx1MzAzZHxcdTMwMzB8XHUyNGMyfFx1ZDgzY1tcdWRkNzAtXHVkZDcxXXxcdWQ4M2NbXHVkZDdlLVx1ZGQ3Zl18XHVkODNjXHVkZDhlfFx1ZDgzY1tcdWRkOTEtXHVkZDlhXXxcdWQ4M2NbXHVkZGU2LVx1ZGRmZl18XHVkODNjW1x1ZGUwMS1cdWRlMDJdfFx1ZDgzY1x1ZGUxYXxcdWQ4M2NcdWRlMmZ8XHVkODNjW1x1ZGUzMi1cdWRlM2FdfFx1ZDgzY1tcdWRlNTAtXHVkZTUxXXxcdTIwM2N8XHUyMDQ5fFtcdTI1YWEtXHUyNWFiXXxcdTI1YjZ8XHUyNWMwfFtcdTI1ZmItXHUyNWZlXXxcdTAwYTl8XHUwMGFlfFx1MjEyMnxcdTIxMzl8XHVkODNjXHVkYzA0fFtcdTI2MDAtXHUyNkZGXXxcdTJiMDV8XHUyYjA2fFx1MmIwN3xcdTJiMWJ8XHUyYjFjfFx1MmI1MHxcdTJiNTV8XHUyMzFhfFx1MjMxYnxcdTIzMjh8XHUyM2NmfFtcdTIzZTktXHUyM2YzXXxbXHUyM2Y4LVx1MjNmYV18XHVkODNjXHVkY2NmfFx1MjkzNHxcdTI5MzV8W1x1MjE5MC1cdTIxZmZdKS9nLCAnJyk7DQogICAgICAgICAgLy8gICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZUFsbCgvKFxyXG58XG58XHIpL2dtLCAiIik7DQogICAgICAgICAgLy8gICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZUFsbCgiXyIsICIiKTsNCiAgICAgICAgICAvLyAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlQWxsKCIhIiwgIiIpOw0KICAgICAgICAgIC8vICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2VBbGwoIioiLCAiIik7DQogICAgICAgICAgICAgICAgLy8gbmFtZSA9IG5hbWUucmVwbGFjZUFsbChgXy9sXF9gLCAiIik7Ly8gZXNsaW50LWRpc2FibGUtbGluZQ0KICAgICAgLy8gY29uc29sZS5sb2coJ2h0dHA6Ly8xMjcuMC4wLjE6NTAwMC9jaGVja2tleXdvcmQ/bmFtZT0nICsgbmFtZSk7DQogICAgICB2YXIgZGVzYyA9IHRoaXMuZmluZGRlc2NyaXB0aW9uKG5hbWUpDQogICAgICAvLyBjb25zb2xlLmxvZygnaHR0cDovLzEyNy4wLjAuMTo1MDAwL3dvcmt0b2tlbmRlc2M/dGV4dD0nK2Rlc2MpOw0KICAgICAgYXhpb3MuZ2V0KExpbmtTZXJ2aWNlLmdldHB5dGhvbmxpbmsoKSsnL3dvcmt0b2tlbmRlc2M/dGV4dD0nK2Rlc2MpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7DQogICAgICAgIHRoaXMuZGVzYyAgPSByZXMuZGF0YQ0KICAgICAgfSk7DQogICAgICAvLyBuYW1lID0gJ+C4guC5ieC4reC4oeC4ueC4peC4iOC4s+C5gOC4nuC4suC4sOC4guC4reC4h+C4quC4tOC4meC4hOC5ieC4siDguKvguKHguKfguJTguKvguKHguLnguYggU2hvcGVlIOC4geC4peC4uOC5iOC4oeC4nOC4peC4tOC4leC4oOC4seC4k+C4keC5jOC5gOC4nuC4t+C5iOC4reC4quC4uOC4guC4oOC4suC4niDguK3guLLguKvguLLguKPguYDguKrguKPguLTguKHguYDguJ7guLfguYjguK3guITguKfguLLguKHguIfguLLguKEg4Lic4Li04LinIOC4ouC4teC5iOC4q+C5ieC4rSBCbHVlYmlyZCjguJrguKXguLnguYDguJrguLTguKPguYzguJQpIFN0b3JhZ2UgQ29uZGl0aW9uIE5vcm1hbCDguJvguKPguLDguYDguKDguJfguKrguLLguKPguK3guLLguKvguLLguKMg4Liq4Liy4Lij4LiV4LmJ4Liy4LiZ4Lit4LiZ4Li44Lih4Li54Lil4Lit4Li04Liq4Lij4LiwLCDguKfguLTguJXguLLguKHguLTguJnguIvguLUg4Lib4Lij4Liw4LmA4LiX4Lio4LiV4LmJ4LiZ4LiB4Liz4LmA4LiZ4Li04LiU4Liq4Li04LiZ4LiE4LmJ4LiyIOC5hOC4l+C4oiDguKvguJnguYnguLLguJfguLXguYjguILguK3guIfguK3guLLguKvguLLguKPguYDguKrguKPguLTguKHguKrguLPguKvguKPguLHguJrguITguKfguLLguKHguIfguLLguKEg4LiU4Li54LmB4Lil4Liq4Li04LinLCDguJvguYnguK3guIfguIHguLHguJnguKPguLTguYnguKfguKPguK3guKIg4Lib4Lij4Liw4LmA4Lig4LiX4LiB4Liy4Lij4Lir4LmI4LitIOC4q+C5iOC4reC4o+C4p+C4oeC4geC4seC4mSDguYDguJ7guKgg4LiX4Lix4LmJ4LiH4Liq4Lit4LiH4LmA4Lie4LioIOC4reC4suC4ouC4uOC4geC4suC4o+C5gOC4geC5h+C4muC4o+C4seC4geC4qeC4siAxMiDguYDguJTguLfguK3guJkg4Lib4Lij4Liw4LmA4Lig4LiX4LiC4Lit4LiH4Lic4Lil4Li04LiV4Lig4Lix4LiT4LiR4LmM4Lii4LiyIOC5geC4hOC4m+C4i+C4ueC4pSDguKvguKHguLLguKLguYDguKXguILguYPguJrguK3guJnguLjguI3guLLguJUv4Lit4LiiLiAzMC0xLTI2NzY0LTUtMDA1MSDguIjguLPguJnguKfguJnguKrguLTguJnguITguYnguLIgMTc5MDEg4Liq4LmI4LiH4LiI4Liy4LiBIOC4iOC4seC4h+C4q+C4p+C4seC4lOC4meC4hOC4o+C4o+C4suC4iuC4quC4teC4oeC4siDguKPguLLguKLguKXguLDguYDguK3guLXguKLguJTguKrguLTguJnguITguYnguLIg4Lin4Li04LiV4Liy4Lih4Li04LiZ4LiL4Li1IOC4nuC4peC4seC4qiDguJXguKPguLIg4Lia4Lil4Li54LmA4Lia4Li04Lij4LmM4LiUIOC4leC4o+C4siDguJrguKXguLnguYDguJrguLTguKPguYzguJQg4LiC4LiZ4Liy4LiUIDEwMDAg4Lih4Li04Lil4Lil4Li04LiB4Lij4Lix4LihIDYwIOC5geC4hOC4m+C4i+C4ueC4pSDguYDguKPguJfguILguLLguKLguKrguYjguIcg4LiK4LmI4Lin4LiH4Lij4Liy4LiE4Liy4LiX4Li14LmIIDEg4Liq4Lix4LmI4LiH4LiL4Li34LmJ4Lit4LiV4Lix4LmJ4LiH4LmB4LiV4LmIIDUg4LiB4Lij4Liw4Lib4Li44LiB4LiC4Li24LmJ4LiZ4LmE4LibIOC4luC4tuC4hyAyMCDguIHguKPguLDguJvguLjguIEg4Lij4Liy4LiE4Liy4LiB4Lij4Liw4Lib4Li44LiB4Lil4LiwIDkzIOC4muC4suC4lyDguIrguYjguKfguIfguKPguLLguITguLLguJfguLXguYggMiDguKrguLHguYjguIfguIvguLfguYnguK3guJXguLHguYnguIfguYHguJXguYggMjEg4LiB4Lij4Liw4Lib4Li44LiB4LiC4Li24LmJ4LiZ4LmE4LibIOC4luC4tuC4hyA1MCDguIHguKPguLDguJvguLjguIEg4Lij4Liy4LiE4Liy4LiB4Lij4Liw4Lib4Li44LiB4Lil4LiwIDkwIOC4muC4suC4lyDguIrguYjguKfguIfguKPguLLguITguLLguJfguLXguYggMyDguKrguLHguYjguIfguIvguLfguYnguK3guJXguLHguYnguIfguYHguJXguYggNTEg4LiB4Lij4Liw4Lib4Li44LiB4LiC4Li24LmJ4LiZ4LmE4LibIOC4luC4tuC4hyAxMDAg4LiB4Lij4Liw4Lib4Li44LiBIOC4o+C4suC4hOC4suC4geC4o+C4sOC4m+C4uOC4geC4peC4sCA4NyDguJrguLLguJcg4LiK4LmI4Lin4LiH4Lij4Liy4LiE4Liy4LiX4Li14LmIIDQg4Liq4Lix4LmI4LiH4LiL4Li34LmJ4Lit4LiV4Lix4LmJ4LiH4LmB4LiV4LmIIDEwMCDguIHguKPguLDguJvguLjguIHguILguLbguYnguJnguYTguJsgLi4uLi4uLi4uLi4uLi4uLi4uLi4uIOC4o+C4suC4hOC4suC4geC4o+C4sOC4m+C4uOC4geC4peC4sCA4NSDguJrguLLguJcgVml0YW1pbiBDIFBsdXMgRGlldGFyeSBTdXBwbGVtZW50IFByb2R1Y3QgQmx1ZWJpcmQgQnJhbmQg4Lic4Lil4Li04LiV4Lig4Lix4LiT4LiR4LmM4LmA4Liq4Lij4Li04Lih4Lit4Liy4Lir4Liy4Lij4Lin4Li04LiV4Liy4Lih4Li04LiZ4LiL4Li1IOC4nuC4peC4seC4qiDguJXguKPguLIg4Lia4Lil4Li54LmA4Lia4Li04Lij4LmM4LiUIOC4quC5iOC4p+C4meC4m+C4o+C4sOC4geC4reC4muC4l+C4seC5ieC4h+C4q+C4oeC4lOC5g+C4mSAxIOC5geC4hOC4m+C4i+C4ueC4pSDguKrguYjguKfguJnguJvguKPguLDguIHguK3guJrguJfguLXguYjguKrguLPguITguLHguI0gKEFjdGl2ZSBJbmdyZWRpZW50KSBWSVRBTUlOIEMgKDEwMCUpIC0gNjAg4Lih4Li04Lil4Lil4Li04LiB4Lij4Lix4LihIENJVFJVUyBCSU9GTEFWT05PSUQgUE9XREVSIC0gNjMwIOC4oeC4tOC4peC4peC4tOC4geC4o+C4seC4oSBCQVJCQURPU0NIRVJSWSBQT1dERVIvQUNFUk9MQSBDSEVSUlkgUE9XREVSICjguJzguIfguJrguLLguKPguYzguYDguJrguYLguJTguKrguYDguIrguK3guKPguYzguKPguLUv4Lic4LiH4Lit4Liw4LmA4LiL4LmC4Lij4Lil4Liy4LmA4LiK4Lit4Lij4LmM4Lij4Li1KSAoTUFMUElHSElBIEdMQUJSQSBMLikg4Lic4LilIC0gNjAg4Lih4Li04Lil4Lil4Li04LiB4Lij4Lix4LihIFJPU0VISVAgUE9XREVSICjguJzguIfguYLguKPguKrguK7guLTguJvguKrguYwpIChST1NBIENBTklOQSBMLikg4Lic4LilIC0gNjAg4Lih4Li04Lil4Lil4Li04LiB4Lij4Lix4LihIFJ1dGluIC0gMzAg4Lih4Li04Lil4Lil4Li04LiB4Lij4Lix4LihIElORElBTiBHT09TRUJFUlJZIFBPV0RFUiAo4Lic4LiH4Lih4Liw4LiC4Liy4Lih4Lib4LmJ4Lit4LihKSAoUEhZTExBTlRIVVMgRU1CTElDQSBMLiApIOC4nOC4pSAtIDYwIOC4oeC4tOC4peC4peC4tOC4geC4o+C4seC4oSDguKrguYjguKfguJnguJvguKPguLDguIHguK3guJrguJfguLXguYjguYTguKHguYjguKrguLPguITguLHguI0gKEluYWN0aXZlIEluZ3JlZGllbnQpIEVESUJMRSBHRUxBVElOIDQyOCAtIDk4LjUg4Lih4Li04Lil4Lil4Li04LiB4Lij4Lix4LihIFRJVEFOSVVNIERJT1hJREUgMTcxIC0xLjk1IOC4oeC4tOC4peC4peC4tOC4geC4o+C4seC4oSDguKfguLTguJjguLXguKPguLHguJrguJvguKPguLDguJfguLLguJkg4LiE4Lij4Lix4LmJ4LiH4Lil4LiwIDEtMiDguYHguITguJvguIvguLnguKUg4Lir4Lil4Lix4LiH4Lit4Liy4Lir4Liy4Lij4LmA4LiK4LmJ4LiyIOC5gOC4peC4guC4l+C4teC5iCDguK0u4LiiLiAzMC0xLTI2NzY0LTUtMDA1MSDguITguLPguYDguJXguLfguK3guJkg4LiE4Lin4Lij4LmA4LiB4LmH4Lia4LmD4Lir4LmJ4Lie4LmJ4LiZ4LmB4Liq4LiH4LmB4LiU4LiH4LmB4Lil4Liw4LiE4Lin4Liy4Lih4LiK4Li34LmJ4LiZIOC5gOC4lOC5h+C4gSDguKrguJXguKPguLXguKHguLXguITguKPguKPguKDguYwg4LmB4Lil4Liw4Liq4LiV4Lij4Li14LmD4Lir4LmJ4LiZ4Lih4Lia4Li44LiV4Lij4LmE4Lih4LmI4LiE4Lin4Lij4Lij4Lix4Lia4Lib4Lij4Liw4LiX4Liy4LiZIOC4hOC4p+C4o+C4geC4tOC4meC4reC4suC4q+C4suC4o+C4q+C4peC4suC4geC4q+C4peC4suC4ouC5g+C4q+C5ieC4hOC4o+C4miA1IOC4q+C4oeC4ueC5iCDguYPguJnguKrguLHguJTguKrguYjguKfguJnguJfguLXguYjguYDguKvguKHguLLguLDguKrguKHguYDguJvguYfguJnguJvguKPguLDguIjguLMg4LmE4Lih4LmI4Lih4Li14Lic4Lil4LmD4LiZ4LiB4Liy4Lij4Lib4LmJ4Lit4LiH4LiB4Lix4LiZ4Lir4Lij4Li34Lit4Lij4Lix4LiB4Lip4Liy4LmC4Lij4LiEIOC4quC4o+C4o+C4nuC4hOC4uOC4kyDguJvguKPguLDguYLguKLguIrguJnguYzguILguK3guIfguIHguLLguKPguIHguLTguJnguKfguLTguJXguLLguKHguLTguJnguIvguLUg77iP4LiX4Liz4LmD4Lir4LmJ4Lir4LiZ4LmJ4Liy4LmE4Lih4LmI4LmC4LiX4Lij4LihIOC4q+C4meC5ieC4suC4leC4suC4quC4lOC5g+C4qiDvuI/guIrguYjguKfguKLguJ/guLfguYnguJnguJ/guLnguJzguLTguKfguKvguJnguYnguLIg4Liq4Li04LinIOC4neC5ieC4siDguIHguKPguLAg4Lij4Li04LmJ4Lin4Lij4Lit4LiiIOC4lOC4ueC4iOC4suC4h+C4peC4hyDvuI/guJzguLTguKfguJ7guKPguKPguJPguJnguLjguYjguKHguYDguKPguLXguKLguJrguYDguJnguLXguKLguJog4LiK4Li44LmI4Lih4LiK4Li34LmI4LiZIO+4j+C4q+C4meC5ieC4suC4leC4suC4lOC4ueC5gOC4lOC5h+C4geC5geC4peC4sOC5gOC4lOC5ieC4h+C4guC4tuC5ieC4mSDvuI/guJzguLTguKfguKvguJnguYnguLLguILguLLguKfguK3guKHguIrguKHguJ7guLkg4Liq4Li04LiZ4LiE4LmJ4Liy4LiV4Lix4LiU4Lij4Lit4Lia4LiX4Li44LiB4Lin4Lix4LiZ4LmA4Lin4Lil4LiyIOC4leC4seC4lOC4o+C4reC4muC5gOC4p+C4peC4siAxMi4wMCDguJkg4LiC4Lit4LiH4LiX4Li44LiB4Lin4Lix4LiZIOC5geC4iOC5ieC4h+C5guC4reC4meC5gOC4geC4tOC4meC5gOC4p+C4peC4siDguKrguYjguIfguKPguK3guJrguKfguLHguJnguJbguLHguJTguYTguJvguJnguLDguIjguYrguLAg4Liq4LmI4LiH4Lie4Lix4Liq4LiU4Li44LiX4Li44LiB4Lin4Lix4LiZIOC5gOC4p+C5ieC4meC4p+C4seC4meC4reC4suC4l+C4tOC4leC4ouC5jCDguYHguKXguLDguKfguLHguJnguKvguKLguLjguJTguJnguLHguIHguILguLHguJXguKTguIHguKnguYwg4LiC4Lit4Lia4Lie4Lij4Liw4LiE4Li44LiT4Lil4Li54LiB4LiE4LmJ4Liy4LiX4Li44LiB4LiX4LmI4Liy4LiZIOC4l+C4teC5iOC5hOC4p+C5ieC4p+C4suC4h+C5g+C4iOC4nOC4peC4tOC4leC4oOC4seC4k+C4keC5jOC4guC4reC4h+C5gOC4o+C4suC5gOC4quC4oeC4reC4oeC4sl8vbFxfJw0KICAgICAgY29uc29sZS5sb2coTGlua1NlcnZpY2UuZ2V0cHl0aG9ubGluaygpKycvY2hlY2trZXl3b3JkP25hbWU9JyArIGRlc2MpOyAgICANCiAgICAgIGF4aW9zLmdldChMaW5rU2VydmljZS5nZXRweXRob25saW5rKCkrJy9jaGVja2tleXdvcmQ/bmFtZT0nICsgZGVzYykudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7DQogICAgICAgICAgICBpZiAocmVzLmRhdGEubGVuZ3RoID4gMCkgew0KICAgICAgICAvLyB0aGlzLmtleXdvcmQucHVzaChyZXMuZGF0YSkNCiAgICAgICAgdGhpcy5rZXl3b3JkID0gcmVzLmRhdGENCiAgICAgICAgICAgICAgDQogICAgICAgICAgICB9DQogICAgICB9KTsNCiAgICAvLyAgICAgfQ0KICAgICAgDQogICAgLy8gfSk7DQovLyAgICAgICB2YXIgbGlzdGtleXdvcmRzID0gW10NCi8vICAgICAgIHZhciBuYW1lc3BsaXQgPSBuYW1lLnNwbGl0KCIgIikNCi8vICAgICAgIC8vIGNvbnNvbGUubG9nKG5hbWVzcGxpdCk7DQovLyAgICAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9hcGkva2V5d29yZF9kaWN0cz9uYW1lPTEnKS50aGVuKChyZXMpID0+IHsNCi8vICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOw0KLy8gICAgICAgICB2YXIga2V5bGlzdCA9IFtdDQovLyAgICAgICAgIGZvciAobGV0IHIgPSAwOyByIDwgcmVzLmRhdGEubGVuZ3RoOyByKyspIHsNCi8vICAgICAgICAgICByZXMuZGF0YVtyXS5uYW1lID0gcmVzLmRhdGFbcl0ubmFtZS5yZXBsYWNlQWxsKCIuIiwiIikNCi8vICAgICAgICAgICB2YXIga2sgPSByZXMuZGF0YVtyXS5uYW1lLnNwbGl0KCIgIikNCi8vICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGtrLmxlbmd0aDsgaysrKSB7DQovLyAgICAgICAgICAgICBrZXlsaXN0LnB1c2goa2tba10pDQovLyAgICAgICAgICAgfQ0KLy8gICAgICAgICB9DQovLyAgICAgICAgIGZvciAobGV0IGtleSA9IDA7IGtleSA8IGtleWxpc3QubGVuZ3RoOyBrZXkrKykgew0KLy8gICAgICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgbmFtZXNwbGl0Lmxlbmd0aDsgbisrKSB7DQovLyAgICAgICAgICAgICBpZiAobmFtZXNwbGl0W25dID09IGtleWxpc3Rba2V5XSAmJiBrZXlsaXN0W2tleV0gIT0gJycgJiYgaXNOYU4oa2V5bGlzdFtrZXldKSkgew0KLy8gICAgICAgICAgICAgICBsaXN0a2V5d29yZHMucHVzaChrZXlsaXN0W2tleV0pDQovLyAgICAgICAgICAgICB9DQogICAgICAgICAgICANCi8vICAgICAgICAgICB9DQovLyAgICAgICAgIH0NCi8vICAgICAgICAgLy8gY29uc29sZS5sb2coa2V5bGlzdCk7DQovLyAgICAgICAgIC8vIGNvbnNvbGUubG9nKGxpc3RrZXl3b3Jkcyk7DQoNCi8vICAgICAgIGNvbnNvbGUubG9nKGxpc3RrZXl3b3Jkcy5sZW5ndGgpOw0KLy8gICAgICAgICBpZiAobGlzdGtleXdvcmRzLmxlbmd0aCA9PSAwKSB7DQogICAgICAgICAgDQovLyAgICAgICAgICAgdGhpcy5jb2xvcmtleSA9ICJiYWNrZ3JvdW5kLWNvbG9yOiNhM2U5YTQiDQovLyAgICAgICAgIH0NCi8vICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KLy8gICAgICAgICBsaXN0a2V5d29yZHMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7DQovLyAgICAgIGlmKHJlc3VsdC5pbmRleE9mKGl0ZW0pIDwgMCkgew0KLy8gICAgICAgICAgcmVzdWx0LnB1c2goaXRlbSk7DQovLyAgICAgIH0NCi8vIH0pOw0KLy8gY29uc29sZS5sb2cocmVzdWx0KTsNCi8vIGxpc3RrZXl3b3JkcyA9IHJlc3VsdA0KLy8gICAgICAgICBmb3IgKGxldCBsID0gMDsgbCA8IGxpc3RrZXl3b3Jkcy5sZW5ndGg7IGwrKykgew0KLy8gICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdodHRwOi8vMTI3LjAuMC4xOjUwMDAvY2hlY2trZXl3b3JkP25hbWU9JyArIG5hbWUrJyYmbmFtZV9yZWFsPScpOw0KLy8gICAgICAgICAgIGF4aW9zLmdldCgnaHR0cDovLzEyNy4wLjAuMTo1MDAwL2NoZWNra2V5d29yZD9uYW1lPScgKyBuYW1lKycmJm5hbWVfcmVhbD0nICsgbGlzdGtleXdvcmRzW2xdKS50aGVuKChyZXMpID0+IHsNCi8vICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsNCi8vICAgICAgICAgdGhpcy5rZXl3b3JkLnB1c2gocmVzLmRhdGEpDQovLyAgICAgICB9KTsNCiAgICAgICAgICANCi8vICAgICAgICAgfQ0KLy8gICAgICAgfSk7DQogICAgICANCiAgICB9LA0KICAgIHVwZGF0ZXN0YXR1c2ZkYSgpew0KICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zdGF0dXNmZGEsdGhpcy5zdGF0dXNjYXQsdGhpcy5zdGF0dXNuYW1lKQ0KICAgICAgLy8gdmFyIGNhdCA9IHRoaXMubWF0Y2hjYXRlZ29yeS5yZXBsYWNlQWxsKCc8c3BhbiBzdHlsZT0iY29sb3I6cmVkIj4nLCcnKQ0KICAgICAgLy8gY2F0ID0gY2F0LnJlcGxhY2VBbGwoJzwvc3Bhbj4nLCcnKQ0KICAgICAgLy8gY29uc29sZS5sb2coY2F0KTsNCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubGlzdFswXS5zdGF0dXMpOw0KICAgICAgaWYgKHRoaXMubGlzdFswXS5zdGF0dXMgPT0xKSB7DQogICAgICAgIHZhciBmZGEgPSB7DQogICAgICAgIH0NCiAgICAgIGlmICh0aGlzLnN0YXR1c2ZkYSAmJiB0aGlzLnN0YXR1c2NhdCAmJiB0aGlzLnN0YXR1c25hbWUpIHsNCiAgICAgICAgIGZkYSA9IHsNCiAgICAgICAgICBzdGF0dXNmZGE6dHJ1ZSwNCiAgICAgICAgICBjYXRfZmRhOnRoaXMudHlwZSwNCiAgICAgICAgICBpc19mZGE6dGhpcy5zdGF0dXNmZGEsDQogICAgICAgICAgaXNfY2F0OnRoaXMuc3RhdHVzY2F0LA0KICAgICAgICAgIGlzX25hbWU6dGhpcy5zdGF0dXNuYW1lDQogICAgICAgIH0NCiAgICAgIH1lbHNlew0KICAgICAgICAgZmRhID0gew0KICAgICAgICAgIHN0YXR1c2ZkYTpmYWxzZSwNCiAgICAgICAgICBjYXRfZmRhOnRoaXMudHlwZSwNCiAgICAgICAgICBpc19mZGE6dGhpcy5zdGF0dXNmZGEsDQogICAgICAgICAgaXNfY2F0OnRoaXMuc3RhdHVzY2F0LA0KICAgICAgICAgIGlzX25hbWU6dGhpcy5zdGF0dXNuYW1lDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubGlzdFswXS5pZCk7DQogICAgICBQcm9kdWN0c1NlcnZpY2UudXBkYXRlZmRhc3RhdHVzKHRoaXMubGlzdFswXS5pZCxmZGEpLnRoZW4oKCk9PnsNCiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEpOw0KICAgICAgfSkNCiAgICAgIH0NCiAgICAgIA0KICAgICAgcmV0dXJuICcnDQogICAgfSwNCiAgICBjaGVja2ZkYW1hdGNoKG5hbWUsbmFtZV9yZWFsKSB7DQogICAgICBjb25zb2xlLmxvZyhuYW1lKTsNCiAgICAgICBjb25zb2xlLmxvZyhuYW1lX3JlYWwpOw0KICAgICAgdGhpcy5tYXRjaG5hbWUgPSAnJw0KICAgICAgdGhpcy5zdGF0dXNuYW1lID0gMA0KICAgICAgICAgIHRoaXMuY29sb3JuYW1lID0gImJhY2tncm91bmQtY29sb3I6I2Y5YmRiYiINCiAgICAgIC8vICAgICBjb25zb2xlLmxvZyhuYW1lX3JlYWwpOw0KICAgICAgIGNvbnNvbGUubG9nKCdodHRwOi8vMTI3LjAuMC4xOjUwMDAvbWF0Y2huYW1lP25hbWU9JyArIG5hbWUrJyYmbmFtZV9yZWFsPScgKyBuYW1lX3JlYWwpOw0KICAgICAgYXhpb3MuZ2V0KExpbmtTZXJ2aWNlLmdldHB5dGhvbmxpbmsoKSsnL21hdGNobmFtZT9uYW1lPScgKyBuYW1lKycmJm5hbWVfcmVhbD0nICsgbmFtZV9yZWFsKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEpOw0KICAgICAgICB0aGlzLm1hdGNobmFtZSA9IHJlcy5kYXRhDQogICAgICAgIHRoaXMubWF0Y2huYW1lc3VtID0gdGhpcy5tYXRjaG5hbWUucmVwbGFjZUFsbCgncmVkJywnYmxhY2snKQ0KICAgICAgICBpZih0aGlzLm1hdGNobmFtZS5pbmNsdWRlcygncmVkJykpew0KICAgICAgICAgIHRoaXMuc3RhdHVzbmFtZSA9IDENCiAgICAgICAgICB0aGlzLmNvbG9ybmFtZSA9ICJiYWNrZ3JvdW5kLWNvbG9yOiNhM2U5YTQiDQogICAgICAgIH0NCg0KDQogICAgICB9KTsNCiAgICB9LA0KICAgIGNoZWNrY2F0ZWdvcnltYXRjaChjYXRlZ29yeSxjYXRlZ29yeV9yZWFsKSB7DQogICAgICAvLyBjb25zb2xlLmxvZyhjYXRlZ29yeV9yZWFsKTsNCiAgICAgIC8vIGNvbnNvbGUubG9nKGNhdGVnb3J5KTsNCiAgICAgICB0aGlzLm1hdGNoY2F0ZWdvcnkgPSAnJw0KICAgICAgIHRoaXMuc3RhdHVzY2F0ID0gMA0KICAgICAgICAgIHRoaXMuY29sb3JjYXQgPSAiYmFja2dyb3VuZC1jb2xvcjojZjliZGJiIg0KICAgICAgICAgIA0KICAgICAgICAgIGlmIChjYXRlZ29yeV9yZWFsKSB7DQogICAgICAvLyAgY29uc29sZS5sb2coJ2h0dHA6Ly8xMjcuMC4wLjE6NTAwMC9tYXRjaGNhdGVnb3J5P2NhdGVnb3J5PScgKyBjYXRlZ29yeSsnJiZjYXRlZ29yeV9yZWFsPScgKyBjYXRlZ29yeV9yZWFsKTsNCiAgICAgIC8vIGF4aW9zLmdldChMaW5rU2VydmljZS5nZXRweXRob25saW5rKCkrJy9tYXRjaGNhdGVnb3J5P2NhdGVnb3J5PScgKyBjYXRlZ29yeSsnJiZjYXRlZ29yeV9yZWFsPScgKyBjYXRlZ29yeV9yZWFsKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEpOw0KICAgICAgICAvLyBjb25zb2xlLmxvZyhjYXRlZ29yeS5pbmNsdWRlcyhjYXRlZ29yeV9yZWFsKSk7DQogICAgICAgIGlmKGNhdGVnb3J5LmluY2x1ZGVzKGNhdGVnb3J5X3JlYWwpKXsNCiAgICAgICAgICB0aGlzLnN0YXR1c2NhdCA9IDENCiAgICAgICAgICB0aGlzLmNvbG9yY2F0ID0gImJhY2tncm91bmQtY29sb3I6I2EzZTlhNCINCiAgICAgICAgdGhpcy5tYXRjaGNhdGVnb3J5ID0gY2F0ZWdvcnlfcmVhbA0KICAgICAgICB9DQogICAgICANCiAgICAgIC8vIH0pOw0KICAgIH0NCiAgICB9LA0KICAgIGN1dCh3b3JkKSB7DQogICAgICB2YXIgd28gPSB3b3JkLnRvU3RyaW5nKCkNCiAgICAgIC8vIHdvID0gd28ucmVwbGFjZUFsbCgnICcsICcgfCAnKQ0KICAgICAgcmV0dXJuIHdvDQogICAgfSwNCiAgICBhc3luYyBnZXR0b2tlbml6ZSh3b3JkcyxuYW1lcmVhbF9yZXN1bHQpIHsNCiAgICAgIC8vIGNvbnNvbGUubG9nKHdvcmRzKTsNCiAgICAgIGlmICghbmFtZXJlYWxfcmVzdWx0KSB7DQogICAgICAgIG5hbWVyZWFsX3Jlc3VsdCA9ICd4eHgnDQogICAgICB9DQogICAgICAvLyBjb25zb2xlLmxvZygnaHR0cDovLzEyNy4wLjAuMTo1MDAwL3dvcmt0b2tlbj9uYW1lcmVhbF9yZXN1bHQ9JyArIG5hbWVyZWFsX3Jlc3VsdCsnJiZ0ZXh0PScrd29yZHMpOw0KICAgICAgYXhpb3MuZ2V0KExpbmtTZXJ2aWNlLmdldHB5dGhvbmxpbmsoKSsnL3dvcmt0b2tlbj9uYW1lcmVhbF9yZXN1bHQ9JyArIG5hbWVyZWFsX3Jlc3VsdCsnJiZ0ZXh0PScrd29yZHMpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7DQogICAgICAgIHRoaXMudG9rZW5pemUgPSByZXMuZGF0YQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBnZXRpbWFnZWZpbGUoaWQpIHsNCiAgICAgIHRoaXMuaW1hZ2VsaXN0cyA9ICcnDQogICAgICBheGlvcy5nZXQoTGlua1NlcnZpY2UuZ2V0cHl0aG9ubGluaygpKycvYmFzZTY0P2lkPScgKyBpZCkudGhlbigocmVzKSA9PiB7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsNCiAgICAgICAgdGhpcy5pbWFnZWxpc3RzID0gJ2RhdGE6aW1hZ2UvanBlZztiYXNlNjQsJytyZXMuZGF0YQ0KICAgICAgfSk7DQogICAgICANCiAgICAgIC8vIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo4MDgxL2dldGltYWdlP3BhdGg9JyArIGZvbGRlcikudGhlbigocmVzKSA9PiB7DQogICAgICAvLyAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsNCiAgICAgIC8vICAgZm9yIChsZXQgaW0gPSAwOyBpbSA8IHJlcy5kYXRhLmxlbmd0aDsgaW0rKykgew0KICAgICAgLy8gICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo4MDgxL2ltZz9uYW1lPScgKyByZXMuZGF0YVtpbV0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgLy8gICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEuYmFzZTY0KTsNCiAgICAgIC8vICAgICAgIHRoaXMuaW1hZ2VsaXN0cy5wdXNoKHJlcy5kYXRhLmJhc2U2NCkNCg0KICAgICAgLy8gICAgIH0pOw0KDQogICAgICAvLyAgIH0NCiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5pbWFnZWxpc3RzKTsNCiAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VsaXN0cw0KICAgICAgLy8gfSkNCiAgICB9LA0KICAgIGRvd25sb2FkSHRtbCgpIHsNCiAgICAgIGxldCB1cmwgPSB0aGlzLnVybElucHV0Ow0KICAgICAgZmV0Y2godXJsKQ0KICAgICAgICAudGhlbigocmVzKSA9PiByZXMudGV4dCgpKQ0KICAgICAgICAudGhlbigoaHRtbCkgPT4gdGhpcy5kb3dubG9hZEFzRmlsZSgicmVwb3J0Lmh0bWwiLCBodG1sKSk7DQogICAgfSwNCiAgICBkb3dubG9hZEFzRmlsZShuYW1lLCB0ZXh0KSB7DQogICAgICBjb25zdCBsaW5rID0gdGhpcy5jcmVhdGVEb3dubG9hZGFibGVMaW5rKG5hbWUsIHRleHQpOw0KICAgICAgY29uc3QgY2xpY2tFdmVudCA9IG5ldyBNb3VzZUV2ZW50KCdjbGljaycpOw0KICAgICAgbGluay5kaXNwYXRjaEV2ZW50KGNsaWNrRXZlbnQpOw0KICAgIH0sDQogICAgY3JlYXRlRG93bmxvYWRhYmxlTGluayhmaWxlTmFtZSwgY29udGVudCkgew0KICAgICAgbGV0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7DQogICAgICBsaW5rLmRvd25sb2FkID0gZmlsZU5hbWU7DQogICAgICBsaW5rLmhyZWYgPSBgZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0sJHtjb250ZW50fWA7DQogICAgICByZXR1cm4gbGluazsNCiAgICB9LA0KICAgIC8vICAgICBzZWFyY2goKXsNCiAgICAvLyAgICAgICB0aGlzLmxpc3QgPSBbXQ0KICAgIC8vICAgICAgIE1lbnVTZXJ2aWNlLmdldHByb2R1Y3QodGhpcy51cmwpLnRoZW4oKS50aGVuKChyZXMpPT57DQogICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7DQoNCiAgICAvLyAgICAgICAgIHZhciBmZGFsaXN0ID0gW10NCiAgICAvLyAgICAgICAgIHZhciBkZXRhaWwgPSByZXMuZGF0YQ0KICAgIC8vICAgICAgICAgLy8gdmFyIGRldGFpbCA9ICfguILguYnguK3guKHguLnguKXguIjguLPguYDguJ7guLLguLDguILguK3guIfguKrguLTguJnguITguYnguLLguKvguKHguKfguJTguKvguKHguLnguYhTaG9wZWXguIHguKXguLjguYjguKHguJzguKXguLTguJXguKDguLHguJPguJHguYzguYDguJ7guLfguYjguK3guKrguLjguILguKDguLLguJ7guK3guLLguKvguLLguKPguYDguKrguKPguLTguKHguYDguJ7guLfguYjguK3guITguKfguLLguKHguIfguLLguKHguJzguLTguKfguKLguLXguYjguKvguYnguK1HbG9iYWwgV2hpdGUo4LmC4LiB4Lil4Lia4Lit4Lil4LmE4Lin4LiX4LmMKeC4q+C4meC5ieC4suC4l+C4teC5iOC4guC4reC4h+C4reC4suC4q+C4suC4o+C5gOC4quC4o+C4tOC4oeC4quC4s+C4q+C4o+C4seC4muC4hOC4p+C4suC4oeC4h+C4suC4oeC4hOC4reC4peC4peC4suC5gOC4iOC4mSwg4Lic4LihIOC4nOC4tOC4pyDguYHguKXguLDguYDguKXguYfguJrguKvguKHguLLguKLguYDguKXguILguYPguJrguK3guJnguLjguI3guLLguJUv4Lit4LiiLjcwLTEtMjcxNjAtNS0wMjY44LiI4Liz4LiZ4Lin4LiZ4Liq4Li04LiZ4LiE4LmJ4LiyMjU44Liq4LmI4LiH4LiI4Liy4LiB4LiI4Lix4LiH4Lir4Lin4Lix4LiU4Lib4LiX4Li44Lih4LiY4Liy4LiZ4Li14Lij4Liy4Lii4Lil4Liw4LmA4Lit4Li14Lii4LiU4Liq4Li04LiZ4LiE4LmJ4Liy4Lir4Lih4Liy4Lii4LmA4Lil4LiC4LmD4Lia4Lit4LiZ4Li44LiN4Liy4LiVL+C4reC4oi7wn4y8NzAtMS0yNzE2MC01LTAyNjjguK3guLLguKLguLjguIHguLLguKPguYDguIHguYfguJrguKPguLHguIHguKnguLIgMjQg4LmA4LiU4Li34Lit4LiZJw0KICAgIC8vICAgICAgICAgICAgIHZhciBmZGEgPSB0aGlzLmZpbmRmZGEoZGV0YWlsKQ0KDQogICAgLy8gICAgICAgICAgICAgZmRhbGlzdC5wdXNoKHsNCiAgICAvLyAgICAgICAgICAgICAgIGRldGFpbDogZGV0YWlsLA0KICAgIC8vICAgICAgICAgICAgICAgZmRhOiBmZGENCiAgICAvLyAgICAgICAgICAgICB9KQ0KICAgIC8vICAgICAgICAgICAgIGZvciAobGV0IGYgPSAwOyBmIDwgZmRhbGlzdC5sZW5ndGg7IGYrKykgew0KDQogICAgLy8gY29uc3QgdXJsID0gImh0dHBzOi8vdGF3YWlmb3JoZWFsdGgub3JnL2FwaS9vcnlvci9jaGVjay1wcm9kdWN0IjsNCiAgICAvLyBjb25zdCBkYXRhID0geyAibnVtYmVyX3NyYyI6IGZkYWxpc3RbZl0uZmRhIH07DQoNCiAgICAvLyBjb25zdCBvcHRpb25zID0gew0KICAgIC8vICAgbWV0aG9kOiAiUE9TVCIsDQogICAgLy8gICBoZWFkZXJzOiB7DQogICAgLy8gICAgIEFjY2VwdDogImFwcGxpY2F0aW9uL2pzb24iLA0KICAgIC8vICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCIsDQogICAgLy8gICB9LA0KICAgIC8vICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksDQogICAgLy8gfTsNCg0KICAgIC8vIGZldGNoKHVybCwgb3B0aW9ucykNCiAgICAvLyAgIC50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuanNvbigpKQ0KICAgIC8vICAgLnRoZW4oKGRhdGEpID0+IHsNCiAgICAvLyAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7DQogICAgLy8gICAgIGlmIChkYXRhLm1lc3NhZ2UpIHsNCiAgICAvLyAgICAgICBmZGFsaXN0W2ZdLnN0YXR1cyA9IDANCiAgICAvLyAgICAgICBmZGFsaXN0W2ZdLmxpc3QgPSBbXQ0KICAgIC8vICAgICAgIGZkYWxpc3RbZl0uYmcgPSAnYmFja2dyb3VuZC1jb2xvcjojZjliZGJiJw0KICAgIC8vICAgICB9IGVsc2Ugew0KICAgIC8vICAgICAgIGZkYWxpc3RbZl0ubGlzdCA9IGRhdGENCiAgICAvLyAgICAgICBmZGFsaXN0W2ZdLnN0YXR1cyA9IDENCiAgICAvLyAgICAgICBmZGFsaXN0W2ZdLmJnID0gJ2JhY2tncm91bmQtY29sb3I6I2EzZTlhNCcNCiAgICAvLyAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhLlNUQVRVU19JRC5pbmNsdWRlcyg3KSkNCiAgICAvLyAgICAgICBpZiAoZGF0YS5jbmNubSA9PSAi4LiE4LiH4Lit4Lii4Li54LmIIikgew0KICAgIC8vICAgICAgIGZkYWxpc3RbZl0uaWNvbiA9ICdjb2xvcjogZ3JlZW4nDQoNCiAgICAvLyAgICAgICB9ZWxzZXsNCiAgICAvLyAgICAgICBmZGFsaXN0W2ZdLmljb24gPSAnY29sb3I6IHJlZCcNCiAgICAvLyAgICAgICBmZGFsaXN0W2ZdLmJnID0gJ2JhY2tncm91bmQtY29sb3I6I2Y5YmRiYicNCiAgICAvLyAgICAgICB9DQogICAgLy8gICAgIH0NCg0KICAgIC8vICAgICAvLyBjb25zb2xlLmxvZyhmKzEsIGZkYWxpc3QubGVuZ3RoKTsNCiAgICAvLyAgICAgaWYgKGYrMSA9PSBmZGFsaXN0Lmxlbmd0aCkgew0KICAgIC8vICBjb25zb2xlLmxvZyhmZGFsaXN0KTsgDQogICAgLy8gIHRoaXMubGlzdCA9IGZkYWxpc3QNCg0KICAgIC8vIH0NCiAgICAvLyAgIH0pOw0KDQoNCiAgICAvLyB9DQogICAgLy8gICAgICAgfSkNCiAgICAvLyAgICAgfSwNCiAgICBzZWFyY2goKSB7DQogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnVybCk7DQogICAgICB0aGlzLnN0YXR1c25hbWU9MCwNCiAgICAgIHRoaXMuc3RhdHVzY2F0PTAsDQogICAgICB0aGlzLnN0YXR1c2ZkYT0wLA0KICAgICAgdGhpcy5jb2xvcm5hbWU9J2JhY2tncm91bmQtY29sb3I6I2Y5YmRiYicsDQogICAgICB0aGlzLmNvbG9yZmRhPSdiYWNrZ3JvdW5kLWNvbG9yOiNmOWJkYmInLA0KICAgICAgdGhpcy5jb2xvcmNhdD0nYmFja2dyb3VuZC1jb2xvcjojZjliZGJiJywNCiAgICAgIHRoaXMubGlzdCA9IFtdDQogICAgICB2YXIgZGF0YSA9IHsNCiAgICAgICAgdXJsOiB0aGlzLnVybA0KICAgICAgfQ0KICAgICAgUHJvZHVjdHNTZXJ2aWNlLmZpbmRwcm9kdWN0KGRhdGEpLnRoZW4oYXN5bmMgKHJlcykgPT4gew0KICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7DQogICAgICAgIGlmIChyZXMuZGF0YVswXS5jb250ZW50ID09ICcnIHx8IHJlcy5kYXRhLmxlbmd0aCA9PSAwKSB7DQogICAgICAgICAgYWxlcnQoJ+C5hOC4oeC5iOC4nuC4muC4guC5ieC4reC4oeC4ueC4peC5g+C4meC4o+C4sOC4muC4micpDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGFbMF0uY29udGVudCk7DQogICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy50b2tlbml6ZSk7DQogICAgICAgICAgdGhpcy5nZXRpbWFnZWZpbGUocmVzLmRhdGFbMF0uaWQpDQogICAgICAgICAgdmFyIGRldGFpbCA9IHJlcy5kYXRhWzBdLmNvbnRlbnQNCiAgICAgICAgICAvLyB2YXIgZGV0YWlsID0gJ+C4guC5ieC4reC4oeC4ueC4peC4iOC4s+C5gOC4nuC4suC4sOC4guC4reC4h+C4quC4tOC4meC4hOC5ieC4suC4q+C4oeC4p+C4lOC4q+C4oeC4ueC5iFNob3BlZeC4geC4peC4uOC5iOC4oeC4nOC4peC4tOC4leC4oOC4seC4k+C4keC5jOC5gOC4nuC4t+C5iOC4reC4quC4uOC4guC4oOC4suC4nuC4reC4suC4q+C4suC4o+C5gOC4quC4o+C4tOC4oeC5gOC4nuC4t+C5iOC4reC4hOC4p+C4suC4oeC4h+C4suC4oeC4nOC4tOC4p+C4ouC4teC5iOC4q+C5ieC4rUdsb2JhbCBXaGl0ZSjguYLguIHguKXguJrguK3guKXguYTguKfguJfguYwp4Lir4LiZ4LmJ4Liy4LiX4Li14LmI4LiC4Lit4LiH4Lit4Liy4Lir4Liy4Lij4LmA4Liq4Lij4Li04Lih4Liq4Liz4Lir4Lij4Lix4Lia4LiE4Lin4Liy4Lih4LiH4Liy4Lih4LiE4Lit4Lil4Lil4Liy4LmA4LiI4LiZLCDguJzguKEg4Lic4Li04LinIOC5geC4peC4sOC5gOC4peC5h+C4muC4q+C4oeC4suC4ouC5gOC4peC4guC5g+C4muC4reC4meC4uOC4jeC4suC4lS/guK3guKIuNzAtMS0yNzE2MC01LTAyNjjguIjguLPguJnguKfguJnguKrguLTguJnguITguYnguLIyNTjguKrguYjguIfguIjguLLguIHguIjguLHguIfguKvguKfguLHguJTguJvguJfguLjguKHguJjguLLguJnguLXguKPguLLguKLguKXguLDguYDguK3guLXguKLguJTguKrguLTguJnguITguYnguLLguKvguKHguLLguKLguYDguKXguILguYPguJrguK3guJnguLjguI3guLLguJUv4Lit4LiiLvCfjLw3MC0xLTI3MTYwLTUtMDI2OOC4reC4suC4ouC4uOC4geC4suC4o+C5gOC4geC5h+C4muC4o+C4seC4geC4qeC4siAyNCDguYDguJTguLfguK3guJknDQogICAgICAgICAgdmFyIGZkYSA9ICcnDQogICAgICAgICAgLy8gY29uc29sZS5sb2coZmRhKTsNCiAgICAgICAgICB2YXIgZmRhbGlzdCA9IFtdDQogICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGFbMF0pOw0KLy8gaWYgKGZkYS5sZW5ndGggIT0gMTIpIHsNCi8vICAgYWxlcnQoJ+C4q+C4oeC4suC4ouC5gOC4peC4guC5g+C4muC4reC4meC4uOC4jeC4suC4leC5hOC4oeC5iOC4luC4ueC4geC4leC5ieC4reC4hycpDQovLyB9ZWxzZXsNCiAgaWYgKHJlcy5kYXRhWzBdLmZkYSkgew0KICBmZGEgPSByZXMuZGF0YVswXS5mZGEucmVwbGFjZUFsbCgnICcsJycpDQogIH1lbHNlew0KICAgIGZkYSA9ICcnDQogIH0NCiAgICAgICAgICBmZGFsaXN0LnB1c2goew0KICAgICAgICAgICAgaWQ6IHJlcy5kYXRhWzBdLmlkLA0KICAgICAgICAgICAgbmFtZTogcmVzLmRhdGFbMF0ubmFtZSwNCiAgICAgICAgICAgIGRldGFpbDogZGV0YWlsLA0KICAgICAgICAgICAgZmRhOiBmZGEsDQogICAgICAgICAgICBjYXRfbmFtZTpyZXMuZGF0YVswXS5jYXRfbmFtZQ0KICAgICAgICAgIH0pDQogICAgICAgICAgZm9yIChsZXQgZiA9IDA7IGYgPCBmZGFsaXN0Lmxlbmd0aDsgZisrKSB7DQogICAgICAgICAgICBpZiAoIWZkYWxpc3RbZl0uZmRhIHx8IGlzTmFOKGZkYSkgfHwgZmRhID09MCkgew0KICAgICAgICAgICAgICBmZGFsaXN0W2ZdLnN0YXR1cyA9IDANCiAgICAgICAgICAgICAgZmRhbGlzdFtmXS5kZXRhaWwgPSBmZGFsaXN0W2ZdLmRldGFpbC5yZXBsYWNlQWxsKCImIiwgIiIpOw0KICAgICAgICAgICAgICBmZGFsaXN0W2ZdLmRldGFpbCA9IGZkYWxpc3RbZl0uZGV0YWlsLnJlcGxhY2VBbGwoIiMiLCAiIik7DQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGZkYWxpc3RbZl0uZGV0YWlsKTsNCiAgICAgICAgICAgICAgdGhpcy5nZXR0b2tlbml6ZShmZGFsaXN0W2ZdLmRldGFpbCwnJykNCiAgICAgICAgICAgICAgdGhpcy5jaGVja2tleXdvcmQoZmRhbGlzdFtmXS5kZXRhaWwpDQogICAgICAgICAgICAgIHRoaXMubGlzdCA9IGZkYWxpc3QNCiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5saXN0KTsNCiAgICAgICAgICAgICAgYWxlcnQoJ+C5gOC4peC4guC4reC4oi7guILguK3guIfguJzguKXguLTguJXguKDguLHguJPguJHguYzguJnguLXguYnguYTguKHguYjguJbguLnguIHguJXguYnguK3guIcnKQ0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBjb25zdCB1cmwgPSAiaHR0cHM6Ly90YXdhaWZvcmhlYWx0aC5vcmcvYXBpL29yeW9yL2NoZWNrLXByb2R1Y3QiOw0KICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsgIm51bWJlcl9zcmMiOiBmZGFsaXN0W2ZdLmZkYSB9Ow0KLy8gY29uc29sZS5sb2coZGF0YSk7DQogICAgICAgICAgICBjb25zdCBvcHRpb25zID0gew0KICAgICAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwNCiAgICAgICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgICAgIEFjY2VwdDogImFwcGxpY2F0aW9uL2pzb24iLA0KICAgICAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04IiwNCiAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksDQogICAgICAgICAgICB9Ow0KDQogICAgICAgICAgICBmZXRjaCh1cmwsIG9wdGlvbnMpDQogICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuanNvbigpKQ0KICAgICAgICAgICAgICAudGhlbigoZGF0YSkgPT4gew0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpOw0KICAgICAgICAgICAgICAgIC8vIHByb2R1Y3RoYQ0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEubWVzc2FnZSk7DQogICAgICAgICAgICAgICAgaWYgKGRhdGEubWVzc2FnZSkgew0KICAgICAgICAgICAgICAgICAgZGF0YS5wcm9kdWNlbmcgPSAnJw0KICAgICAgICAgICAgICAgICAgZGF0YS5wcm9kdWN0aGEgPSAnJw0KICAgICAgICAgICAgICAgICAgZGF0YS50eXBlcHJvID0gJycNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoID4gMSkgew0KICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YS5jbmNubSk7DQogICAgICAgICAgICAgICAgICBmZGFsaXN0W2ZdLnN0YXR1cyA9IDANCiAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0ubGlzdCA9IHt9DQogICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmZGFsaXN0W2ZdKTsNCiAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0uZGV0YWlsID0gZmRhbGlzdFtmXS5kZXRhaWwucmVwbGFjZUFsbCgiJiIsICIiKTsNCiAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0uZGV0YWlsID0gZmRhbGlzdFtmXS5kZXRhaWwucmVwbGFjZUFsbCgiIyIsICIiKTsNCiAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0dG9rZW5pemUoZmRhbGlzdFtmXS5kZXRhaWwsJycpDQogICAgICAgICAgICAgICAgICAvLyB0aGlzLmNoZWNra2V5d29yZChmZGFsaXN0W2ZdLmRldGFpbCkNCiAgICAgICAgICAgICAgICAgIHRoaXMubGlzdCA9IGZkYWxpc3QNCiAgICAgICAgICAgICAgICAgIGFsZXJ0KCfguYTguKHguYjguJ7guJrguYDguKXguILguK3guKIu4LmD4LiZ4LmA4Lin4LmH4Lia4LmE4LiL4LiV4LmM4LiC4Lit4LiH4Lic4Lil4Li04LiV4Lig4Lix4LiT4LiR4LmM4LiZ4Li14LmJJykNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLy8gdmFyIG5hbWVmdWxsID1mZGFsaXN0W2ZdLm5hbWUrIiAiICt0aGlzLmZpbmRkZXNjcmlwdGlvbihmZGFsaXN0W2ZdLmRldGFpbCkNCiAgICAgICAgICAgICAgICB2YXIgbmFtZWZ1bGwgPWZkYWxpc3RbZl0ubmFtZSArICcgJytmZGFsaXN0W2ZdLmRldGFpbA0KICAgICAgICAgICAgICAgIG5hbWVmdWxsID0gbmFtZWZ1bGwucmVwbGFjZUFsbCgvKFtcdUUwMDAtXHVGOEZGXXxcdUQ4M0NbXHVERjAwLVx1REZGRl18XHVEODNEW1x1REMwMC1cdURERkZdKS9nLCAnJykNCiAgICAgICAgICAgICAgICBuYW1lZnVsbCA9IG5hbWVmdWxsLnJlcGxhY2VBbGwoLyg/OltcdTI3MDAtXHUyN2JmXXwoPzpcdWQ4M2NbXHVkZGU2LVx1ZGRmZl0pezJ9fFtcdWQ4MDAtXHVkYmZmXVtcdWRjMDAtXHVkZmZmXXxbXHUwMDIzLVx1MDAzOV1cdWZlMGY/XHUyMGUzfFx1MzI5OXxcdTMyOTd8XHUzMDNkfFx1MzAzMHxcdTI0YzJ8XHVkODNjW1x1ZGQ3MC1cdWRkNzFdfFx1ZDgzY1tcdWRkN2UtXHVkZDdmXXxcdWQ4M2NcdWRkOGV8XHVkODNjW1x1ZGQ5MS1cdWRkOWFdfFx1ZDgzY1tcdWRkZTYtXHVkZGZmXXxcdWQ4M2NbXHVkZTAxLVx1ZGUwMl18XHVkODNjXHVkZTFhfFx1ZDgzY1x1ZGUyZnxcdWQ4M2NbXHVkZTMyLVx1ZGUzYV18XHVkODNjW1x1ZGU1MC1cdWRlNTFdfFx1MjAzY3xcdTIwNDl8W1x1MjVhYS1cdTI1YWJdfFx1MjViNnxcdTI1YzB8W1x1MjVmYi1cdTI1ZmVdfFx1MDBhOXxcdTAwYWV8XHUyMTIyfFx1MjEzOXxcdWQ4M2NcdWRjMDR8W1x1MjYwMC1cdTI2RkZdfFx1MmIwNXxcdTJiMDZ8XHUyYjA3fFx1MmIxYnxcdTJiMWN8XHUyYjUwfFx1MmI1NXxcdTIzMWF8XHUyMzFifFx1MjMyOHxcdTIzY2Z8W1x1MjNlOS1cdTIzZjNdfFtcdTIzZjgtXHUyM2ZhXXxcdWQ4M2NcdWRjY2Z8XHUyOTM0fFx1MjkzNXxbXHUyMTkwLVx1MjFmZl0pL2csICcnKTsNCiAgICAgICAgICAgICAgICBuYW1lZnVsbCA9IG5hbWVmdWxsLnJlcGxhY2VBbGwoLyhcclxufFxufFxyKS9nbSwgIiIpOw0KICAgICAgICAgICAgICAgIG5hbWVmdWxsID0gbmFtZWZ1bGwucmVwbGFjZUFsbCgiXyIsICIiKTsNCiAgICAgICAgICAgICAgICBuYW1lZnVsbCA9IG5hbWVmdWxsLnJlcGxhY2VBbGwoIiEiLCAiIik7DQogICAgICAgICAgICAgICAgbmFtZWZ1bGwgPSBuYW1lZnVsbC5yZXBsYWNlQWxsKCIqIiwgIiIpOw0KICAgICAgICAgICAgICAgIG5hbWVmdWxsID0gbmFtZWZ1bGwucmVwbGFjZUFsbCgiIyIsICIiKTsNCiAgICAgICAgICAgICAgICBuYW1lZnVsbCA9IG5hbWVmdWxsLnJlcGxhY2VBbGwoIiYiLCAiICIpOw0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG5hbWVmdWxsKTsNCiAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tmZGFtYXRjaChuYW1lZnVsbCxkYXRhLnByb2R1Y3RoYSsnICcrZGF0YS5wcm9kdWNlbmcpDQoNCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmZGFsaXN0W2ZdLmRldGFpbCk7DQogICAgICAgICAgICAgICAgLy8gdmFyIGNhdCA9IHRoaXMuZmluZGNhdGVnb3J5KGZkYWxpc3RbZl0uZGV0YWlsKQ0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGNhdCk7DQogICAgICAgICAgICAgICAgdmFyIGZkYXR5cGUgPSB0aGlzLmZkYXR5cGUoZGF0YS50eXBlcHJvKQ0KICAgICAgICAgICAgICAgIGZkYXR5cGUgPSBmZGF0eXBlLnJlcGxhY2VBbGwoJyAnLCcnKQ0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGZkYXR5cGUpOyAgICANCiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGRhdGEucHJvZHVjdGhhLnJlcGxhY2VBbGwoJ+C4nOC4peC4tOC4leC4oOC4seC4k+C4keC5jCcsJycpDQogICAgICAgICAgICAgICAgdGhpcy50eXBlID0gZmRhdHlwZQ0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudHlwZSk7DQogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YS50eXBlcHJvKTsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy50eXBlID09ICcnKSB7DQogICAgICAgICAgICAgICAgICBpZiAoZGF0YS50eXBlcHJvKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IGRhdGEudHlwZXBybw0KICAgICAgICAgICAgICAgICAgICBmZGF0eXBlID0gZGF0YS50eXBlcHJvDQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGZkYXR5cGUpOw0KICAgICAgICAgICAgICAgIEZEQVR5cGVzU2VydmljZS5nZXRmZGF0eXBlcyhmZGF0eXBlKS50aGVuKCgpPT57DQogICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7DQogICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEubGVuZ3RoID09IDApIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGNhdHR5cGUgPSB7DQogICAgICAgICAgICAgICAgICAgICAgbmFtZTpmZGF0eXBlDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgRkRBVHlwZXNTZXJ2aWNlLmNyZWF0ZWZkYXR5cGUoY2F0dHlwZSkudGhlbigoKT0+ew0KICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tjYXRlZ29yeW1hdGNoKHJlcy5kYXRhWzBdLmNvbnRlbnQsZmRhdHlwZSkNCg0KICAgICAgICAgICAgICBmZGFsaXN0W2ZdLmRldGFpbCA9IGZkYWxpc3RbZl0uZGV0YWlsLnJlcGxhY2VBbGwoIiYiLCAiIik7DQogICAgICAgICAgICAgIGZkYWxpc3RbZl0uZGV0YWlsID0gZmRhbGlzdFtmXS5kZXRhaWwucmVwbGFjZUFsbCgiIyIsICIiKTsNCiAgICAgICAgICAgICAgICB0aGlzLmdldHRva2VuaXplKGZkYWxpc3RbZl0uZGV0YWlsLGZkYXR5cGUrbmFtZStkYXRhLnByb2R1Y2VuZykNCiAgICAgICAgICAgICAgICAvLyB0aGlzLmNoZWNra2V5d29yZChmZGFsaXN0W2ZdLmRldGFpbCkNCiAgICAgICAgICAgICAgICBpZiAoIWRhdGEubGNubm8pIHsNCiAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0uc3RhdHVzID0gMA0KICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5saXN0ID0gW10NCiAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0uYmcgPSAnYmFja2dyb3VuZC1jb2xvcjojZjliZGJiJw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICBmZGFsaXN0W2ZdLmxpc3QgPSBkYXRhDQogICAgICAgICAgICAgICAgICBmZGFsaXN0W2ZdLnN0YXR1cyA9IDENCiAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0uYmcgPSAnYmFja2dyb3VuZC1jb2xvcjojYTNlOWE0Jw0KICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YS5TVEFUVVNfSUQuaW5jbHVkZXMoNykpDQogICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNuY25tID09ICLguITguIfguK3guKLguLnguYgiKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzZmRhID0gMQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yZmRhID0gImJhY2tncm91bmQtY29sb3I6I2EzZTlhNCINCiAgICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5pY29uID0gJ2NvbG9yOiBncmVlbicNCg0KICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5pY29uID0gJ2NvbG9yOiByZWQnDQogICAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0uYmcgPSAnYmFja2dyb3VuZC1jb2xvcjojZjliZGJiJw0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgDQoNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmKzEsIGZkYWxpc3QubGVuZ3RoKTsNCiAgICAgICAgICAgICAgICBpZiAoZiArIDEgPT0gZmRhbGlzdC5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGZkYWxpc3QpOw0KICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ID0gZmRhbGlzdA0KDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubGlzdCk7DQogICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAvLyB9DQogICAgICB9KQ0KICAgIH0sDQogICAgc2VhcmNoYnlmZGEoKSB7DQogICAgICB0aGlzLnN0YXR1c25hbWU9MCwNCiAgICAgIHRoaXMuc3RhdHVzY2F0PTAsDQogICAgICB0aGlzLnN0YXR1c2ZkYT0wLA0KICAgICAgdGhpcy5jb2xvcm5hbWU9J2JhY2tncm91bmQtY29sb3I6I2Y5YmRiYicsDQogICAgICB0aGlzLmNvbG9yZmRhPSdiYWNrZ3JvdW5kLWNvbG9yOiNmOWJkYmInLA0KICAgICAgdGhpcy5jb2xvcmNhdD0nYmFja2dyb3VuZC1jb2xvcjojZjliZGJiJywNCiAgICAgIHRoaXMubGlzdCA9IFtdDQogICAgICBQcm9kdWN0c1NlcnZpY2UuZ2V0cHJvZHVjdCh0aGlzLmlkKS50aGVuKGFzeW5jIChyZXMpID0+IHsNCiAgICAgICAgDQogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsNCiAgICAgICAgaWYgKHJlcy5kYXRhLmNvbnRlbnQgPT0gJycgfHwgcmVzLmRhdGEubGVuZ3RoID09IDApIHsNCiAgICAgICAgICBhbGVydCgn4LmE4Lih4LmI4Lie4Lia4LiC4LmJ4Lit4Lih4Li54Lil4LmD4LiZ4Lij4Liw4Lia4LiaJykNCiAgICAgICAgfSBlbHNlIHsNCg0KICB0aGlzLnVybCA9IHJlcy5kYXRhLnVybA0KICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhWzBdLmNvbnRlbnQpOw0KICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudG9rZW5pemUpOw0KICAgICAgICAgIHRoaXMuZ2V0aW1hZ2VmaWxlKHJlcy5kYXRhLmlkKQ0KICAgICAgICAgIHZhciBkZXRhaWwgPSByZXMuZGF0YS5jb250ZW50DQogICAgICAgICAgLy8gdmFyIGRldGFpbCA9ICfguILguYnguK3guKHguLnguKXguIjguLPguYDguJ7guLLguLDguILguK3guIfguKrguLTguJnguITguYnguLLguKvguKHguKfguJTguKvguKHguLnguYhTaG9wZWXguIHguKXguLjguYjguKHguJzguKXguLTguJXguKDguLHguJPguJHguYzguYDguJ7guLfguYjguK3guKrguLjguILguKDguLLguJ7guK3guLLguKvguLLguKPguYDguKrguKPguLTguKHguYDguJ7guLfguYjguK3guITguKfguLLguKHguIfguLLguKHguJzguLTguKfguKLguLXguYjguKvguYnguK1HbG9iYWwgV2hpdGUo4LmC4LiB4Lil4Lia4Lit4Lil4LmE4Lin4LiX4LmMKeC4q+C4meC5ieC4suC4l+C4teC5iOC4guC4reC4h+C4reC4suC4q+C4suC4o+C5gOC4quC4o+C4tOC4oeC4quC4s+C4q+C4o+C4seC4muC4hOC4p+C4suC4oeC4h+C4suC4oeC4hOC4reC4peC4peC4suC5gOC4iOC4mSwg4Lic4LihIOC4nOC4tOC4pyDguYHguKXguLDguYDguKXguYfguJrguKvguKHguLLguKLguYDguKXguILguYPguJrguK3guJnguLjguI3guLLguJUv4Lit4LiiLjcwLTEtMjcxNjAtNS0wMjY44LiI4Liz4LiZ4Lin4LiZ4Liq4Li04LiZ4LiE4LmJ4LiyMjU44Liq4LmI4LiH4LiI4Liy4LiB4LiI4Lix4LiH4Lir4Lin4Lix4LiU4Lib4LiX4Li44Lih4LiY4Liy4LiZ4Li14Lij4Liy4Lii4Lil4Liw4LmA4Lit4Li14Lii4LiU4Liq4Li04LiZ4LiE4LmJ4Liy4Lir4Lih4Liy4Lii4LmA4Lil4LiC4LmD4Lia4Lit4LiZ4Li44LiN4Liy4LiVL+C4reC4oi7wn4y8NzAtMS0yNzE2MC01LTAyNjjguK3guLLguKLguLjguIHguLLguKPguYDguIHguYfguJrguKPguLHguIHguKnguLIgMjQg4LmA4LiU4Li34Lit4LiZJw0KICAgICAgICAgIHZhciBmZGEgPSAnJw0KICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGZkYSk7DQogICAgICAgICAgdmFyIGZkYWxpc3QgPSBbXQ0KICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsNCi8vIGlmIChmZGEubGVuZ3RoICE9IDEyKSB7DQovLyAgIGFsZXJ0KCfguKvguKHguLLguKLguYDguKXguILguYPguJrguK3guJnguLjguI3guLLguJXguYTguKHguYjguJbguLnguIHguJXguYnguK3guIcnKQ0KLy8gfWVsc2V7DQogIGlmIChyZXMuZGF0YS5mZGEpIHsNCiAgZmRhID0gcmVzLmRhdGEuZmRhLnJlcGxhY2VBbGwoJyAnLCcnKQ0KICBmZGEgPSByZXMuZGF0YS5mZGEucmVwbGFjZUFsbCgnXG5cbicsJycpDQogIH1lbHNlew0KICAgIGZkYSA9ICcnDQogIH0NCg0KICAgICAgICAgICAgZmRhbGlzdC5wdXNoKHsNCiAgICAgICAgICAgIGlkOiByZXMuZGF0YS5pZCwNCiAgICAgICAgICAgIG5hbWU6IHJlcy5kYXRhLm5hbWUsDQogICAgICAgICAgICBkZXRhaWw6IGRldGFpbCwNCiAgICAgICAgICAgIGZkYTogZmRhLA0KICAgICAgICAgICAgY2F0X25hbWU6cmVzLmRhdGEuY2F0X25hbWUNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGZkYWxpc3QpOw0KICAgICAgICAgIGZvciAobGV0IGYgPSAwOyBmIDwgZmRhbGlzdC5sZW5ndGg7IGYrKykgew0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZmRhbGlzdFtmXS5mZGEubGVuZ3RoKTsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGZkYWxpc3RbZl0uZmRhKTsNCiAgICAgICAgICAgIGlmICghZmRhIHx8IGlzTmFOKGZkYSkgfHwgZmRhID09MCkgeyANCiAgICAgICAgICAgICAgZmRhbGlzdFtmXS5zdGF0dXMgPSAwDQogICAgICAgICAgICAgIGZkYWxpc3RbZl0ubGlzdCA9IHt9DQogICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGZkYWxpc3RbZl0pOw0KDQogICAgICAgICAgICAgIGZkYWxpc3RbZl0uZGV0YWlsID0gZmRhbGlzdFtmXS5kZXRhaWwucmVwbGFjZUFsbCgiJiIsICIiKTsNCiAgICAgICAgICAgICAgZmRhbGlzdFtmXS5kZXRhaWwgPSBmZGFsaXN0W2ZdLmRldGFpbC5yZXBsYWNlQWxsKCIjIiwgIiIpOw0KICAgICAgICAgICAgICBjb25zb2xlLmxvZyhmZGFsaXN0W2ZdLmRldGFpbCk7DQogICAgICAgICAgICAgIHRoaXMuZ2V0dG9rZW5pemUoZmRhbGlzdFtmXS5kZXRhaWwsJycpDQogICAgICAgICAgICAgIC8vIHRoaXMuY2hlY2trZXl3b3JkKGZkYWxpc3RbZl0uZGV0YWlsKQ0KICAgICAgICAgICAgICB0aGlzLmxpc3QgPSBmZGFsaXN0DQogICAgICAgICAgICAgIGFsZXJ0KCfguYDguKXguILguK3guKIu4LiC4Lit4LiH4Lic4Lil4Li04LiV4Lig4Lix4LiT4LiR4LmM4LiZ4Li14LmJ4LmE4Lih4LmI4LiW4Li54LiB4LiV4LmJ4Lit4LiHJykNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgY29uc3QgdXJsID0gImh0dHBzOi8vdGF3YWlmb3JoZWFsdGgub3JnL2FwaS9vcnlvci9jaGVjay1wcm9kdWN0IjsNCiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7ICJudW1iZXJfc3JjIjogZmRhbGlzdFtmXS5mZGEgfTsNCi8vIGNvbnNvbGUubG9nKGRhdGEpOw0KICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHsNCiAgICAgICAgICAgICAgbWV0aG9kOiAiUE9TVCIsDQogICAgICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICAgICBBY2NlcHQ6ICJhcHBsaWNhdGlvbi9qc29uIiwNCiAgICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCIsDQogICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLA0KICAgICAgICAgICAgfTsNCg0KICAgICAgICAgICAgZmV0Y2godXJsLCBvcHRpb25zKQ0KICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSkNCiAgICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHsNCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTsNCiAgICAgICAgICAgICAgICAvLyBwcm9kdWN0aGENCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhLm1lc3NhZ2UpOw0KICAgICAgICAgICAgICAgIGlmIChkYXRhLm1lc3NhZ2UpIHsNCiAgICAgICAgICAgICAgICAgIGRhdGEucHJvZHVjZW5nID0gJycNCiAgICAgICAgICAgICAgICAgIGRhdGEucHJvZHVjdGhhID0gJycNCiAgICAgICAgICAgICAgICAgIGRhdGEudHlwZXBybyA9ICcnDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDEpIHsNCiAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0uc3RhdHVzID0gMA0KICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5saXN0ID0ge30NCiAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGZkYWxpc3RbZl0pOw0KDQogICAgICAgICAgICAgIGZkYWxpc3RbZl0uZGV0YWlsID0gZmRhbGlzdFtmXS5kZXRhaWwucmVwbGFjZUFsbCgiJiIsICIiKTsNCiAgICAgICAgICAgICAgZmRhbGlzdFtmXS5kZXRhaWwgPSBmZGFsaXN0W2ZdLmRldGFpbC5yZXBsYWNlQWxsKCIjIiwgIiIpOw0KICAgICAgICAgICAgICAgICAgdGhpcy5nZXR0b2tlbml6ZShmZGFsaXN0W2ZdLmRldGFpbCwnJykNCiAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY2hlY2trZXl3b3JkKGZkYWxpc3RbZl0uZGV0YWlsKQ0KICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ID0gZmRhbGlzdA0KICAgICAgICAgICAgICAgICAgYWxlcnQoJ+C5hOC4oeC5iOC4nuC4muC5gOC4peC4guC4reC4oi7guYPguJnguYDguKfguYfguJrguYTguIvguJXguYzguILguK3guIfguJzguKXguLTguJXguKDguLHguJPguJHguYzguJnguLXguYknKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvLyB2YXIgbmFtZWZ1bGwgPWZkYWxpc3RbZl0ubmFtZSsiICIgK3RoaXMuZmluZGRlc2NyaXB0aW9uKGZkYWxpc3RbZl0uZGV0YWlsKQ0KICAgICAgICAgICAgICAgIHZhciBuYW1lZnVsbCA9ZmRhbGlzdFtmXS5uYW1lICsgJyAnK2ZkYWxpc3RbZl0uZGV0YWlsDQogICAgICAgICAgICAgICAgbmFtZWZ1bGwgPSBuYW1lZnVsbC5yZXBsYWNlQWxsKC8oW1x1RTAwMC1cdUY4RkZdfFx1RDgzQ1tcdURGMDAtXHVERkZGXXxcdUQ4M0RbXHVEQzAwLVx1RERGRl0pL2csICcnKQ0KICAgICAgICAgICAgICAgIG5hbWVmdWxsID0gbmFtZWZ1bGwucmVwbGFjZUFsbCgvKD86W1x1MjcwMC1cdTI3YmZdfCg/Olx1ZDgzY1tcdWRkZTYtXHVkZGZmXSl7Mn18W1x1ZDgwMC1cdWRiZmZdW1x1ZGMwMC1cdWRmZmZdfFtcdTAwMjMtXHUwMDM5XVx1ZmUwZj9cdTIwZTN8XHUzMjk5fFx1MzI5N3xcdTMwM2R8XHUzMDMwfFx1MjRjMnxcdWQ4M2NbXHVkZDcwLVx1ZGQ3MV18XHVkODNjW1x1ZGQ3ZS1cdWRkN2ZdfFx1ZDgzY1x1ZGQ4ZXxcdWQ4M2NbXHVkZDkxLVx1ZGQ5YV18XHVkODNjW1x1ZGRlNi1cdWRkZmZdfFx1ZDgzY1tcdWRlMDEtXHVkZTAyXXxcdWQ4M2NcdWRlMWF8XHVkODNjXHVkZTJmfFx1ZDgzY1tcdWRlMzItXHVkZTNhXXxcdWQ4M2NbXHVkZTUwLVx1ZGU1MV18XHUyMDNjfFx1MjA0OXxbXHUyNWFhLVx1MjVhYl18XHUyNWI2fFx1MjVjMHxbXHUyNWZiLVx1MjVmZV18XHUwMGE5fFx1MDBhZXxcdTIxMjJ8XHUyMTM5fFx1ZDgzY1x1ZGMwNHxbXHUyNjAwLVx1MjZGRl18XHUyYjA1fFx1MmIwNnxcdTJiMDd8XHUyYjFifFx1MmIxY3xcdTJiNTB8XHUyYjU1fFx1MjMxYXxcdTIzMWJ8XHUyMzI4fFx1MjNjZnxbXHUyM2U5LVx1MjNmM118W1x1MjNmOC1cdTIzZmFdfFx1ZDgzY1x1ZGNjZnxcdTI5MzR8XHUyOTM1fFtcdTIxOTAtXHUyMWZmXSkvZywgJycpOw0KICAgICAgICAgICAgICAgIG5hbWVmdWxsID0gbmFtZWZ1bGwucmVwbGFjZUFsbCgvKFxyXG58XG58XHIpL2dtLCAiIik7DQogICAgICAgICAgICAgICAgbmFtZWZ1bGwgPSBuYW1lZnVsbC5yZXBsYWNlQWxsKCJfIiwgIiIpOw0KICAgICAgICAgICAgICAgIG5hbWVmdWxsID0gbmFtZWZ1bGwucmVwbGFjZUFsbCgiISIsICIiKTsNCiAgICAgICAgICAgICAgICBuYW1lZnVsbCA9IG5hbWVmdWxsLnJlcGxhY2VBbGwoIioiLCAiIik7DQogICAgICAgICAgICAgICAgbmFtZWZ1bGwgPSBuYW1lZnVsbC5yZXBsYWNlQWxsKCIjIiwgIiIpOw0KICAgICAgICAgICAgICAgICBuYW1lZnVsbCA9IG5hbWVmdWxsLnJlcGxhY2VBbGwoIiYiLCAiICIpOw0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG5hbWVmdWxsKTsNCiAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tmZGFtYXRjaChuYW1lZnVsbCxkYXRhLnByb2R1Y3RoYSsnICcrZGF0YS5wcm9kdWNlbmcpDQoNCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmZGFsaXN0W2ZdLmRldGFpbCk7DQogICAgICAgICAgICAgICAgLy8gdmFyIGNhdCA9IHRoaXMuZmluZGNhdGVnb3J5KGZkYWxpc3RbZl0uZGV0YWlsKQ0KICAgICAgICAgICAgICAgIHZhciBjYXQgPSBmZGFsaXN0W2ZdLm5hbWUrZmRhbGlzdFtmXS5kZXRhaWwNCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjYXQpOw0KICAgICAgICAgICAgICAgIHZhciBmZGF0eXBlID0gdGhpcy5mZGF0eXBlKGRhdGEudHlwZXBybykNCiAgICAgICAgICAgICAgICBmZGF0eXBlID0gZmRhdHlwZS5yZXBsYWNlQWxsKCcgJywnJykNCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmZGF0eXBlKTsgICAgDQogICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBkYXRhLnByb2R1Y3RoYS5yZXBsYWNlQWxsKCfguJzguKXguLTguJXguKDguLHguJPguJHguYwnLCcnKQ0KICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IGZkYXR5cGUNCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnR5cGUpOw0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEudHlwZXBybyk7DQogICAgICAgICAgICAgICAgaWYgKHRoaXMudHlwZSA9PSAnJykgew0KICAgICAgICAgICAgICAgICAgaWYgKGRhdGEudHlwZXBybykgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBkYXRhLnR5cGVwcm8NCiAgICAgICAgICAgICAgICAgICAgZmRhdHlwZSA9IGRhdGEudHlwZXBybw0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmZGF0eXBlKTsNCiAgICAgICAgICAgICAgICBGREFUeXBlc1NlcnZpY2UuZ2V0ZmRhdHlwZXMoZmRhdHlwZSkudGhlbigoKT0+ew0KICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEpOw0KICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmxlbmd0aCA9PSAwKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBjYXR0eXBlID0gew0KICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ZmRhdHlwZQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIEZEQVR5cGVzU2VydmljZS5jcmVhdGVmZGF0eXBlKGNhdHR5cGUpLnRoZW4oKCk9PnsNCiAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrY2F0ZWdvcnltYXRjaChjYXQsZmRhdHlwZSkNCg0KICAgICAgICAgICAgICBmZGFsaXN0W2ZdLmRldGFpbCA9IGZkYWxpc3RbZl0uZGV0YWlsLnJlcGxhY2VBbGwoIiYiLCAiIik7DQogICAgICAgICAgICAgIGZkYWxpc3RbZl0uZGV0YWlsID0gZmRhbGlzdFtmXS5kZXRhaWwucmVwbGFjZUFsbCgiIyIsICIiKTsNCiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZmRhbGlzdFtmXS5kZXRhaWwpOw0KICAgICAgICAgICAgICAgIHRoaXMuZ2V0dG9rZW5pemUoZmRhbGlzdFtmXS5kZXRhaWwsZmRhdHlwZStuYW1lK2RhdGEucHJvZHVjZW5nKQ0KICAgICAgICAgICAgICAgIC8vIHRoaXMuY2hlY2trZXl3b3JkKGZkYWxpc3RbZl0uZGV0YWlsKQ0KICAgICAgICAgICAgICAgIGlmICghZGF0YS5sY25ubykgew0KICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5zdGF0dXMgPSAwDQogICAgICAgICAgICAgICAgICBmZGFsaXN0W2ZdLmxpc3QgPSBbXQ0KICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5iZyA9ICdiYWNrZ3JvdW5kLWNvbG9yOiNmOWJkYmInDQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0ubGlzdCA9IGRhdGENCiAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0uc3RhdHVzID0gMQ0KICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5iZyA9ICdiYWNrZ3JvdW5kLWNvbG9yOiNhM2U5YTQnDQogICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhLlNUQVRVU19JRC5pbmNsdWRlcyg3KSkNCiAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEuY25jbm0pOw0KICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY25jbm0uaW5jbHVkZXMoIuC4hOC4h+C4reC4ouC4ueC5iCIpKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzZmRhID0gMQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yZmRhID0gImJhY2tncm91bmQtY29sb3I6I2EzZTlhNCINCiAgICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5pY29uID0gJ2NvbG9yOiBncmVlbicNCg0KICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5pY29uID0gJ2NvbG9yOiByZWQnDQogICAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0uYmcgPSAnYmFja2dyb3VuZC1jb2xvcjojZjliZGJiJw0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgDQoNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmKzEsIGZkYWxpc3QubGVuZ3RoKTsNCiAgICAgICAgICAgICAgICBpZiAoZiArIDEgPT0gZmRhbGlzdC5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGZkYWxpc3QpOw0KICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ID0gZmRhbGlzdA0KDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubGlzdCk7DQogICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAvLyB9DQogICAgICB9KQ0KICAgIH0sDQogICAgb25DaGFuZ2VBMShldmVudCkgew0KICAgICAgdGhpcy5saXN0ID0gW10NCiAgICAgIHRoaXMuZmlsZSA9IGV2ZW50LnRhcmdldC5maWxlcyA/IGV2ZW50LnRhcmdldC5maWxlc1swXSA6IG51bGw7DQogICAgICAvLyB2YXIgYyA9ICfimJXvuI9b4Lie4Lij4LmJ4Lit4Lih4Liq4LmI4LiHXSBDYWwgcyBDb2ZmZWUgYnkgUHJpbWF5YSDguIHguLLguYHguJ/guYHguITguKXguYDguK3guKog4LmC4LiB4LmC4LiB4LmJ4LmB4LiE4Lil4LmA4Lit4LiqIOC4iuC4suC5hOC4l+C4ouC5geC4hOC4peC5gOC4reC4qiAxIOC4geC4peC5iOC4reC4hyAxMCDguIvguK3guIfguJnguYnguLPguKvguJnguLHguIHguKPguLHguIHguKnguLLguKrguLHguJTguKrguYjguKfguJnguKvguKHguLLguKLguYDguKXguILguK3guKIuL+C5g+C4muC4reC4meC4uOC4jeC4suC4lTEzMTAxNzYwMjAwODDguKXguLHguIHguKnguJPguLDguJzguIfguIjguLPguJnguKfguJnguKrguLTguJnguITguYnguLIzOTLguKrguYjguIfguIjguLLguIHguYDguILguJXguJTguK3guJnguYDguKHguLfguK3guIcsIOC4iOC4seC4h+C4q+C4p+C4seC4lOC4geC4o+C4uOC4h+C5gOC4l+C4nuC4oeC4q+C4suC4meC4hOC4oycNCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZmluZGZkYShjKSkNCiAgICAgIHZhciBmZGFsaXN0ID0gW10NCiAgICAgIGlmICh0aGlzLmZpbGUpIHsNCiAgICAgICAgdGhpcy5zdGF0dXMgPSB0cnVlDQogICAgICAgIHJlYWRYbHN4RmlsZShldmVudC50YXJnZXQuZmlsZXNbMF0pLnRoZW4oYXN5bmMgKGV4Y2VsKSA9PiB7DQogICAgICAgICAgLy8gY29uc29sZS5sb2coZXhjZWwpOw0KICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgZXhjZWwubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGFbaV1bMF0pOw0KICAgICAgICAgICAgdmFyIGRldGFpbCA9IGV4Y2VsW2ldWzBdDQogICAgICAgICAgICB2YXIgZmRhID0gdGhpcy5maW5kZmRhKGRldGFpbCkNCg0KICAgICAgICAgICAgZmRhbGlzdC5wdXNoKHsNCiAgICAgICAgICAgICAgZGV0YWlsOiBkZXRhaWwsDQogICAgICAgICAgICAgIGZkYTogZmRhDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgaWYgKGkgKyAxID09IGV4Y2VsLmxlbmd0aCkgew0KICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmZGFsaXN0KTsNCiAgICAgICAgICAgICAgZm9yIChsZXQgZiA9IDA7IGYgPCBmZGFsaXN0Lmxlbmd0aDsgZisrKSB7DQogICAgICAgICAgICAgICAgaWYgKCFmZGFsaXN0W2ZdLmZkYSkgew0KICAgICAgICAgICAgICBhbGVydCgn4LmA4Lil4LiC4Lit4LiiLuC4guC4reC4h+C4nOC4peC4tOC4leC4oOC4seC4k+C4keC5jOC4meC4teC5ieC5hOC4oeC5iOC4luC4ueC4geC4leC5ieC4reC4hycpDQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSAiaHR0cHM6Ly90YXdhaWZvcmhlYWx0aC5vcmcvYXBpL29yeW9yL2NoZWNrLXByb2R1Y3QiOw0KICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7ICJudW1iZXJfc3JjIjogZmRhbGlzdFtmXS5mZGEgfTsNCg0KICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7DQogICAgICAgICAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwNCiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAiYXBwbGljYXRpb24vanNvbiIsDQogICAgICAgICAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04IiwNCiAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSwNCiAgICAgICAgICAgICAgICB9Ow0KDQogICAgICAgICAgICAgICAgYXdhaXQgZmV0Y2godXJsLCBvcHRpb25zKQ0KICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpDQogICAgICAgICAgICAgICAgICAudGhlbigoZGF0YSkgPT4gew0KICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubWVzc2FnZSkgew0KICAgICAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0uc3RhdHVzID0gMA0KICAgICAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0ubGlzdCA9IFtdDQogICAgICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5iZyA9ICdiYWNrZ3JvdW5kLWNvbG9yOiNmOWJkYmInDQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5saXN0ID0gZGF0YQ0KICAgICAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0uc3RhdHVzID0gMQ0KICAgICAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0uYmcgPSAnYmFja2dyb3VuZC1jb2xvcjojYTNlOWE0Jw0KICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEuU1RBVFVTX0lELmluY2x1ZGVzKDcpKQ0KICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNuY25tID09ICLguITguIfguK3guKLguLnguYgiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBmZGFsaXN0W2ZdLmljb24gPSAnY29sb3I6IGdyZWVuJw0KDQogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0uaWNvbiA9ICdjb2xvcjogcmVkJw0KICAgICAgICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5iZyA9ICdiYWNrZ3JvdW5kLWNvbG9yOiNmOWJkYmInDQogICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZisxLCBmZGFsaXN0Lmxlbmd0aCk7DQogICAgICAgICAgICAgICAgICAgIGlmIChmICsgMSA9PSBmZGFsaXN0Lmxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGZkYWxpc3QpOw0KICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdCA9IGZkYWxpc3QNCiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXR1cyA9IGZhbHNlDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICAgIHRoaXMuZmlsZSA9ICcnDQogICAgfSwNCiAgICBmaW5kY2F0ZWdvcnkoZGF0YSl7DQogICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTsNCiAgICAgIHZhciB0ZXh0ID0gWyfguKvguKHguKfguJTguKvguKHguLnguYgnXQ0KICAgICAgdmFyIGVuZCA9IFsn4Lii4Li14LmI4Lir4LmJ4LitJywn4Lib4Lij4Liw4LmA4LiX4LioJ10NCiAgICAgIHZhciBmaW5kZmRhID0gZGF0YQ0KICAgICAgZm9yIChsZXQgdCA9IDA7IHQgPCBlbmQubGVuZ3RoOyB0KyspIHsNCiAgICAgICAgaWYgKGZpbmRmZGEuaW5kZXhPZihlbmRbdF0pICE9IC0xKSB7DQogICAgICAgICAgZmluZGZkYSA9IGZpbmRmZGEuc3Vic3RyaW5nKGZpbmRmZGEuaW5kZXhPZih0ZXh0WzBdKSxmaW5kZmRhLmluZGV4T2YoZW5kW3RdKSk7ICAgIA0KICAgICAgICB9DQoNCiAgICAgIH0NCiAgICAgIC8vIGlmIChmaW5kZmRhID09ICfguK3guLLguKvguLLguKMnKSB7DQogICAgICAvLyAgIGZpbmRmZGEgPSBmaW5kZmRhKyBmaW5kZmRhKyfguYDguKrguKPguLTguKEnDQogICAgICAvLyB9DQogICAgICAvLyBjb25zb2xlLmxvZyhmaW5kZmRhKTsNCiAgICAgIHJldHVybiBmaW5kZmRhDQogICAgfSwNCiAgICBmaW5kZGVzY3JpcHRpb24oZGF0YSl7DQogICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTsNCiAgICAgIHZhciB0ZXh0ID0gWyfguKPguLLguKLguKXguLDguYDguK3guLXguKLguJQnXQ0KICAgICAgdmFyIGZpbmRmZGEgPSBkYXRhDQogICAgICBmb3IgKGxldCB0ID0gMDsgdCA8IHRleHQubGVuZ3RoOyB0KyspIHsNCiAgICAgICAgaWYgKGZpbmRmZGEuaW5kZXhPZih0ZXh0W3RdKSAhPSAtMSkgew0KDQogICAgICAgICAgZmluZGZkYSA9IGZpbmRmZGEuc3Vic3RyaW5nKGZpbmRmZGEuaW5kZXhPZih0ZXh0W3RdKSk7ICANCiAgICAgICAgfQ0KDQogICAgICB9DQogICAgICAvLyBpZiAoZmluZGZkYSA9PSAn4Lit4Liy4Lir4Liy4LijJykgew0KICAgICAgLy8gICBmaW5kZmRhID0gZmluZGZkYSsgZmluZGZkYSsn4LmA4Liq4Lij4Li04LihJw0KICAgICAgLy8gfQ0KICAgICAgLy8gY29uc29sZS5sb2coZmluZGZkYSk7DQogICAgICByZXR1cm4gZmluZGZkYQ0KICAgIH0sDQogICAgZmRhdHlwZShkYXRhKXsNCiAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpOw0KICAgICAgaWYgKGRhdGEpIHsNCiAgICAgICAgdmFyIHRleHQgPSBbJygnXQ0KICAgICAgdmFyIGZpbmRmZGEgPSBkYXRhDQogICAgICBmb3IgKGxldCB0ID0gMDsgdCA8IHRleHQubGVuZ3RoOyB0KyspIHsNCiAgICAgICAgZmluZGZkYSA9IGZpbmRmZGEuc3Vic3RyaW5nKGZpbmRmZGEuaW5kZXhPZigwKSxmaW5kZmRhLmluZGV4T2YodGV4dFswXSkpOw0KDQogICAgICB9DQogICAgICB9ZWxzZXsNCiAgICAgICAgZmluZGZkYSA9ICcnDQogICAgICB9DQogICAgICByZXR1cm4gZmluZGZkYQ0KICAgIH0sDQogICAgZmluZGZkYShkYXRhKSB7DQogICAgICB2YXIgdGV4dCA9IFsn4Lir4Lih4Liy4Lii4LmA4Lil4LiC4LmD4Lia4Lit4LiZ4Li44LiN4Liy4LiVL+C4reC4oi4nXQ0KICAgICAgdmFyIGVuZCA9IFsn4LiI4Liz4LiZ4Lin4LiZJ10NCiAgICAgIHZhciBmaW5kZmRhID0gZGF0YQ0KICAgICAgZm9yIChsZXQgdCA9IDA7IHQgPCB0ZXh0Lmxlbmd0aDsgdCsrKSB7DQogICAgICAgIGZpbmRmZGEgPSBmaW5kZmRhLnN1YnN0cmluZyhmaW5kZmRhLmluZGV4T2YodGV4dFt0XSksZmluZGZkYS5pbmRleE9mKGVuZFswXSkpOw0KDQogICAgICB9DQogICAgICAvLyBjb25zb2xlLmxvZyhmaW5kZmRhKTsNCg0KICAgICAgZmluZGZkYSA9IGZpbmRmZGEucmVwbGFjZUFsbCgi4Lir4Lih4Liy4Lii4LmA4Lil4LiC4LmD4Lia4Lit4LiZ4Li44LiN4Liy4LiVL+C4reC4oi4iLCAiIik7DQogICAgICBmaW5kZmRhID0gZmluZGZkYS5yZXBsYWNlQWxsKCItIiwgIiIpOw0KICAgICAgZmluZGZkYSA9IGZpbmRmZGEucmVwbGFjZUFsbCgi4oCTIiwgIiIpOw0KICAgICAgLy8gY29uc29sZS5sb2coZmluZGZkYSk7DQogICAgICAvLyB2YXIgcmVnZXggPSAvXGQrL2c7DQogICAgICAvLyB2YXIgbWF0Y2hlcyA9IGZpbmRmZGEubWF0Y2gocmVnZXgpOyAgLy8gY3JlYXRlcyBhcnJheSBmcm9tIG1hdGNoZXMNCiAgICAgIC8vIGNvbnNvbGUubG9nKG1hdGNoZXNbMF0pOw0KICAgICAgcmV0dXJuIGZpbmRmZGENCiAgICB9LA0KICAgIGxvYWRkYXRhKGZkYSkgew0KICAgICAgY29uc3QgdXJsID0gImh0dHBzOi8vdGF3YWlmb3JoZWFsdGgub3JnL2FwaS9vcnlvci9jaGVjay1wcm9kdWN0IjsNCiAgICAgIGNvbnN0IGRhdGEgPSB7ICJudW1iZXJfc3JjIjogZmRhIH07DQoNCiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7DQogICAgICAgIG1ldGhvZDogIlBPU1QiLA0KICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgQWNjZXB0OiAiYXBwbGljYXRpb24vanNvbiIsDQogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgiLA0KICAgICAgICB9LA0KICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSwNCiAgICAgIH07DQoNCiAgICAgIGZldGNoKHVybCwgb3B0aW9ucykNCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpDQogICAgICAgIC50aGVuKChkYXRhKSA9PiB7DQogICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7DQogICAgICAgICAgcmV0dXJuIGRhdGENCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBhc3luYyBjaGVja2ZkYShmZGEpIHsNCiAgICAgIHdpbmRvdy5vcGVuKA0KICAgICAgICAiL2RldGFpbC8iICsgZmRhLA0KICAgICAgICAiX2JsYW5rIiAvLyA8LSBUaGlzIGlzIHdoYXQgbWFrZXMgaXQgb3BlbiBpbiBhIG5ldyB3aW5kb3cuDQogICAgICApOw0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLiRyb3V0ZS5xdWVyeS5pZCk7DQogICANCiAgICBpZiAodGhpcy4kcm91dGUucXVlcnkuaWQpIHsNCiAgICAgIHRoaXMuaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pZA0KLy8gICAgICAgdmFyIGN1dHVybCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnVybC5zcGxpdCgnLycpDQovLyAgICAgICB2YXIgbCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnVybC5zcGxpdCgnPycpDQovLyAgICAgICBjb25zb2xlLmxvZyhsKTsNCi8vICAgICAgIGNvbnNvbGUubG9nKGN1dHVybCk7DQovLyAgICAgICAvLyBjb25zb2xlLmxvZyhlbmNvZGVVUklDb21wb25lbnQoY3V0dXJsWzNdKSk7DQovLyAgICAgICB2YXIgZW5jb2RldXJsID0gZW5jb2RlVVJJQ29tcG9uZW50KGN1dHVybFszXSkNCi8vICAgICAgIHZhciBsZW5jb2RlID0gZW5jb2RldXJsLnNwbGl0KCclM0ZzcF9hdGslJykgDQovLyAgICAgICBjb25zb2xlLmxvZyhsZW5jb2RlKTsNCi8vIHRoaXMudXJsID0gJ2h0dHBzOi8vc2hvcGVlLmNvLnRoLycrZW5jb2RlVVJJQ29tcG9uZW50KGxlbmNvZGVbMF0pKyI/IitsWzFdDQovLyBjb25zb2xlLmxvZyh0aGlzLnVybCk7DQogICAgICB0aGlzLnNlYXJjaGJ5ZmRhKCkNCiAgICB9DQogICAgLy8gY29uc29sZS5sb2codGhpcy5maW5kY2F0ZWdvcnkoJ+C4guC5ieC4reC4oeC4ueC4peC4iOC4s+C5gOC4nuC4suC4sOC4guC4reC4h+C4quC4tOC4meC4hOC5ieC4suC4q+C4oeC4p+C4lOC4q+C4oeC4ueC5iFNob3BlZeC4reC4suC4q+C4suC4o+C5geC4peC4sOC5gOC4hOC4o+C4t+C5iOC4reC4h+C4lOC4t+C5iOC4oeC5gOC4hOC4o+C4t+C5iOC4reC4h+C4lOC4t+C5iOC4oeC4geC4suC5geC4n+C4ouC4teC5iOC4q+C5ieC4rUJlIEVhc3ko4Lia4Li14Lit4Li14LiL4Li14LmIKeC5gOC4hOC4o+C4t+C5iOC4reC4h+C4lOC4t+C5iOC4oTMtaW4tMSDguYHguKXguLDguIHguLLguYHguJ/guKrguLPguYDguKPguYfguIjguKPguLnguJvguK3guLLguKLguLjguIHguLLguKPguYDguIHguYfguJrguKPguLHguIHguKnguLIyNCDguYDguJTguLfguK3guJnguJnguYnguLPguKvguJnguLHguIExNTBn4Lin4Lix4LiZ4Lir4Lih4LiU4Lit4Liy4Lii4Li4MDgtMTItMjAyM+C4q+C4oeC4suC4ouC5gOC4peC4guC5g+C4muC4reC4meC4uOC4jeC4suC4lS/guK3guKIuMTMtMi0wMzY1Ny0yLTAwNTTguIjguLPguJnguKfguJnguKrguLTguJnguITguYnguLI5NeC4quC5iOC4h+C4iOC4suC4geC4iOC4seC4h+C4q+C4p+C4seC4lOC4m+C4l+C4uOC4oeC4mOC4suC4meC4teC4o+C4suC4ouC4peC4sOC5gOC4reC4teC4ouC4lOC4quC4tOC4meC4hOC5ieC4skJlIEVhc3kg4LiX4Li14LmI4Liq4Li44LiU4LiC4Lit4LiH4LiB4Liy4LmB4Lif4LiE4Lin4Lia4LiE4Li44Lih4LiZ4LmJ4Liz4Lir4LiZ4Lix4LiBIOC5gOC4nuC4teC4ouC4hyA3MCBLY2FsIC0g4LiB4Lij4Liw4LiK4Lix4Lia4Liq4Lix4LiU4Liq4LmI4Lin4LiZIOC5hOC4guC4oeC4seC4meC4quC5iOC4p+C4meC5gOC4geC4tOC4mSAtIOC4lOC4teC4l+C5iuC4reC4geC4i+C5jOC4guC4reC4h+C5gOC4quC4teC4ouC4reC4reC4geC4iOC4suC4geC4o+C5iOC4suC4ouC4geC4suC4oiAtIOC4nOC4tOC4p+C4nuC4o+C4o+C4k+C5gOC4m+C4peC5iOC4h+C4m+C4peC4seC5iOC4hyDguIHguKPguLDguIjguYjguLLguIfguYPguKogLSDguJrguLPguKPguLjguIfguKPguYjguLLguIfguIHguLLguKIg4Lia4Liz4Lij4Li44LiH4Lin4Lih4Lit4LiHIOC4oeC4teC4guC4reC4h+C4nuC4o+C5ieC4reC4oeC4quC5iOC4h+C4leC4peC4reC4lCDguKrguLHguYjguIfguYTguJTguYnguYDguKXguKLguIjguYnguLIg4Lit4LiiLiDguYDguKXguILguJfguLXguYggMTMtMi0wMzY1Ny0yLTAwNTQg4LiB4Liy4LmB4Lif4Lia4Li14Lit4Li14LiL4Li14LmIIOC4geC4peC4tOC5iOC4meC4q+C4reC4oSDguKPguKrguIrguLLguJXguLQg4LiB4Lil4Lih4LiB4Lil4LmI4Lit4LihIOKAnOC4hOC4suC4m+C4ueC4iuC4tOC5guC4meC5iOKAneC4meC4uOC5iOC4oeC5huC4peC4sOC4oeC4uOC4meC4peC4tOC5ieC4mSAxIOC4q+C5iOC4rSDguKHguLUgMTAg4LiL4Lit4LiHIOC5g+C4q+C5ieC4leC4suC4ouC5gOC4luC4reC4sCEg4LiB4Liy4LmB4Lif4Lia4LmJ4Liy4Lit4Liw4LmE4Lij4Lii4Li04LmI4LiH4LiU4Li34LmI4Lih4Lii4Li04LmI4LiH4Lir4Li44LmI4LiZ4LiU4Li1ISDguJnguYnguLPguKvguJnguLHguIHguKXguJQg4LmA4Lit4Lin4LiZ4Li14LmI4Lir4LiU4Lil4LiH4LiX4Li44LiB4Lin4Lix4LiZ4LmGISDguYLguITguKPguJXguKvguK3guKEg4LmC4LiE4Lij4LiV4Lit4Lij4LmI4Lit4LiiIOC5guC4hOC4o+C4leC4geC4peC4oeC4geC4peC5iOC4reC4oSDguKXguK3guIfguKrguLTguYHguKXguYnguKfguITguLjguJPguIjguLDguJXguLTguJTguYPguIghICPguIHguLLguYHguJ/guJrguLXguK3guLXguIvguLXguYggI+C4geC4suC5geC4n+C4meC4suC4h+C4muC4tSAjQmVlYXN5Y2FwcHVjY2lubycpKQ0KICAgIC8vIHZhciB1cmwgPSAnZmlsZTovLy9Vc2Vycy9wb25uaXBhL0RvY3VtZW50cy9HaXRIdWIvc2hvcGh0bWwvJUYwJTlGJThEJTkyJTIwKCVFMCVCOCU4MiVFMCVCOCVBRCVFMCVCOCU4NyVFMCVCOSU4MSVFMCVCOCU5NyVFMCVCOSU4OTEwMCUyNSklMjBKZWxseSUyMEZpYmVyJTIwJUUwJUI5JTgwJUUwJUI4JTg4JUUwJUI4JUE1JUUwJUI4JUE1JUUwJUI4JUI1JUUwJUI5JTg4JUUwJUI5JTg0JUUwJUI4JTlGJUUwJUI5JTgwJUUwJUI4JTlBJUUwJUI4JUFEJUUwJUI4JUEzJUUwJUI5JThDJTIwJUUwJUI4JUE1JUUwJUI4JTk0JUUwJUI4JTlFJUUwJUI4JUI4JUUwJUI4JTg3JTIwJUUwJUI4JUE1JUUwJUI4JTk0JUUwJUI4JTk5JUUwJUI5JTg5JUUwJUI4JUIzJUUwJUI4JUFCJUUwJUI4JTk5JUUwJUI4JUIxJUUwJUI4JTgxJTIwMSVFMCVCOCU4MSVFMCVCOCVBNSVFMCVCOSU4OCVFMCVCOCVBRCVFMCVCOCU4N181JTIwJUUwJUI4JThCJUUwJUI4JUFEJUUwJUI4JTg3JTIwXyUyMFNob3BlZSUyMFRoYWlsYW5kLmh0bWwnDQogICAgLy8gUHJvZHVjdHNTZXJ2aWNlLnNjcmFwaW5nKHVybCkudGhlbigocmVzKT0+ew0KICAgIC8vICAgY29uc29sZS5sb2cocmVzLmRhdGEpOw0KICAgIC8vIH0pDQogIH0sDQp9Ow0K"},{"version":3,"sources":["check.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6HA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"check.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"container\" style=\"height: 600px\">\r\n    <div class=\"form-group mt-5 mb-3\">\r\n\r\n      <label for=\"exampleFormControlTextarea1\">URL</label>\r\n      <textarea v-model=\"url\" class=\"form-control\" id=\"exampleFormControlTextarea1\" rows=\"7\"></textarea>\r\n    </div>\r\n    <button @click=\"search()\" type=\"submit\" class=\"mb-3 btn btn-success\">\r\n      \r\n    </button>\r\n    <!-- <div class=\"form-group mt-5\">\r\n        <label for=\"exampleFormControlFile1\">&nbsp;</label>\r\n        <input type=\"file\" @change=\"onChangeA1\" class=\"form-control-file\" id=\"exampleFormControlFile1\" />\r\n      </div> -->\r\n      <table class=\"table table-bordered\" v-if=\"list.length > 0 && url\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\" style=\"text-align:center;background-color:#ffb454\"> 1</th>\r\n          <th scope=\"col\" style=\"text-align:center;background-color:#ffb454\">.</th>\r\n          <th scope=\"col\" style=\"text-align:center;background-color:#ffb454\"></th>\r\n          <th scope=\"col\" style=\"text-align:center;background-color:#ffb454\"></th>\r\n          <th scope=\"col\" style=\"text-align:center;background-color:#ffb454\"></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td :style=\"colorfda\"></td>\r\n          <td :style=\"colorfda\"><span v-if=\"list[0].status\">{{ list[0].fda }}</span></td>\r\n          <td :style=\"colorfda\">{{ list[0].fda }} </td>\r\n          <td :style=\"colorfda\">{{ list[0].list.cncnm || '' }}</td>\r\n          <td v-if=\"statusfda && statuscat && statusname\" rowspan=\"3\" style=\"text-align: center;vertical-align: middle;background-color:#a3e9a4\">\r\n          <span></span>{{ updatestatusfda() }}</td>\r\n          <td v-else rowspan=\"3\" style=\"text-align: center;vertical-align: middle;background-color:#f9bdbb\">\r\n          <span></span>{{ updatestatusfda() }}</td>\r\n        </tr>\r\n        <tr>\r\n          <td :style=\"colorcat\"></td>\r\n          <td :style=\"colorcat\">{{ type}}</td>\r\n          <td :style=\"colorcat\"><span v-html=\"matchcategory\"></span></td>\r\n          <td :style=\"colorcat\"><span v-if=\"statuscat\"></span><span v-else></span></td>\r\n        </tr>\r\n        <tr>\r\n          <td :style=\"colorname\"></td>\r\n          <td :style=\"colorname\">{{ list[0].list.productha }}<br/>{{ list[0].list.produceng }}</td>\r\n          <td :style=\"colorname\"><span v-html=\"matchname\"></span></td>\r\n          <td :style=\"colorname\"><span v-if=\"statusname\"></span><span v-else></span></td>\r\n        </tr>\r\n      </tbody>\r\n      </table>\r\n\r\n      <!-- <table class=\"table table-bordered\" v-if=\"list.length > 0 && url\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\" style=\"text-align:center;background-color:#ffb454\" colspan=\"2\"> 2</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <th style=\"background-color:#ffb454\"></th>\r\n          <th style=\"background-color:#ffb454\"></th>\r\n        </tr>\r\n        <tr>\r\n          <td :style=\"colorkey\" style=\"width:40%\"><span v-html=\"desc\"></span></td>\r\n          <td :style=\"colorkey\" v-if=\"keyword.length\">\r\n        <tr v-for=\"(k, i) in keyword\" :key=\"i\">\r\n          <td ><span v-html=\"k\"></span></td>\r\n          <td ><button @click=\"savetorulr_based()\" type=\"submit\" class=\"mb-3 btn btn-success\">\r\n      \r\n    </button></td>\r\n        </tr></td>\r\n          <td :style=\"colorkey\" v-else></td>\r\n        </tr>\r\n      </tbody>\r\n      </table> -->\r\n    <table class=\"table mt-3 mb-3\" v-if=\"list.length > 0 && url\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\"></th>\r\n          <th scope=\"col\"></th>\r\n          <th scope=\"col\">FDA</th>\r\n          <th scope=\"col\"></th>\r\n          <th scope=\"col\">.</th>\r\n          <!-- <th scope=\"col\"></th> -->\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"(l, i) in list\" :key=\"i\">\r\n          <td :style=\"l.bg\"><img :src=\"imagelists\" style=\"width:100%\">{{ l.name }}</td>\r\n          <td :style=\"l.bg\">{{ l.detail }}</td>\r\n          <!-- <td :style=\"l.bg\">\r\n              <div class=\"row\">\r\n          <div class=\"col-md-2\" v-for=\"(im ,i) in imagelists\" :key=\"i\">\r\n            <img :src=\"im\" width=\"100%\"/>\r\n          </div>\r\n        </div>\r\n            </td> -->\r\n          <td :style=\"l.bg\" style=\"width:300px\"><div > : {{ l.fda }}<br/>\r\n            <!-- : <span v-html=\"matchname\"></span> -->\r\n            : {{l.list.productha}}\r\n           </div></td>\r\n          <td :style=\"l.bg\"><div v-html=\"cut(tokenize)\"></div></td>\r\n          <td style=\"background-color:#BDEDFF\" v-if=\"l.status == 1\">\r\n            <p class=\"card-text\"> : {{ l.list.cncnm || '' }}</p>\r\n            <p class=\"card-text\"> :<span style=\"color:red\"> {{ l.list.typepro }}</span></p>\r\n            <p class=\"card-text\">/ : <span style=\"color:red\"> {{ l.list.lcnno }}</span></p>\r\n            <p class=\"card-text\"> (TH) : <span style=\"color:red\"> {{ l.list.productha }}</span></p>\r\n            <p class=\"card-text\"> (EN) : <span style=\"color:red\"> {{ l.list.produceng }}</span></p>\r\n            <p class=\"card-text\"> : {{ l.list.licen }}</p>\r\n            <p class=\"card-text\"> : {{ l.list.Addr }}</p>\r\n            <p class=\"card-text\">Newcode : {{ l.list.Newcode }}</p>\r\n          </td>\r\n          <td :style=\"l.bg\" v-else> </td>\r\n          <!-- <td :style=\"l.bg\">\r\n            <i class=\"fa fa-circle\" :style=\"l.icon\" aria-hidden=\"true\"></i>\r\n          </td> -->\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <!-- <div v-if=\"status\" >\r\n<h3 style=\"text-align:center\"> </h3>\r\n      </div> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport readXlsxFile from \"read-excel-file\";\r\n// import moment from 'moment'\r\nimport axios from \"axios\";\r\nimport ProductsService from '../services/ProductsService.js'\r\nimport FDATypesService from '../services/FDATypesService'\r\nimport LinkService from '../services/LinkService'\r\n\r\nexport default {\r\n  name: \"App\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      list: [],\r\n      url: '',\r\n      file: '',\r\n      status: false,\r\n      urlPath: '',\r\n      imagelists: '',\r\n      tokenize: '',\r\n      matchname:'',\r\n      matchcategory:'',\r\n      type:'',\r\n      matchnamesum:'',\r\n      statusname:0,\r\n      statuscat:0,\r\n      statusfda:0,\r\n      colorname:'background-color:#f9bdbb',\r\n      colorfda:'background-color:#f9bdbb',\r\n      colorcat:'background-color:#f9bdbb',\r\n      id:'',\r\n      keyword:[],\r\n      colorkey:'background-color:#f9bdbb',\r\n      desc:''\r\n    };\r\n  },\r\n  methods: {\r\n    checkkeyword(name){\r\n      // console.log(name);\r\n    //   axios.get('http://localhost:8081/api/keyword_dicts?name=1').then((res) => {\r\n    //     console.log(res.data);\r\n        // for (let r = 0; r < res.data.length; r++) {\r\n          // name = name.replaceAll(/([\\uE000-\\uF8FF]|\\uD83C[\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDDFF])/g, '')\r\n          //       name = name.replaceAll(/(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\u0023-\\u0039]\\ufe0f?\\u20e3|\\u3299|\\u3297|\\u303d|\\u3030|\\u24c2|\\ud83c[\\udd70-\\udd71]|\\ud83c[\\udd7e-\\udd7f]|\\ud83c\\udd8e|\\ud83c[\\udd91-\\udd9a]|\\ud83c[\\udde6-\\uddff]|\\ud83c[\\ude01-\\ude02]|\\ud83c\\ude1a|\\ud83c\\ude2f|\\ud83c[\\ude32-\\ude3a]|\\ud83c[\\ude50-\\ude51]|\\u203c|\\u2049|[\\u25aa-\\u25ab]|\\u25b6|\\u25c0|[\\u25fb-\\u25fe]|\\u00a9|\\u00ae|\\u2122|\\u2139|\\ud83c\\udc04|[\\u2600-\\u26FF]|\\u2b05|\\u2b06|\\u2b07|\\u2b1b|\\u2b1c|\\u2b50|\\u2b55|\\u231a|\\u231b|\\u2328|\\u23cf|[\\u23e9-\\u23f3]|[\\u23f8-\\u23fa]|\\ud83c\\udccf|\\u2934|\\u2935|[\\u2190-\\u21ff])/g, '');\r\n          //       name = name.replaceAll(/(\\r\\n|\\n|\\r)/gm, \"\");\r\n          //       name = name.replaceAll(\"_\", \"\");\r\n          //       name = name.replaceAll(\"!\", \"\");\r\n          //       name = name.replaceAll(\"*\", \"\");\r\n                // name = name.replaceAll(`_/l\\_`, \"\");// eslint-disable-line\r\n      // console.log('http://127.0.0.1:5000/checkkeyword?name=' + name);\r\n      var desc = this.finddescription(name)\r\n      // console.log('http://127.0.0.1:5000/worktokendesc?text='+desc);\r\n      axios.get(LinkService.getpythonlink()+'/worktokendesc?text='+desc).then((res) => {\r\n        // console.log(res.data);\r\n        this.desc  = res.data\r\n      });\r\n      // name = '  Shopee     Bluebird() Storage Condition Normal  ,     ,       12    /. 30-1-26764-5-0051  17901           1000  60    1  5   20   93   2  21   50   90   3  51   100   87   4  100  .....................  85  Vitamin C Plus Dietary Supplement Product Bluebird Brand      1   (Active Ingredient) VITAMIN C (100%) - 60  CITRUS BIOFLAVONOID POWDER - 630  BARBADOSCHERRY POWDER/ACEROLA CHERRY POWDER (/) (MALPIGHIA GLABRA L.)  - 60  ROSEHIP POWDER () (ROSA CANINA L.)  - 60  Rutin - 30  INDIAN GOOSEBERRY POWDER () (PHYLLANTHUS EMBLICA L. )  - 60   (Inactive Ingredient) EDIBLE GELATIN 428 - 98.5  TITANIUM DIOXIDE 171 -1.95    1-2    .. 30-1-26764-5-0051       5                    12.00         _/l\\_'\r\n      console.log(LinkService.getpythonlink()+'/checkkeyword?name=' + desc);    \r\n      axios.get(LinkService.getpythonlink()+'/checkkeyword?name=' + desc).then((res) => {\r\n            console.log(res.data);\r\n            if (res.data.length > 0) {\r\n        // this.keyword.push(res.data)\r\n        this.keyword = res.data\r\n              \r\n            }\r\n      });\r\n    //     }\r\n      \r\n    // });\r\n//       var listkeywords = []\r\n//       var namesplit = name.split(\" \")\r\n//       // console.log(namesplit);\r\n//       axios.get('http://localhost:8081/api/keyword_dicts?name=1').then((res) => {\r\n//         console.log(res.data);\r\n//         var keylist = []\r\n//         for (let r = 0; r < res.data.length; r++) {\r\n//           res.data[r].name = res.data[r].name.replaceAll(\".\",\"\")\r\n//           var kk = res.data[r].name.split(\" \")\r\n//           for (let k = 0; k < kk.length; k++) {\r\n//             keylist.push(kk[k])\r\n//           }\r\n//         }\r\n//         for (let key = 0; key < keylist.length; key++) {\r\n//           for (let n = 0; n < namesplit.length; n++) {\r\n//             if (namesplit[n] == keylist[key] && keylist[key] != '' && isNaN(keylist[key])) {\r\n//               listkeywords.push(keylist[key])\r\n//             }\r\n            \r\n//           }\r\n//         }\r\n//         // console.log(keylist);\r\n//         // console.log(listkeywords);\r\n\r\n//       console.log(listkeywords.length);\r\n//         if (listkeywords.length == 0) {\r\n          \r\n//           this.colorkey = \"background-color:#a3e9a4\"\r\n//         }\r\n//         var result = [];\r\n//         listkeywords.forEach(function(item) {\r\n//      if(result.indexOf(item) < 0) {\r\n//          result.push(item);\r\n//      }\r\n// });\r\n// console.log(result);\r\n// listkeywords = result\r\n//         for (let l = 0; l < listkeywords.length; l++) {\r\n//           // console.log('http://127.0.0.1:5000/checkkeyword?name=' + name+'&&name_real=');\r\n//           axios.get('http://127.0.0.1:5000/checkkeyword?name=' + name+'&&name_real=' + listkeywords[l]).then((res) => {\r\n//             // console.log(res.data);\r\n//         this.keyword.push(res.data)\r\n//       });\r\n          \r\n//         }\r\n//       });\r\n      \r\n    },\r\n    updatestatusfda(){\r\n      // console.log(this.statusfda,this.statuscat,this.statusname)\r\n      // var cat = this.matchcategory.replaceAll('<span style=\"color:red\">','')\r\n      // cat = cat.replaceAll('</span>','')\r\n      // console.log(cat);\r\n      // console.log(this.list[0].status);\r\n      if (this.list[0].status ==1) {\r\n        var fda = {\r\n        }\r\n      if (this.statusfda && this.statuscat && this.statusname) {\r\n         fda = {\r\n          statusfda:true,\r\n          cat_fda:this.type,\r\n          is_fda:this.statusfda,\r\n          is_cat:this.statuscat,\r\n          is_name:this.statusname\r\n        }\r\n      }else{\r\n         fda = {\r\n          statusfda:false,\r\n          cat_fda:this.type,\r\n          is_fda:this.statusfda,\r\n          is_cat:this.statuscat,\r\n          is_name:this.statusname\r\n        }\r\n      }\r\n      // console.log(this.list[0].id);\r\n      ProductsService.updatefdastatus(this.list[0].id,fda).then(()=>{\r\n        // console.log(res.data);\r\n      })\r\n      }\r\n      \r\n      return ''\r\n    },\r\n    checkfdamatch(name,name_real) {\r\n      console.log(name);\r\n       console.log(name_real);\r\n      this.matchname = ''\r\n      this.statusname = 0\r\n          this.colorname = \"background-color:#f9bdbb\"\r\n      //     console.log(name_real);\r\n       console.log('http://127.0.0.1:5000/matchname?name=' + name+'&&name_real=' + name_real);\r\n      axios.get(LinkService.getpythonlink()+'/matchname?name=' + name+'&&name_real=' + name_real).then((res) => {\r\n        // console.log(res.data);\r\n        this.matchname = res.data\r\n        this.matchnamesum = this.matchname.replaceAll('red','black')\r\n        if(this.matchname.includes('red')){\r\n          this.statusname = 1\r\n          this.colorname = \"background-color:#a3e9a4\"\r\n        }\r\n\r\n\r\n      });\r\n    },\r\n    checkcategorymatch(category,category_real) {\r\n      // console.log(category_real);\r\n      // console.log(category);\r\n       this.matchcategory = ''\r\n       this.statuscat = 0\r\n          this.colorcat = \"background-color:#f9bdbb\"\r\n          \r\n          if (category_real) {\r\n      //  console.log('http://127.0.0.1:5000/matchcategory?category=' + category+'&&category_real=' + category_real);\r\n      // axios.get(LinkService.getpythonlink()+'/matchcategory?category=' + category+'&&category_real=' + category_real).then((res) => {\r\n        // console.log(res.data);\r\n        // console.log(category.includes(category_real));\r\n        if(category.includes(category_real)){\r\n          this.statuscat = 1\r\n          this.colorcat = \"background-color:#a3e9a4\"\r\n        this.matchcategory = category_real\r\n        }\r\n      \r\n      // });\r\n    }\r\n    },\r\n    cut(word) {\r\n      var wo = word.toString()\r\n      // wo = wo.replaceAll(' ', ' | ')\r\n      return wo\r\n    },\r\n    async gettokenize(words,namereal_result) {\r\n      // console.log(words);\r\n      if (!namereal_result) {\r\n        namereal_result = 'xxx'\r\n      }\r\n      // console.log('http://127.0.0.1:5000/worktoken?namereal_result=' + namereal_result+'&&text='+words);\r\n      axios.get(LinkService.getpythonlink()+'/worktoken?namereal_result=' + namereal_result+'&&text='+words).then((res) => {\r\n        // console.log(res.data);\r\n        this.tokenize = res.data\r\n      });\r\n    },\r\n    getimagefile(id) {\r\n      this.imagelists = ''\r\n      axios.get(LinkService.getpythonlink()+'/base64?id=' + id).then((res) => {\r\n        // console.log(res.data);\r\n        this.imagelists = 'data:image/jpeg;base64,'+res.data\r\n      });\r\n      \r\n      // axios.get('http://localhost:8081/getimage?path=' + folder).then((res) => {\r\n      //   // console.log(res.data);\r\n      //   for (let im = 0; im < res.data.length; im++) {\r\n      //     axios.get('http://localhost:8081/img?name=' + res.data[im]).then((res) => {\r\n      //       // console.log(res.data.base64);\r\n      //       this.imagelists.push(res.data.base64)\r\n\r\n      //     });\r\n\r\n      //   }\r\n        // console.log(this.imagelists);\r\n        return this.imagelists\r\n      // })\r\n    },\r\n    downloadHtml() {\r\n      let url = this.urlInput;\r\n      fetch(url)\r\n        .then((res) => res.text())\r\n        .then((html) => this.downloadAsFile(\"report.html\", html));\r\n    },\r\n    downloadAsFile(name, text) {\r\n      const link = this.createDownloadableLink(name, text);\r\n      const clickEvent = new MouseEvent('click');\r\n      link.dispatchEvent(clickEvent);\r\n    },\r\n    createDownloadableLink(fileName, content) {\r\n      let link = document.createElement(\"a\");\r\n      link.download = fileName;\r\n      link.href = `data:application/octet-stream,${content}`;\r\n      return link;\r\n    },\r\n    //     search(){\r\n    //       this.list = []\r\n    //       MenuService.getproduct(this.url).then().then((res)=>{\r\n    //         console.log(res.data);\r\n\r\n    //         var fdalist = []\r\n    //         var detail = res.data\r\n    //         // var detail = 'ShopeeGlobal White(),   /.70-1-27160-5-0268258/.70-1-27160-5-0268 24 '\r\n    //             var fda = this.findfda(detail)\r\n\r\n    //             fdalist.push({\r\n    //               detail: detail,\r\n    //               fda: fda\r\n    //             })\r\n    //             for (let f = 0; f < fdalist.length; f++) {\r\n\r\n    // const url = \"https://tawaiforhealth.org/api/oryor/check-product\";\r\n    // const data = { \"number_src\": fdalist[f].fda };\r\n\r\n    // const options = {\r\n    //   method: \"POST\",\r\n    //   headers: {\r\n    //     Accept: \"application/json\",\r\n    //     \"Content-Type\": \"application/json;charset=UTF-8\",\r\n    //   },\r\n    //   body: JSON.stringify(data),\r\n    // };\r\n\r\n    // fetch(url, options)\r\n    //   .then((response) => response.json())\r\n    //   .then((data) => {\r\n    //     // console.log(data);\r\n    //     if (data.message) {\r\n    //       fdalist[f].status = 0\r\n    //       fdalist[f].list = []\r\n    //       fdalist[f].bg = 'background-color:#f9bdbb'\r\n    //     } else {\r\n    //       fdalist[f].list = data\r\n    //       fdalist[f].status = 1\r\n    //       fdalist[f].bg = 'background-color:#a3e9a4'\r\n    //       // console.log(data.STATUS_ID.includes(7))\r\n    //       if (data.cncnm == \"\") {\r\n    //       fdalist[f].icon = 'color: green'\r\n\r\n    //       }else{\r\n    //       fdalist[f].icon = 'color: red'\r\n    //       fdalist[f].bg = 'background-color:#f9bdbb'\r\n    //       }\r\n    //     }\r\n\r\n    //     // console.log(f+1, fdalist.length);\r\n    //     if (f+1 == fdalist.length) {\r\n    //  console.log(fdalist); \r\n    //  this.list = fdalist\r\n\r\n    // }\r\n    //   });\r\n\r\n\r\n    // }\r\n    //       })\r\n    //     },\r\n    search() {\r\n      // console.log(this.url);\r\n      this.statusname=0,\r\n      this.statuscat=0,\r\n      this.statusfda=0,\r\n      this.colorname='background-color:#f9bdbb',\r\n      this.colorfda='background-color:#f9bdbb',\r\n      this.colorcat='background-color:#f9bdbb',\r\n      this.list = []\r\n      var data = {\r\n        url: this.url\r\n      }\r\n      ProductsService.findproduct(data).then(async (res) => {\r\n        // console.log(res.data);\r\n        if (res.data[0].content == '' || res.data.length == 0) {\r\n          alert('')\r\n        } else {\r\n          // console.log(res.data[0].content);\r\n          // console.log(this.tokenize);\r\n          this.getimagefile(res.data[0].id)\r\n          var detail = res.data[0].content\r\n          // var detail = 'ShopeeGlobal White(),   /.70-1-27160-5-0268258/.70-1-27160-5-0268 24 '\r\n          var fda = ''\r\n          // console.log(fda);\r\n          var fdalist = []\r\n          // console.log(res.data[0]);\r\n// if (fda.length != 12) {\r\n//   alert('')\r\n// }else{\r\n  if (res.data[0].fda) {\r\n  fda = res.data[0].fda.replaceAll(' ','')\r\n  }else{\r\n    fda = ''\r\n  }\r\n          fdalist.push({\r\n            id: res.data[0].id,\r\n            name: res.data[0].name,\r\n            detail: detail,\r\n            fda: fda,\r\n            cat_name:res.data[0].cat_name\r\n          })\r\n          for (let f = 0; f < fdalist.length; f++) {\r\n            if (!fdalist[f].fda || isNaN(fda) || fda ==0) {\r\n              fdalist[f].status = 0\r\n              fdalist[f].detail = fdalist[f].detail.replaceAll(\"&\", \"\");\r\n              fdalist[f].detail = fdalist[f].detail.replaceAll(\"#\", \"\");\r\n              console.log(fdalist[f].detail);\r\n              this.gettokenize(fdalist[f].detail,'')\r\n              this.checkkeyword(fdalist[f].detail)\r\n              this.list = fdalist\r\n              // console.log(this.list);\r\n              alert('.')\r\n            }else{\r\n            const url = \"https://tawaiforhealth.org/api/oryor/check-product\";\r\n            const data = { \"number_src\": fdalist[f].fda };\r\n// console.log(data);\r\n            const options = {\r\n              method: \"POST\",\r\n              headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json;charset=UTF-8\",\r\n              },\r\n              body: JSON.stringify(data),\r\n            };\r\n\r\n            fetch(url, options)\r\n              .then((response) => response.json())\r\n              .then((data) => {\r\n                // console.log(data);\r\n                // productha\r\n                // console.log(data.message);\r\n                if (data.message) {\r\n                  data.produceng = ''\r\n                  data.productha = ''\r\n                  data.typepro = ''\r\n                }\r\n                if (data.length > 1) {\r\n                  console.log(data.cncnm);\r\n                  fdalist[f].status = 0\r\n                  fdalist[f].list = {}\r\n                  // console.log(fdalist[f]);\r\n                  fdalist[f].detail = fdalist[f].detail.replaceAll(\"&\", \"\");\r\n                  fdalist[f].detail = fdalist[f].detail.replaceAll(\"#\", \"\");\r\n                  this.gettokenize(fdalist[f].detail,'')\r\n                  // this.checkkeyword(fdalist[f].detail)\r\n                  this.list = fdalist\r\n                  alert('.')\r\n                }\r\n                // var namefull =fdalist[f].name+\" \" +this.finddescription(fdalist[f].detail)\r\n                var namefull =fdalist[f].name + ' '+fdalist[f].detail\r\n                namefull = namefull.replaceAll(/([\\uE000-\\uF8FF]|\\uD83C[\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDDFF])/g, '')\r\n                namefull = namefull.replaceAll(/(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\u0023-\\u0039]\\ufe0f?\\u20e3|\\u3299|\\u3297|\\u303d|\\u3030|\\u24c2|\\ud83c[\\udd70-\\udd71]|\\ud83c[\\udd7e-\\udd7f]|\\ud83c\\udd8e|\\ud83c[\\udd91-\\udd9a]|\\ud83c[\\udde6-\\uddff]|\\ud83c[\\ude01-\\ude02]|\\ud83c\\ude1a|\\ud83c\\ude2f|\\ud83c[\\ude32-\\ude3a]|\\ud83c[\\ude50-\\ude51]|\\u203c|\\u2049|[\\u25aa-\\u25ab]|\\u25b6|\\u25c0|[\\u25fb-\\u25fe]|\\u00a9|\\u00ae|\\u2122|\\u2139|\\ud83c\\udc04|[\\u2600-\\u26FF]|\\u2b05|\\u2b06|\\u2b07|\\u2b1b|\\u2b1c|\\u2b50|\\u2b55|\\u231a|\\u231b|\\u2328|\\u23cf|[\\u23e9-\\u23f3]|[\\u23f8-\\u23fa]|\\ud83c\\udccf|\\u2934|\\u2935|[\\u2190-\\u21ff])/g, '');\r\n                namefull = namefull.replaceAll(/(\\r\\n|\\n|\\r)/gm, \"\");\r\n                namefull = namefull.replaceAll(\"_\", \"\");\r\n                namefull = namefull.replaceAll(\"!\", \"\");\r\n                namefull = namefull.replaceAll(\"*\", \"\");\r\n                namefull = namefull.replaceAll(\"#\", \"\");\r\n                namefull = namefull.replaceAll(\"&\", \" \");\r\n                console.log(namefull);\r\n                  this.checkfdamatch(namefull,data.productha+' '+data.produceng)\r\n\r\n                // console.log(fdalist[f].detail);\r\n                // var cat = this.findcategory(fdalist[f].detail)\r\n                // console.log(cat);\r\n                var fdatype = this.fdatype(data.typepro)\r\n                fdatype = fdatype.replaceAll(' ','')\r\n                // console.log(fdatype);    \r\n                var name = data.productha.replaceAll('','')\r\n                this.type = fdatype\r\n                // console.log(this.type);\r\n                // console.log(data.typepro);\r\n                if (this.type == '') {\r\n                  if (data.typepro) {\r\n                    this.type = data.typepro\r\n                    fdatype = data.typepro\r\n                  }\r\n                }\r\n                // console.log(fdatype);\r\n                FDATypesService.getfdatypes(fdatype).then(()=>{\r\n                  // console.log(res.data);\r\n                  if (res.data.length == 0) {\r\n                    var cattype = {\r\n                      name:fdatype\r\n                    }\r\n                    FDATypesService.createfdatype(cattype).then(()=>{\r\n                      // console.log(res.data);\r\n                    })\r\n                  }\r\n                })\r\n                this.checkcategorymatch(res.data[0].content,fdatype)\r\n\r\n              fdalist[f].detail = fdalist[f].detail.replaceAll(\"&\", \"\");\r\n              fdalist[f].detail = fdalist[f].detail.replaceAll(\"#\", \"\");\r\n                this.gettokenize(fdalist[f].detail,fdatype+name+data.produceng)\r\n                // this.checkkeyword(fdalist[f].detail)\r\n                if (!data.lcnno) {\r\n                  fdalist[f].status = 0\r\n                  fdalist[f].list = []\r\n                  fdalist[f].bg = 'background-color:#f9bdbb'\r\n                } else {\r\n                  fdalist[f].list = data\r\n                  fdalist[f].status = 1\r\n                  fdalist[f].bg = 'background-color:#a3e9a4'\r\n                  // console.log(data.STATUS_ID.includes(7))\r\n                  \r\n                  if (data.cncnm == \"\") {\r\n                    this.statusfda = 1\r\n                    this.colorfda = \"background-color:#a3e9a4\"\r\n                    fdalist[f].icon = 'color: green'\r\n\r\n                  } else {\r\n                    fdalist[f].icon = 'color: red'\r\n                    fdalist[f].bg = 'background-color:#f9bdbb'\r\n                  }\r\n                  \r\n\r\n                }\r\n\r\n                // console.log(f+1, fdalist.length);\r\n                if (f + 1 == fdalist.length) {\r\n                  // console.log(fdalist);\r\n                  this.list = fdalist\r\n\r\n                }\r\n                \r\n                // console.log(this.list);\r\n              });\r\n            }\r\n\r\n          }\r\n        }\r\n      // }\r\n      })\r\n    },\r\n    searchbyfda() {\r\n      this.statusname=0,\r\n      this.statuscat=0,\r\n      this.statusfda=0,\r\n      this.colorname='background-color:#f9bdbb',\r\n      this.colorfda='background-color:#f9bdbb',\r\n      this.colorcat='background-color:#f9bdbb',\r\n      this.list = []\r\n      ProductsService.getproduct(this.id).then(async (res) => {\r\n        \r\n        // console.log(res.data);\r\n        if (res.data.content == '' || res.data.length == 0) {\r\n          alert('')\r\n        } else {\r\n\r\n  this.url = res.data.url\r\n          // console.log(res.data[0].content);\r\n          // console.log(this.tokenize);\r\n          this.getimagefile(res.data.id)\r\n          var detail = res.data.content\r\n          // var detail = 'ShopeeGlobal White(),   /.70-1-27160-5-0268258/.70-1-27160-5-0268 24 '\r\n          var fda = ''\r\n          // console.log(fda);\r\n          var fdalist = []\r\n          // console.log(res.data);\r\n// if (fda.length != 12) {\r\n//   alert('')\r\n// }else{\r\n  if (res.data.fda) {\r\n  fda = res.data.fda.replaceAll(' ','')\r\n  fda = res.data.fda.replaceAll('\\n\\n','')\r\n  }else{\r\n    fda = ''\r\n  }\r\n\r\n            fdalist.push({\r\n            id: res.data.id,\r\n            name: res.data.name,\r\n            detail: detail,\r\n            fda: fda,\r\n            cat_name:res.data.cat_name\r\n          })\r\n          // console.log(fdalist);\r\n          for (let f = 0; f < fdalist.length; f++) {\r\n            // console.log(fdalist[f].fda.length);\r\n            // console.log(fdalist[f].fda);\r\n            if (!fda || isNaN(fda) || fda ==0) { \r\n              fdalist[f].status = 0\r\n              fdalist[f].list = {}\r\n              // console.log(fdalist[f]);\r\n\r\n              fdalist[f].detail = fdalist[f].detail.replaceAll(\"&\", \"\");\r\n              fdalist[f].detail = fdalist[f].detail.replaceAll(\"#\", \"\");\r\n              console.log(fdalist[f].detail);\r\n              this.gettokenize(fdalist[f].detail,'')\r\n              // this.checkkeyword(fdalist[f].detail)\r\n              this.list = fdalist\r\n              alert('.')\r\n            }else{\r\n            const url = \"https://tawaiforhealth.org/api/oryor/check-product\";\r\n            const data = { \"number_src\": fdalist[f].fda };\r\n// console.log(data);\r\n            const options = {\r\n              method: \"POST\",\r\n              headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json;charset=UTF-8\",\r\n              },\r\n              body: JSON.stringify(data),\r\n            };\r\n\r\n            fetch(url, options)\r\n              .then((response) => response.json())\r\n              .then((data) => {\r\n                // console.log(data);\r\n                // productha\r\n                // console.log(data.message);\r\n                if (data.message) {\r\n                  data.produceng = ''\r\n                  data.productha = ''\r\n                  data.typepro = ''\r\n                }\r\n                if (data.length > 1) {\r\n                  fdalist[f].status = 0\r\n                  fdalist[f].list = {}\r\n                  // console.log(fdalist[f]);\r\n\r\n              fdalist[f].detail = fdalist[f].detail.replaceAll(\"&\", \"\");\r\n              fdalist[f].detail = fdalist[f].detail.replaceAll(\"#\", \"\");\r\n                  this.gettokenize(fdalist[f].detail,'')\r\n                  // this.checkkeyword(fdalist[f].detail)\r\n                  this.list = fdalist\r\n                  alert('.')\r\n                }\r\n                // var namefull =fdalist[f].name+\" \" +this.finddescription(fdalist[f].detail)\r\n                var namefull =fdalist[f].name + ' '+fdalist[f].detail\r\n                namefull = namefull.replaceAll(/([\\uE000-\\uF8FF]|\\uD83C[\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDDFF])/g, '')\r\n                namefull = namefull.replaceAll(/(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\u0023-\\u0039]\\ufe0f?\\u20e3|\\u3299|\\u3297|\\u303d|\\u3030|\\u24c2|\\ud83c[\\udd70-\\udd71]|\\ud83c[\\udd7e-\\udd7f]|\\ud83c\\udd8e|\\ud83c[\\udd91-\\udd9a]|\\ud83c[\\udde6-\\uddff]|\\ud83c[\\ude01-\\ude02]|\\ud83c\\ude1a|\\ud83c\\ude2f|\\ud83c[\\ude32-\\ude3a]|\\ud83c[\\ude50-\\ude51]|\\u203c|\\u2049|[\\u25aa-\\u25ab]|\\u25b6|\\u25c0|[\\u25fb-\\u25fe]|\\u00a9|\\u00ae|\\u2122|\\u2139|\\ud83c\\udc04|[\\u2600-\\u26FF]|\\u2b05|\\u2b06|\\u2b07|\\u2b1b|\\u2b1c|\\u2b50|\\u2b55|\\u231a|\\u231b|\\u2328|\\u23cf|[\\u23e9-\\u23f3]|[\\u23f8-\\u23fa]|\\ud83c\\udccf|\\u2934|\\u2935|[\\u2190-\\u21ff])/g, '');\r\n                namefull = namefull.replaceAll(/(\\r\\n|\\n|\\r)/gm, \"\");\r\n                namefull = namefull.replaceAll(\"_\", \"\");\r\n                namefull = namefull.replaceAll(\"!\", \"\");\r\n                namefull = namefull.replaceAll(\"*\", \"\");\r\n                namefull = namefull.replaceAll(\"#\", \"\");\r\n                 namefull = namefull.replaceAll(\"&\", \" \");\r\n                console.log(namefull);\r\n                  this.checkfdamatch(namefull,data.productha+' '+data.produceng)\r\n\r\n                // console.log(fdalist[f].detail);\r\n                // var cat = this.findcategory(fdalist[f].detail)\r\n                var cat = fdalist[f].name+fdalist[f].detail\r\n                // console.log(cat);\r\n                var fdatype = this.fdatype(data.typepro)\r\n                fdatype = fdatype.replaceAll(' ','')\r\n                // console.log(fdatype);    \r\n                var name = data.productha.replaceAll('','')\r\n                this.type = fdatype\r\n                // console.log(this.type);\r\n                // console.log(data.typepro);\r\n                if (this.type == '') {\r\n                  if (data.typepro) {\r\n                    this.type = data.typepro\r\n                    fdatype = data.typepro\r\n                  }\r\n                }\r\n                // console.log(fdatype);\r\n                FDATypesService.getfdatypes(fdatype).then(()=>{\r\n                  // console.log(res.data);\r\n                  if (res.data.length == 0) {\r\n                    var cattype = {\r\n                      name:fdatype\r\n                    }\r\n                    FDATypesService.createfdatype(cattype).then(()=>{\r\n                      // console.log(res.data);\r\n                    })\r\n                  }\r\n                })\r\n                this.checkcategorymatch(cat,fdatype)\r\n\r\n              fdalist[f].detail = fdalist[f].detail.replaceAll(\"&\", \"\");\r\n              fdalist[f].detail = fdalist[f].detail.replaceAll(\"#\", \"\");\r\n              // console.log(fdalist[f].detail);\r\n                this.gettokenize(fdalist[f].detail,fdatype+name+data.produceng)\r\n                // this.checkkeyword(fdalist[f].detail)\r\n                if (!data.lcnno) {\r\n                  fdalist[f].status = 0\r\n                  fdalist[f].list = []\r\n                  fdalist[f].bg = 'background-color:#f9bdbb'\r\n                } else {\r\n                  fdalist[f].list = data\r\n                  fdalist[f].status = 1\r\n                  fdalist[f].bg = 'background-color:#a3e9a4'\r\n                  // console.log(data.STATUS_ID.includes(7))\r\n                  // console.log(data.cncnm);\r\n                  if (data.cncnm.includes(\"\")) {\r\n                    this.statusfda = 1\r\n                    this.colorfda = \"background-color:#a3e9a4\"\r\n                    fdalist[f].icon = 'color: green'\r\n\r\n                  } else {\r\n                    fdalist[f].icon = 'color: red'\r\n                    fdalist[f].bg = 'background-color:#f9bdbb'\r\n                  }\r\n                  \r\n\r\n                }\r\n\r\n                // console.log(f+1, fdalist.length);\r\n                if (f + 1 == fdalist.length) {\r\n                  // console.log(fdalist);\r\n                  this.list = fdalist\r\n\r\n                }\r\n                \r\n                // console.log(this.list);\r\n              });\r\n\r\n            }\r\n          }\r\n        }\r\n      // }\r\n      })\r\n    },\r\n    onChangeA1(event) {\r\n      this.list = []\r\n      this.file = event.target.files ? event.target.files[0] : null;\r\n      // var c = '[] Cal s Coffee by Primaya    1  10 ./1310176020080392, '\r\n      // console.log(this.findfda(c))\r\n      var fdalist = []\r\n      if (this.file) {\r\n        this.status = true\r\n        readXlsxFile(event.target.files[0]).then(async (excel) => {\r\n          // console.log(excel);\r\n          for (let i = 1; i < excel.length; i++) {\r\n            // console.log(data[i][0]);\r\n            var detail = excel[i][0]\r\n            var fda = this.findfda(detail)\r\n\r\n            fdalist.push({\r\n              detail: detail,\r\n              fda: fda\r\n            })\r\n            if (i + 1 == excel.length) {\r\n              // console.log(fdalist);\r\n              for (let f = 0; f < fdalist.length; f++) {\r\n                if (!fdalist[f].fda) {\r\n              alert('.')\r\n            }else{\r\n                const url = \"https://tawaiforhealth.org/api/oryor/check-product\";\r\n                const data = { \"number_src\": fdalist[f].fda };\r\n\r\n                const options = {\r\n                  method: \"POST\",\r\n                  headers: {\r\n                    Accept: \"application/json\",\r\n                    \"Content-Type\": \"application/json;charset=UTF-8\",\r\n                  },\r\n                  body: JSON.stringify(data),\r\n                };\r\n\r\n                await fetch(url, options)\r\n                  .then((response) => response.json())\r\n                  .then((data) => {\r\n                    // console.log(data);\r\n                    if (data.message) {\r\n                      fdalist[f].status = 0\r\n                      fdalist[f].list = []\r\n                      fdalist[f].bg = 'background-color:#f9bdbb'\r\n                    } else {\r\n                      fdalist[f].list = data\r\n                      fdalist[f].status = 1\r\n                      fdalist[f].bg = 'background-color:#a3e9a4'\r\n                      // console.log(data.STATUS_ID.includes(7))\r\n                      if (data.cncnm == \"\") {\r\n                        fdalist[f].icon = 'color: green'\r\n\r\n                      } else {\r\n                        fdalist[f].icon = 'color: red'\r\n                        fdalist[f].bg = 'background-color:#f9bdbb'\r\n                      }\r\n                    }\r\n\r\n                    // console.log(f+1, fdalist.length);\r\n                    if (f + 1 == fdalist.length) {\r\n                      // console.log(fdalist);\r\n                      this.list = fdalist\r\n                      this.status = false\r\n                    }\r\n                  });\r\n\r\n                }\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n      this.file = ''\r\n    },\r\n    findcategory(data){\r\n      // console.log(data);\r\n      var text = ['']\r\n      var end = ['','']\r\n      var findfda = data\r\n      for (let t = 0; t < end.length; t++) {\r\n        if (findfda.indexOf(end[t]) != -1) {\r\n          findfda = findfda.substring(findfda.indexOf(text[0]),findfda.indexOf(end[t]));    \r\n        }\r\n\r\n      }\r\n      // if (findfda == '') {\r\n      //   findfda = findfda+ findfda+''\r\n      // }\r\n      // console.log(findfda);\r\n      return findfda\r\n    },\r\n    finddescription(data){\r\n      // console.log(data);\r\n      var text = ['']\r\n      var findfda = data\r\n      for (let t = 0; t < text.length; t++) {\r\n        if (findfda.indexOf(text[t]) != -1) {\r\n\r\n          findfda = findfda.substring(findfda.indexOf(text[t]));  \r\n        }\r\n\r\n      }\r\n      // if (findfda == '') {\r\n      //   findfda = findfda+ findfda+''\r\n      // }\r\n      // console.log(findfda);\r\n      return findfda\r\n    },\r\n    fdatype(data){\r\n      // console.log(data);\r\n      if (data) {\r\n        var text = ['(']\r\n      var findfda = data\r\n      for (let t = 0; t < text.length; t++) {\r\n        findfda = findfda.substring(findfda.indexOf(0),findfda.indexOf(text[0]));\r\n\r\n      }\r\n      }else{\r\n        findfda = ''\r\n      }\r\n      return findfda\r\n    },\r\n    findfda(data) {\r\n      var text = ['/.']\r\n      var end = ['']\r\n      var findfda = data\r\n      for (let t = 0; t < text.length; t++) {\r\n        findfda = findfda.substring(findfda.indexOf(text[t]),findfda.indexOf(end[0]));\r\n\r\n      }\r\n      // console.log(findfda);\r\n\r\n      findfda = findfda.replaceAll(\"/.\", \"\");\r\n      findfda = findfda.replaceAll(\"-\", \"\");\r\n      findfda = findfda.replaceAll(\"\", \"\");\r\n      // console.log(findfda);\r\n      // var regex = /\\d+/g;\r\n      // var matches = findfda.match(regex);  // creates array from matches\r\n      // console.log(matches[0]);\r\n      return findfda\r\n    },\r\n    loaddata(fda) {\r\n      const url = \"https://tawaiforhealth.org/api/oryor/check-product\";\r\n      const data = { \"number_src\": fda };\r\n\r\n      const options = {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        },\r\n        body: JSON.stringify(data),\r\n      };\r\n\r\n      fetch(url, options)\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          // console.log(data);\r\n          return data\r\n        });\r\n    },\r\n    async checkfda(fda) {\r\n      window.open(\r\n        \"/detail/\" + fda,\r\n        \"_blank\" // <- This is what makes it open in a new window.\r\n      );\r\n    }\r\n  },\r\n  mounted() {\r\n    // console.log(this.$route.query.id);\r\n   \r\n    if (this.$route.query.id) {\r\n      this.id = this.$route.query.id\r\n//       var cuturl = this.$route.query.url.split('/')\r\n//       var l = this.$route.query.url.split('?')\r\n//       console.log(l);\r\n//       console.log(cuturl);\r\n//       // console.log(encodeURIComponent(cuturl[3]));\r\n//       var encodeurl = encodeURIComponent(cuturl[3])\r\n//       var lencode = encodeurl.split('%3Fsp_atk%') \r\n//       console.log(lencode);\r\n// this.url = 'https://shopee.co.th/'+encodeURIComponent(lencode[0])+\"?\"+l[1]\r\n// console.log(this.url);\r\n      this.searchbyfda()\r\n    }\r\n    // console.log(this.findcategory('ShopeeBe Easy()3-in-1 24 150g08-12-2023/.13-2-03657-2-005495Be Easy   70 Kcal -   -  -   -     .  13-2-03657-2-0054      1   10  ! !  !    ! # # #Beeasycappuccino'))\r\n    // var url = 'file:///Users/ponnipa/Documents/GitHub/shophtml/%F0%9F%8D%92%20(%E0%B8%82%E0%B8%AD%E0%B8%87%E0%B9%81%E0%B8%97%E0%B9%89100%25)%20Jelly%20Fiber%20%E0%B9%80%E0%B8%88%E0%B8%A5%E0%B8%A5%E0%B8%B5%E0%B9%88%E0%B9%84%E0%B8%9F%E0%B9%80%E0%B8%9A%E0%B8%AD%E0%B8%A3%E0%B9%8C%20%E0%B8%A5%E0%B8%94%E0%B8%9E%E0%B8%B8%E0%B8%87%20%E0%B8%A5%E0%B8%94%E0%B8%99%E0%B9%89%E0%B8%B3%E0%B8%AB%E0%B8%99%E0%B8%B1%E0%B8%81%201%E0%B8%81%E0%B8%A5%E0%B9%88%E0%B8%AD%E0%B8%87_5%20%E0%B8%8B%E0%B8%AD%E0%B8%87%20_%20Shopee%20Thailand.html'\r\n    // ProductsService.scraping(url).then((res)=>{\r\n    //   console.log(res.data);\r\n    // })\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\nhtml,\r\nbody {\r\n  height: 100%;\r\n  margin: 0px;\r\n}\r\n</style>\r\n"]}]}