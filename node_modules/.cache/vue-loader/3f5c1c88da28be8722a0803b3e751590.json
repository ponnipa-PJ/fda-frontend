{"remainingRequest":"D:\\fda\\fda-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\fda\\fda-frontend\\src\\components\\Advertise.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\fda\\fda-frontend\\src\\components\\Advertise.vue","mtime":1695524600747},{"path":"D:\\fda\\fda-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1695526242921},{"path":"D:\\fda\\fda-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1695526245291},{"path":"D:\\fda\\fda-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1695526242921},{"path":"D:\\fda\\fda-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1695526233884}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KaW1wb3J0IFByb2R1Y3RzU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9Qcm9kdWN0c1NlcnZpY2UuanMnDQppbXBvcnQgRGljdFNlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvRGljdFNlcnZpY2UnDQppbXBvcnQgUnVsZUJhc2VkU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9SdWxlQmFzZWRTZXJ2aWNlJw0KaW1wb3J0IE1hcFJ1bGVCYXNlZFNlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvTWFwUnVsZUJhc2VkU2VydmljZScNCmltcG9ydCBMaW5rU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9MaW5rU2VydmljZScNCmltcG9ydCBLZXl3b3JkU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9LZXl3b3JkU2VydmljZScNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiQXBwIiwNCiAgY29tcG9uZW50czoge30sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGxpc3Q6IFtdLA0KICAgICAgdXJsOiAnJywNCiAgICAgIGZpbGU6ICcnLA0KICAgICAgc3RhdHVzOiBmYWxzZSwNCiAgICAgIHVybFBhdGg6ICcnLA0KICAgICAgaW1hZ2VsaXN0czogJycsDQogICAgICB0b2tlbml6ZTogJycsDQogICAgICBtYXRjaG5hbWU6ICcnLA0KICAgICAgbWF0Y2hjYXRlZ29yeTogJycsDQogICAgICB0eXBlOiAnJywNCiAgICAgIG1hdGNobmFtZXN1bTogJycsDQogICAgICBzdGF0dXNuYW1lOiAwLA0KICAgICAgc3RhdHVzY2F0OiAwLA0KICAgICAgc3RhdHVzZmRhOiAwLA0KICAgICAgY29sb3JuYW1lOiAnYmFja2dyb3VuZC1jb2xvcjojZjliZGJiJywNCiAgICAgIGNvbG9yZmRhOiAnYmFja2dyb3VuZC1jb2xvcjojZjliZGJiJywNCiAgICAgIGNvbG9yY2F0OiAnYmFja2dyb3VuZC1jb2xvcjojZjliZGJiJywNCiAgICAgIGlkOiAnJywNCiAgICAgIGtleXdvcmQ6IFtdLA0KICAgICAgY29sb3JrZXk6ICdiYWNrZ3JvdW5kLWNvbG9yOiNmOWJkYmInLA0KICAgICAgZGVzYzogJycsDQogICAgICBhcnJMaXN0OiBbXSwNCiAgICAgIGFsbGRhdGE6MCwNCiAgICAgIGJhY2s6MCwNCiAgICAgIG5leHQ6MCwNCiAgICAgIHRpdGxlOicnLA0KICAgICAgZGF0YTp7fSwNCiAgICAgIHByb19pZDowLA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBnZXRpZChpZCkgew0KICAgICAgLy8gY29uc29sZS5sb2coaWQpOw0KICAgICAgdGhpcy5wcm9faWQgPSBpZDsNCiAgICAgIGlmICh0aGlzLnByb19pZCAhPSAwKSB7DQogICAgICAgIHRoaXMudGl0bGUgPSAi4LmB4LiB4LmJ4LmE4LiC4LiC4LmJ4Lit4Lih4Li54Lil4LiC4LmJ4Lit4LiE4Lin4Liy4LihIjsNCiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy51c2VyX2lkKTsNCiAgICAgICAgS2V5d29yZFNlcnZpY2UuZ2V0a2V5d29yZCh0aGlzLnByb19pZCkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEpOw0KICAgICAgICAgIHRoaXMuZGF0YSA9IHJlcy5kYXRhOw0KICAgICAgICB9KTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMudGl0bGUgPSAi4LmA4Lie4Li04LmI4Lih4LiC4LmJ4Lit4Lih4Li54Lil4LiC4LmJ4Lit4LiE4Lin4Liy4LihIjsNCiAgICAgICAgdGhpcy5kYXRhID0gW107DQogICAgICB9DQogICAgfSwNCiAgICBzYXZlKCkgew0KICAgICAgY29uc29sZS5sb2codGhpcy5kYXRhKTsNCiAgICAgIGlmICh0aGlzLmRhdGEubmFtZSA9PSBudWxsIHx8IHRoaXMuZGF0YS5jYXRfaWQgPT0gIiIpIHsNCiAgICAgICAgYWxlcnQoIuC4geC4o+C4uOC4k+C4suC4geC4o+C4reC4geC4guC5ieC4reC4hOC4p+C4suC4oSIpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdmFyIHByb2RhdGEgPSB7DQogICAgICAgICAgaWQ6dGhpcy5kYXRhLmlkLA0KICAgICAgICAgIG5hbWU6IHRoaXMuZGF0YS5uYW1lLA0KICAgICAgICAgIHN0YXR1czoxLA0KICAgICAgICB9Ow0KICAgICAgICBjb25zb2xlLmxvZyhwcm9kYXRhKTsgDQogICAgICAgIGlmICh0aGlzLnByb19pZCA9PSAwKSB7DQogICAgICAgICAgS2V5d29yZFNlcnZpY2UuY3JlYXRla2V5d29yZChwcm9kYXRhKS50aGVuKCgpID0+IHsNCiAgICAgICAgICBEaWN0U2VydmljZS5jcmVhdGVkaWN0KHByb2RhdGEpLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEgKTsNCiAgICAgICAgICAgIC8vIFJ1bGVCYXNlZFNlcnZpY2UuY3JlYXRlZGNvbHVtbnJ1bGVfYmFzZWQocmVzLmRhdGEuaWQpLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNsb3NlZGNhdGVnb3J5IikuY2xpY2soKTsNCiAgICAgICAgICAgIC8vIHRoaXMuZ2V0Y2F0ZWdvcnkoKTsNCiAgICAgICAgICAgIGFsZXJ0KCfguJrguLHguJnguJfguLbguIHguKrguLPguYDguKPguYfguIgnKQ0KICAgICAgICAgIC8vIH0pOw0KICAgICAgICB9KTsNCiAgICAgIH0pOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIEtleXdvcmRTZXJ2aWNlLnVwZGF0ZWtleXdvcmQodGhpcy5wcm9faWQscHJvZGF0YSkudGhlbigoKSA9PiB7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2xvc2VkY2F0ZWdvcnkiKS5jbGljaygpOw0KICAgICAgICAgICAgLy8gdGhpcy5nZXRjYXRlZ29yeSgpOw0KICAgICAgICAgICAgYWxlcnQoJ+C4muC4seC4meC4l+C4tuC4geC4quC4s+C5gOC4o+C5h+C4iCcpDQogICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBzYXZldG9ydWxlKHNlbiwgYW5zd2VyLGFkX2lkKSB7DQogICAgICBjb25zb2xlLmxvZyhzZW4pOw0KICAgICAgdmFyIGlkZGF0YSA9IFtdDQp2YXIgZGljdHMgPVtdDQogICAgICBmb3IgKGxldCBkID0gMDsgZCA8IHNlbi5sZW5ndGg7IGQrKykgew0KICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhc3BsaXRbZF0pOw0KICAgICAgICBEaWN0U2VydmljZS5nZXRkaWN0cygnJywgc2VuW2RdLm5hbWUpLnRoZW4oYXN5bmMgKHJlcykgPT4gew0KDQogICAgICAgICAgaWYgKHJlcy5kYXRhLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhWzBdLmlkKTsNCiAgICAgICAgICAgIGlkZGF0YS5wdXNoKHJlcy5kYXRhWzBdLmlkKQ0KICAgICAgICAgICAgZGljdHMucHVzaCh7aWQ6cmVzLmRhdGFbMF0uaWQsDQogICAgICAgICAgICBuYW1lOnNlbltkXS5uYW1lfSkNCiAgICAgICAgICB9DQogICAgICAgICAgLy8gY29uc29sZS5sb2coZCsxICwgc2VuLmxlbmd0aCk7DQogICAgICAgICAgY29uc29sZS5sb2coaWRkYXRhKTsNCiAgICAgICAgICBpZiAoZCArIDEgPT0gc2VuLmxlbmd0aCkgew0KICAgICAgICAgICAgdmFyIHNxbCA9IGBTRUxFQ1QgbS4qIEZST00gbWFwX3J1bGVfYmFzZWQgbSBXSEVSRSBtLnN0YXR1cyA9IDEgYW5kIG0uZGljdF9pZCA9ICdbJHtpZGRhdGF9XSdgDQogICAgICAgICAgICBjb25zb2xlLmxvZyhzcWwpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICAgUnVsZUJhc2VkU2VydmljZS5nZXRieWRpY3Qoc3FsKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOw0KICAgICAgICAgICAgICBpZiAocmVzLmRhdGEubGVuZ3RoID09IDApIHsNCiAgICAgICAgICAgICAgICB2YXIgbWFwcnVsZSA9IHsNCiAgICAgICAgICAgICAgICAgICAgcnVsZV9iYXNlZF9pZDogcmVzLmRhdGEuaWQsDQogICAgICAgICAgICAgICAgICAgIGFkdmVydGlzZV9pZDogYWRfaWQsDQogICAgICAgICAgICAgICAgICAgIHN0YXR1czoxLA0KICAgICAgICAgICAgICAgICAgICBhbnN3ZXI6YW5zd2VyDQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICBNYXBSdWxlQmFzZWRTZXJ2aWNlLmNyZWF0ZW1hcF9ydWxlX2Jhc2VkKG1hcHJ1bGUpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7DQogICAgICAgICAgICAgICAgICAgIHZhciBtYXBfaWQgPSByZXMuZGF0YS5pZA0KICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlYWR2ZXJ0aXNlID0gew0KICAgICAgICAgICAgICAgICAgICBkaWN0X2lkOiBpZGRhdGEsDQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICBNYXBSdWxlQmFzZWRTZXJ2aWNlLnVwZGF0ZWFkdmVydGlzZShhZF9pZCx1cGRhdGVhZHZlcnRpc2UpLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpY3RzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgdmFyIHJ1bGUgPSB7DQogICAgICAgICAgICAgICAgICBtYXBfcnVsZV9iYXNlZF9pZAk6bWFwX2lkLA0KCWRpY3RfaWQJOmRpY3RzW2ldLmlkLA0KICBkaWN0X25hbWU6ZGljdHNbaV0ubmFtZSwNCglubzppKzENCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgUnVsZUJhc2VkU2VydmljZS5jcmVhdGVydWxlX2Jhc2VkKHJ1bGUpLnRoZW4oKCkgPT4gew0KDQogICAgICAgICAgICAgICBpZiAoaSsxID09IGlkZGF0YS5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBhbGVydCgn4Lia4Lix4LiZ4LiX4Li24LiB4Liq4Liz4LmA4Lij4LmH4LiIJykNCiAgICAgICAgICAgICAgDQogICAgICAgICAgICAgIHRoaXMuZ2V0ZGF0YSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgIA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsNCiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIHBybyA9IHsNCiAgICAgICAgICAgICAgICAgICAgLy8gICBtYXBfcnVsZV9iYXNlZDpyZXMuZGF0YS5pZA0KICAgICAgICAgICAgICAgICAgICAvLyB9DQogICAgICAgICAgICAgICAgICAgIC8vIFByb2R1Y3RzU2VydmljZS5tYXBfcnVsZV9iYXNlZChpZCxwcm8pLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgLy8gICBsb2NhdGlvbi5yZWxvYWQoKTsNCiAgICAgICAgICAgICAgICAgICAgLy8gfSwgNTAwKTsNCiAgICAgICAgICAgICAgICAgICAgLy8gfSk7DQogICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIC8vIGxldCB0ZXh0ID0gJycNCiAgICAgICAgICAgICAgICAvLyB0ZXh0ICs9ICd7Jw0KICAgICAgICAgICAgICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgaWRkYXRhLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgLy8gICAvLyBjb25zb2xlLmxvZyhpZGRhdGFbaV0pOw0KICAgICAgICAgICAgICAgIC8vICAgdGV4dCArPSAnImRpY3QnICsgaWRkYXRhW2ldICsgJyInICsgJzonICsgMSArICcsJw0KDQogICAgICAgICAgICAgICAgLy8gfQ0KICAgICAgICAgICAgICAgIC8vIHRleHQgKz0gJyJhbnN3ZXInICsgJyInICsgJzonICsgYW5zd2VyICsgJywnDQogICAgICAgICAgICAgICAgLy8gdGV4dCA9IHRleHQuc2xpY2UoMCwgLTEpOw0KICAgICAgICAgICAgICAgIC8vIHRleHQgKz0gJ30nDQogICAgICAgICAgICAgICAgLy8gLy8gY29uc29sZS5sb2codGV4dCk7DQogICAgICAgICAgICAgICAgLy8gbGV0IGpzb25EYXRhID0gSlNPTi5wYXJzZSh0ZXh0KTsNCiAgICAgICAgICAgICAgICAvLyAvLyBjb25zb2xlLmxvZyhqc29uRGF0YSk7DQogICAgICAgICAgICAgICAgLy8gUnVsZUJhc2VkU2VydmljZS5jcmVhdGVydWxlX2Jhc2VkKGpzb25EYXRhKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIC8vIH0pOw0KICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsNCiAgICAgICAgICAgICAgICB2YXIgdXBkYXRlbWFwcnVsZSA9IHsNCiAgICAgICAgICAgICAgICAgIGFuc3dlcjogYW5zd2VyLA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBNYXBSdWxlQmFzZWRTZXJ2aWNlLnVwZGF0ZWFuc3dlcihyZXMuZGF0YVswXS5pZCwgdXBkYXRlbWFwcnVsZSkudGhlbigoKSA9PiB7DQogICAgICAgICAgICAgICAgICBhbGVydCgn4Lia4Lix4LiZ4LiX4Li24LiB4Liq4Liz4LmA4Lij4LmH4LiIJykNCg0KICAgICAgICAgICAgICAgICAgdGhpcy5nZXRkYXRhKCkNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQoNCiAgICAgIH0NCg0KICAgIH0sDQogICAgc2F2ZXRvcnVsZV9iYXNlZChpZCwgbmFtZSwgYW5zd2VyLGFkX2lkKSB7DQogICAgICB2YXIgZGljdHMgPSBKU09OLnBhcnNlKGlkKQ0KICAgICAgdmFyIGRpY3RuYW1lID0gSlNPTi5wYXJzZShuYW1lKQ0KICAgICAgTWFwUnVsZUJhc2VkU2VydmljZS5maW5kYWRhbmR1c2VyKGFkX2lkLHRoaXMuY3VycmVudFVzZXIuaWQpLnRoZW4oYXN5bmMgKHJlcykgPT4gew0KY29uc29sZS5sb2cocmVzLmRhdGEpOw0KDQppZiAocmVzLmRhdGEubGVuZ3RoID09IDApIHsNCiAgdmFyIG1hcHJ1bGUgPSB7DQogICAgICAgICAgICAgICAgICAgIGFkdmVydGlzZV9pZDogYWRfaWQsDQogICAgICAgICAgICAgICAgICAgIGFuc3dlcjphbnN3ZXIsDQogICAgICAgICAgICAgICAgICAgIHVzZXI6dGhpcy5jdXJyZW50VXNlci5pZCwNCiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOjENCg0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgTWFwUnVsZUJhc2VkU2VydmljZS5jcmVhdGVtYXBfcnVsZV9iYXNlZChtYXBydWxlKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG1hcF9pZCA9IHJlcy5kYXRhLmlkDQogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGljdHMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICB2YXIgcnVsZSA9IHsNCiAgICAgICAgICAgICAgICAgIG1hcF9ydWxlX2Jhc2VkX2lkCTptYXBfaWQsDQoJZGljdF9pZAk6ZGljdHNbaV0sDQogIGRpY3RfbmFtZTpkaWN0bmFtZVtpXSwNCglubzppKzENCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgUnVsZUJhc2VkU2VydmljZS5jcmVhdGVydWxlX2Jhc2VkKHJ1bGUpLnRoZW4oKCkgPT4gew0KDQogICAgICAgICAgICAgICBpZiAoaSsxID09IGRpY3RzLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGFsZXJ0KCfguJrguLHguJnguJfguLbguIHguKrguLPguYDguKPguYfguIgnKQ0KICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgdGhpcy5nZXRkYXRhKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCn0NCiAgICAgIH0pOw0KICAgICAgLy8gc2VuID0gSlNPTi5wYXJzZShzZW4pDQogICAgICAvLyBpZCA9IEpTT04ucGFyc2UoaWQpDQogICAgICAvLyBjb25zb2xlLmxvZyhpZCk7DQogICAgICAvLyBjb25zb2xlLmxvZyhpZC5sZW5ndGgpOw0KICAgICAgLy8gLy8gY29uc29sZS5sb2coYWRfaWQpOw0KICAgICAgLy8gY29uc29sZS5sb2coc2VuLmxlbmd0aCk7DQogICAgICAvLyBjb25zb2xlLmxvZygnYW5zd2VyJyxhbnN3ZXIpOw0KICAgICAgLy8gaWYgKGlkLmxlbmd0aCAhPSBzZW4ubGVuZ3RoKSB7DQogICAgICAvLyAgIGZvciAobGV0IGEgPSAwOyBhIDwgc2VuLmxlbmd0aDsgYSsrKSB7DQogICAgICAvLyAgICAgLy8gY29uc29sZS5sb2coc2VuW2FdLm5hbWUpOw0KICAgICAgLy8gICAgIERpY3RTZXJ2aWNlLmdldGRpY3RzKCcnLCBzZW5bYV0ubmFtZSkudGhlbihhc3luYyAocmVzKSA9PiB7DQogICAgICAvLyAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7DQogICAgICAvLyAgICAgICBpZiAocmVzLmRhdGEubGVuZ3RoID09IDApIHsNCiAgICAgIC8vICAgICAgICAgdmFyIHByb2RhdGEgPSB7DQogICAgICAvLyAgICAgICAgICAgbmFtZTogc2VuW2FdLm5hbWUsDQogICAgICAvLyAgICAgICAgICAgc3RhdHVzOiAxLA0KICAgICAgLy8gICAgICAgICB9Ow0KICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhwcm9kYXRhKTsNCiAgICAgIC8vICAgICAgICAgRGljdFNlcnZpY2UuY3JlYXRlZGljdChwcm9kYXRhKS50aGVuKCgpID0+IHsNCg0KICAgICAgLy8gICAgICAgICAgIC8vICAgUnVsZUJhc2VkU2VydmljZS5jcmVhdGVkY29sdW1ucnVsZV9iYXNlZChyZXMuZGF0YS5pZCkudGhlbigoKSA9PiB7DQoNCiAgICAgIC8vICAgICAgICAgICAvLyB9KTsNCiAgICAgIC8vICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhhICsgMSxzZW4ubGVuZ3RoKTsNCiAgICAgIC8vICAgICAgICAgLy8gICBpZiAoYSArIDEgPT0gc2VuLmxlbmd0aCkgew0KICAgICAgLy8gICAgICAgICAvLyAgICAgLy8gY29uc29sZS5sb2coMSk7DQogICAgICAvLyAgICAgICAgIC8vIHRoaXMuc2F2ZXRvcnVsZShzZW4sIGFuc3dlciwgYWRfaWQpDQogICAgICAvLyAgICAgICAvLyB9DQogICAgICAvLyAgICAgICAgIH0pOw0KICAgICAgLy8gICAgICAgfWVsc2V7DQogICAgICAvLyAgICAgICAgIC8vIGNvbnNvbGUubG9nKGEgKyAxLHNlbi5sZW5ndGgpOw0KICAgICAgLy8gICAgICAgICAgIGlmIChhICsgMSA9PSBzZW4ubGVuZ3RoKSB7DQogICAgICAvLyAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygxKTsNCiAgICAgIC8vICAgICAgICB0aGlzLnNhdmV0b3J1bGUoc2VuLCBhbnN3ZXIsIGFkX2lkKQ0KICAgICAgLy8gICAgICAgfQ0KICAgICAgLy8gICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICANCiAgICAgIC8vICAgICB9KQ0KDQogICAgICAvLyAgIH0NCiAgICAgIC8vIH0gZWxzZSB7DQogICAgICAvLyAgIHRoaXMuc2F2ZXRvcnVsZShzZW4sIGFuc3dlcixhZF9pZCkNCiAgICAgIC8vIH0NCiAgICB9LA0KICAgIGNoZWNra2V5d29yZChuYW1lKSB7DQogICAgICAvLyBjb25zb2xlLmxvZyhuYW1lKTsNCiAgICAgIC8vICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjgwODEvYXBpL2tleXdvcmRfZGljdHM/bmFtZT0xJykudGhlbigocmVzKSA9PiB7DQogICAgICAvLyAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOw0KICAgICAgLy8gZm9yIChsZXQgciA9IDA7IHIgPCByZXMuZGF0YS5sZW5ndGg7IHIrKykgew0KICAgICAgLy8gbmFtZSA9IG5hbWUucmVwbGFjZUFsbCgvKFtcdUUwMDAtXHVGOEZGXXxcdUQ4M0NbXHVERjAwLVx1REZGRl18XHVEODNEW1x1REMwMC1cdURERkZdKS9nLCAnJykNCiAgICAgIC8vICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2VBbGwoLyg/OltcdTI3MDAtXHUyN2JmXXwoPzpcdWQ4M2NbXHVkZGU2LVx1ZGRmZl0pezJ9fFtcdWQ4MDAtXHVkYmZmXVtcdWRjMDAtXHVkZmZmXXxbXHUwMDIzLVx1MDAzOV1cdWZlMGY/XHUyMGUzfFx1MzI5OXxcdTMyOTd8XHUzMDNkfFx1MzAzMHxcdTI0YzJ8XHVkODNjW1x1ZGQ3MC1cdWRkNzFdfFx1ZDgzY1tcdWRkN2UtXHVkZDdmXXxcdWQ4M2NcdWRkOGV8XHVkODNjW1x1ZGQ5MS1cdWRkOWFdfFx1ZDgzY1tcdWRkZTYtXHVkZGZmXXxcdWQ4M2NbXHVkZTAxLVx1ZGUwMl18XHVkODNjXHVkZTFhfFx1ZDgzY1x1ZGUyZnxcdWQ4M2NbXHVkZTMyLVx1ZGUzYV18XHVkODNjW1x1ZGU1MC1cdWRlNTFdfFx1MjAzY3xcdTIwNDl8W1x1MjVhYS1cdTI1YWJdfFx1MjViNnxcdTI1YzB8W1x1MjVmYi1cdTI1ZmVdfFx1MDBhOXxcdTAwYWV8XHUyMTIyfFx1MjEzOXxcdWQ4M2NcdWRjMDR8W1x1MjYwMC1cdTI2RkZdfFx1MmIwNXxcdTJiMDZ8XHUyYjA3fFx1MmIxYnxcdTJiMWN8XHUyYjUwfFx1MmI1NXxcdTIzMWF8XHUyMzFifFx1MjMyOHxcdTIzY2Z8W1x1MjNlOS1cdTIzZjNdfFtcdTIzZjgtXHUyM2ZhXXxcdWQ4M2NcdWRjY2Z8XHUyOTM0fFx1MjkzNXxbXHUyMTkwLVx1MjFmZl0pL2csICcnKTsNCiAgICAgIC8vICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2VBbGwoLyhcclxufFxufFxyKS9nbSwgIiIpOw0KICAgICAgLy8gICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZUFsbCgiXyIsICIiKTsNCiAgICAgIC8vICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2VBbGwoIiEiLCAiIik7DQogICAgICAvLyAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlQWxsKCIqIiwgIiIpOw0KICAgICAgLy8gbmFtZSA9IG5hbWUucmVwbGFjZUFsbChgXy9sXF9gLCAiIik7Ly8gZXNsaW50LWRpc2FibGUtbGluZQ0KICAgICAgLy8gY29uc29sZS5sb2coJ2h0dHA6Ly8xMjcuMC4wLjE6NTAwMC9jaGVja2tleXdvcmQ/bmFtZT0nICsgbmFtZSk7DQogICAgICB2YXIgZGVzYyA9IHRoaXMuZmluZGRlc2NyaXB0aW9uKG5hbWUpDQogICAgICAvLyBjb25zb2xlLmxvZygnaHR0cDovLzEyNy4wLjAuMTo1MDAwL3dvcmt0b2tlbmRlc2M/dGV4dD0nK2Rlc2MpOw0KICAgICAgYXhpb3MuZ2V0KExpbmtTZXJ2aWNlLmdldHB5dGhvbmxpbmsoKSsnL3dvcmt0b2tlbmRlc2M/dGV4dD0nICsgZGVzYykudGhlbigocmVzKSA9PiB7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsNCiAgICAgICAgdGhpcy5kZXNjID0gcmVzLmRhdGENCiAgICAgIH0pOw0KICAgICAgLy8gbmFtZSA9ICfguILguYnguK3guKHguLnguKXguIjguLPguYDguJ7guLLguLDguILguK3guIfguKrguLTguJnguITguYnguLIg4Lir4Lih4Lin4LiU4Lir4Lih4Li54LmIIFNob3BlZSDguIHguKXguLjguYjguKHguJzguKXguLTguJXguKDguLHguJPguJHguYzguYDguJ7guLfguYjguK3guKrguLjguILguKDguLLguJ4g4Lit4Liy4Lir4Liy4Lij4LmA4Liq4Lij4Li04Lih4LmA4Lie4Li34LmI4Lit4LiE4Lin4Liy4Lih4LiH4Liy4LihIOC4nOC4tOC4pyDguKLguLXguYjguKvguYnguK0gQmx1ZWJpcmQo4Lia4Lil4Li54LmA4Lia4Li04Lij4LmM4LiUKSBTdG9yYWdlIENvbmRpdGlvbiBOb3JtYWwg4Lib4Lij4Liw4LmA4Lig4LiX4Liq4Liy4Lij4Lit4Liy4Lir4Liy4LijIOC4quC4suC4o+C4leC5ieC4suC4meC4reC4meC4uOC4oeC4ueC4peC4reC4tOC4quC4o+C4sCwg4Lin4Li04LiV4Liy4Lih4Li04LiZ4LiL4Li1IOC4m+C4o+C4sOC5gOC4l+C4qOC4leC5ieC4meC4geC4s+C5gOC4meC4tOC4lOC4quC4tOC4meC4hOC5ieC4siDguYTguJfguKIg4Lir4LiZ4LmJ4Liy4LiX4Li14LmI4LiC4Lit4LiH4Lit4Liy4Lir4Liy4Lij4LmA4Liq4Lij4Li04Lih4Liq4Liz4Lir4Lij4Lix4Lia4LiE4Lin4Liy4Lih4LiH4Liy4LihIOC4lOC4ueC5geC4peC4quC4tOC4pywg4Lib4LmJ4Lit4LiH4LiB4Lix4LiZ4Lij4Li04LmJ4Lin4Lij4Lit4LiiIOC4m+C4o+C4sOC5gOC4oOC4l+C4geC4suC4o+C4q+C5iOC4rSDguKvguYjguK3guKPguKfguKHguIHguLHguJkg4LmA4Lie4LioIOC4l+C4seC5ieC4h+C4quC4reC4h+C5gOC4nuC4qCDguK3guLLguKLguLjguIHguLLguKPguYDguIHguYfguJrguKPguLHguIHguKnguLIgMTIg4LmA4LiU4Li34Lit4LiZIOC4m+C4o+C4sOC5gOC4oOC4l+C4guC4reC4h+C4nOC4peC4tOC4leC4oOC4seC4k+C4keC5jOC4ouC4siDguYHguITguJvguIvguLnguKUg4Lir4Lih4Liy4Lii4LmA4Lil4LiC4LmD4Lia4Lit4LiZ4Li44LiN4Liy4LiVL+C4reC4oi4gMzAtMS0yNjc2NC01LTAwNTEg4LiI4Liz4LiZ4Lin4LiZ4Liq4Li04LiZ4LiE4LmJ4LiyIDE3OTAxIOC4quC5iOC4h+C4iOC4suC4gSDguIjguLHguIfguKvguKfguLHguJTguJnguITguKPguKPguLLguIrguKrguLXguKHguLIg4Lij4Liy4Lii4Lil4Liw4LmA4Lit4Li14Lii4LiU4Liq4Li04LiZ4LiE4LmJ4LiyIOC4p+C4tOC4leC4suC4oeC4tOC4meC4i+C4tSDguJ7guKXguLHguKog4LiV4Lij4LiyIOC4muC4peC4ueC5gOC4muC4tOC4o+C5jOC4lCDguJXguKPguLIg4Lia4Lil4Li54LmA4Lia4Li04Lij4LmM4LiUIOC4guC4meC4suC4lCAxMDAwIOC4oeC4tOC4peC4peC4tOC4geC4o+C4seC4oSA2MCDguYHguITguJvguIvguLnguKUg4LmA4Lij4LiX4LiC4Liy4Lii4Liq4LmI4LiHIOC4iuC5iOC4p+C4h+C4o+C4suC4hOC4suC4l+C4teC5iCAxIOC4quC4seC5iOC4h+C4i+C4t+C5ieC4reC4leC4seC5ieC4h+C5geC4leC5iCA1IOC4geC4o+C4sOC4m+C4uOC4geC4guC4tuC5ieC4meC5hOC4myDguJbguLbguIcgMjAg4LiB4Lij4Liw4Lib4Li44LiBIOC4o+C4suC4hOC4suC4geC4o+C4sOC4m+C4uOC4geC4peC4sCA5MyDguJrguLLguJcg4LiK4LmI4Lin4LiH4Lij4Liy4LiE4Liy4LiX4Li14LmIIDIg4Liq4Lix4LmI4LiH4LiL4Li34LmJ4Lit4LiV4Lix4LmJ4LiH4LmB4LiV4LmIIDIxIOC4geC4o+C4sOC4m+C4uOC4geC4guC4tuC5ieC4meC5hOC4myDguJbguLbguIcgNTAg4LiB4Lij4Liw4Lib4Li44LiBIOC4o+C4suC4hOC4suC4geC4o+C4sOC4m+C4uOC4geC4peC4sCA5MCDguJrguLLguJcg4LiK4LmI4Lin4LiH4Lij4Liy4LiE4Liy4LiX4Li14LmIIDMg4Liq4Lix4LmI4LiH4LiL4Li34LmJ4Lit4LiV4Lix4LmJ4LiH4LmB4LiV4LmIIDUxIOC4geC4o+C4sOC4m+C4uOC4geC4guC4tuC5ieC4meC5hOC4myDguJbguLbguIcgMTAwIOC4geC4o+C4sOC4m+C4uOC4gSDguKPguLLguITguLLguIHguKPguLDguJvguLjguIHguKXguLAgODcg4Lia4Liy4LiXIOC4iuC5iOC4p+C4h+C4o+C4suC4hOC4suC4l+C4teC5iCA0IOC4quC4seC5iOC4h+C4i+C4t+C5ieC4reC4leC4seC5ieC4h+C5geC4leC5iCAxMDAg4LiB4Lij4Liw4Lib4Li44LiB4LiC4Li24LmJ4LiZ4LmE4LibIC4uLi4uLi4uLi4uLi4uLi4uLi4uLiDguKPguLLguITguLLguIHguKPguLDguJvguLjguIHguKXguLAgODUg4Lia4Liy4LiXIFZpdGFtaW4gQyBQbHVzIERpZXRhcnkgU3VwcGxlbWVudCBQcm9kdWN0IEJsdWViaXJkIEJyYW5kIOC4nOC4peC4tOC4leC4oOC4seC4k+C4keC5jOC5gOC4quC4o+C4tOC4oeC4reC4suC4q+C4suC4o+C4p+C4tOC4leC4suC4oeC4tOC4meC4i+C4tSDguJ7guKXguLHguKog4LiV4Lij4LiyIOC4muC4peC4ueC5gOC4muC4tOC4o+C5jOC4lCDguKrguYjguKfguJnguJvguKPguLDguIHguK3guJrguJfguLHguYnguIfguKvguKHguJTguYPguJkgMSDguYHguITguJvguIvguLnguKUg4Liq4LmI4Lin4LiZ4Lib4Lij4Liw4LiB4Lit4Lia4LiX4Li14LmI4Liq4Liz4LiE4Lix4LiNIChBY3RpdmUgSW5ncmVkaWVudCkgVklUQU1JTiBDICgxMDAlKSAtIDYwIOC4oeC4tOC4peC4peC4tOC4geC4o+C4seC4oSBDSVRSVVMgQklPRkxBVk9OT0lEIFBPV0RFUiAtIDYzMCDguKHguLTguKXguKXguLTguIHguKPguLHguKEgQkFSQkFET1NDSEVSUlkgUE9XREVSL0FDRVJPTEEgQ0hFUlJZIFBPV0RFUiAo4Lic4LiH4Lia4Liy4Lij4LmM4LmA4Lia4LmC4LiU4Liq4LmA4LiK4Lit4Lij4LmM4Lij4Li1L+C4nOC4h+C4reC4sOC5gOC4i+C5guC4o+C4peC4suC5gOC4iuC4reC4o+C5jOC4o+C4tSkgKE1BTFBJR0hJQSBHTEFCUkEgTC4pIOC4nOC4pSAtIDYwIOC4oeC4tOC4peC4peC4tOC4geC4o+C4seC4oSBST1NFSElQIFBPV0RFUiAo4Lic4LiH4LmC4Lij4Liq4Liu4Li04Lib4Liq4LmMKSAoUk9TQSBDQU5JTkEgTC4pIOC4nOC4pSAtIDYwIOC4oeC4tOC4peC4peC4tOC4geC4o+C4seC4oSBSdXRpbiAtIDMwIOC4oeC4tOC4peC4peC4tOC4geC4o+C4seC4oSBJTkRJQU4gR09PU0VCRVJSWSBQT1dERVIgKOC4nOC4h+C4oeC4sOC4guC4suC4oeC4m+C5ieC4reC4oSkgKFBIWUxMQU5USFVTIEVNQkxJQ0EgTC4gKSDguJzguKUgLSA2MCDguKHguLTguKXguKXguLTguIHguKPguLHguKEg4Liq4LmI4Lin4LiZ4Lib4Lij4Liw4LiB4Lit4Lia4LiX4Li14LmI4LmE4Lih4LmI4Liq4Liz4LiE4Lix4LiNIChJbmFjdGl2ZSBJbmdyZWRpZW50KSBFRElCTEUgR0VMQVRJTiA0MjggLSA5OC41IOC4oeC4tOC4peC4peC4tOC4geC4o+C4seC4oSBUSVRBTklVTSBESU9YSURFIDE3MSAtMS45NSDguKHguLTguKXguKXguLTguIHguKPguLHguKEg4Lin4Li04LiY4Li14Lij4Lix4Lia4Lib4Lij4Liw4LiX4Liy4LiZIOC4hOC4o+C4seC5ieC4h+C4peC4sCAxLTIg4LmB4LiE4Lib4LiL4Li54LilIOC4q+C4peC4seC4h+C4reC4suC4q+C4suC4o+C5gOC4iuC5ieC4siDguYDguKXguILguJfguLXguYgg4LitLuC4oi4gMzAtMS0yNjc2NC01LTAwNTEg4LiE4Liz4LmA4LiV4Li34Lit4LiZIOC4hOC4p+C4o+C5gOC4geC5h+C4muC5g+C4q+C5ieC4nuC5ieC4meC5geC4quC4h+C5geC4lOC4h+C5geC4peC4sOC4hOC4p+C4suC4oeC4iuC4t+C5ieC4mSDguYDguJTguYfguIEg4Liq4LiV4Lij4Li14Lih4Li14LiE4Lij4Lij4Lig4LmMIOC5geC4peC4sOC4quC4leC4o+C4teC5g+C4q+C5ieC4meC4oeC4muC4uOC4leC4o+C5hOC4oeC5iOC4hOC4p+C4o+C4o+C4seC4muC4m+C4o+C4sOC4l+C4suC4mSDguITguKfguKPguIHguLTguJnguK3guLLguKvguLLguKPguKvguKXguLLguIHguKvguKXguLLguKLguYPguKvguYnguITguKPguJogNSDguKvguKHguLnguYgg4LmD4LiZ4Liq4Lix4LiU4Liq4LmI4Lin4LiZ4LiX4Li14LmI4LmA4Lir4Lih4Liy4Liw4Liq4Lih4LmA4Lib4LmH4LiZ4Lib4Lij4Liw4LiI4LizIOC5hOC4oeC5iOC4oeC4teC4nOC4peC5g+C4meC4geC4suC4o+C4m+C5ieC4reC4h+C4geC4seC4meC4q+C4o+C4t+C4reC4o+C4seC4geC4qeC4suC5guC4o+C4hCDguKrguKPguKPguJ7guITguLjguJMg4Lib4Lij4Liw4LmC4Lii4LiK4LiZ4LmM4LiC4Lit4LiH4LiB4Liy4Lij4LiB4Li04LiZ4Lin4Li04LiV4Liy4Lih4Li04LiZ4LiL4Li1IO+4j+C4l+C4s+C5g+C4q+C5ieC4q+C4meC5ieC4suC5hOC4oeC5iOC5guC4l+C4o+C4oSDguKvguJnguYnguLLguJXguLLguKrguJTguYPguKog77iP4LiK4LmI4Lin4Lii4Lif4Li34LmJ4LiZ4Lif4Li54Lic4Li04Lin4Lir4LiZ4LmJ4LiyIOC4quC4tOC4pyDguJ3guYnguLIg4LiB4Lij4LiwIOC4o+C4tOC5ieC4p+C4o+C4reC4oiDguJTguLnguIjguLLguIfguKXguIcg77iP4Lic4Li04Lin4Lie4Lij4Lij4LiT4LiZ4Li44LmI4Lih4LmA4Lij4Li14Lii4Lia4LmA4LiZ4Li14Lii4LiaIOC4iuC4uOC5iOC4oeC4iuC4t+C5iOC4mSDvuI/guKvguJnguYnguLLguJXguLLguJTguLnguYDguJTguYfguIHguYHguKXguLDguYDguJTguYnguIfguILguLbguYnguJkg77iP4Lic4Li04Lin4Lir4LiZ4LmJ4Liy4LiC4Liy4Lin4Lit4Lih4LiK4Lih4Lie4Li5IOC4quC4tOC4meC4hOC5ieC4suC4leC4seC4lOC4o+C4reC4muC4l+C4uOC4geC4p+C4seC4meC5gOC4p+C4peC4siDguJXguLHguJTguKPguK3guJrguYDguKfguKXguLIgMTIuMDAg4LiZIOC4guC4reC4h+C4l+C4uOC4geC4p+C4seC4mSDguYHguIjguYnguIfguYLguK3guJnguYDguIHguLTguJnguYDguKfguKXguLIg4Liq4LmI4LiH4Lij4Lit4Lia4Lin4Lix4LiZ4LiW4Lix4LiU4LmE4Lib4LiZ4Liw4LiI4LmK4LiwIOC4quC5iOC4h+C4nuC4seC4quC4lOC4uOC4l+C4uOC4geC4p+C4seC4mSDguYDguKfguYnguJnguKfguLHguJnguK3guLLguJfguLTguJXguKLguYwg4LmB4Lil4Liw4Lin4Lix4LiZ4Lir4Lii4Li44LiU4LiZ4Lix4LiB4LiC4Lix4LiV4Lik4LiB4Lip4LmMIOC4guC4reC4muC4nuC4o+C4sOC4hOC4uOC4k+C4peC4ueC4geC4hOC5ieC4suC4l+C4uOC4geC4l+C5iOC4suC4mSDguJfguLXguYjguYTguKfguYnguKfguLLguIfguYPguIjguJzguKXguLTguJXguKDguLHguJPguJHguYzguILguK3guIfguYDguKPguLLguYDguKrguKHguK3guKHguLJfL2xcXycNCiAgICAgIC8vIGNvbnNvbGUubG9nKCdodHRwOi8vMTI3LjAuMC4xOjUwMDAvY2hlY2trZXl3b3JkP25hbWU9JyArIGRlc2MpOyAgICANCiAgICAgIGF4aW9zLmdldChMaW5rU2VydmljZS5nZXRweXRob25saW5rKCkrJy9jaGVja2tleXdvcmQ/bmFtZT0nICsgZGVzYykudGhlbigocmVzKSA9PiB7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsNCiAgICAgICAgaWYgKHJlcy5kYXRhLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAvLyB0aGlzLmtleXdvcmQucHVzaChyZXMuZGF0YSkNCiAgICAgICAgICB0aGlzLmtleXdvcmQgPSByZXMuZGF0YQ0KDQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgICAgLy8gICAgIH0NCg0KICAgICAgLy8gfSk7DQogICAgICAvLyAgICAgICB2YXIgbGlzdGtleXdvcmRzID0gW10NCiAgICAgIC8vICAgICAgIHZhciBuYW1lc3BsaXQgPSBuYW1lLnNwbGl0KCIgIikNCiAgICAgIC8vICAgICAgIC8vIGNvbnNvbGUubG9nKG5hbWVzcGxpdCk7DQogICAgICAvLyAgICAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9hcGkva2V5d29yZF9kaWN0cz9uYW1lPTEnKS50aGVuKChyZXMpID0+IHsNCiAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOw0KICAgICAgLy8gICAgICAgICB2YXIga2V5bGlzdCA9IFtdDQogICAgICAvLyAgICAgICAgIGZvciAobGV0IHIgPSAwOyByIDwgcmVzLmRhdGEubGVuZ3RoOyByKyspIHsNCiAgICAgIC8vICAgICAgICAgICByZXMuZGF0YVtyXS5uYW1lID0gcmVzLmRhdGFbcl0ubmFtZS5yZXBsYWNlQWxsKCIuIiwiIikNCiAgICAgIC8vICAgICAgICAgICB2YXIga2sgPSByZXMuZGF0YVtyXS5uYW1lLnNwbGl0KCIgIikNCiAgICAgIC8vICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGtrLmxlbmd0aDsgaysrKSB7DQogICAgICAvLyAgICAgICAgICAgICBrZXlsaXN0LnB1c2goa2tba10pDQogICAgICAvLyAgICAgICAgICAgfQ0KICAgICAgLy8gICAgICAgICB9DQogICAgICAvLyAgICAgICAgIGZvciAobGV0IGtleSA9IDA7IGtleSA8IGtleWxpc3QubGVuZ3RoOyBrZXkrKykgew0KICAgICAgLy8gICAgICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgbmFtZXNwbGl0Lmxlbmd0aDsgbisrKSB7DQogICAgICAvLyAgICAgICAgICAgICBpZiAobmFtZXNwbGl0W25dID09IGtleWxpc3Rba2V5XSAmJiBrZXlsaXN0W2tleV0gIT0gJycgJiYgaXNOYU4oa2V5bGlzdFtrZXldKSkgew0KICAgICAgLy8gICAgICAgICAgICAgICBsaXN0a2V5d29yZHMucHVzaChrZXlsaXN0W2tleV0pDQogICAgICAvLyAgICAgICAgICAgICB9DQoNCiAgICAgIC8vICAgICAgICAgICB9DQogICAgICAvLyAgICAgICAgIH0NCiAgICAgIC8vICAgICAgICAgLy8gY29uc29sZS5sb2coa2V5bGlzdCk7DQogICAgICAvLyAgICAgICAgIC8vIGNvbnNvbGUubG9nKGxpc3RrZXl3b3Jkcyk7DQoNCiAgICAgIC8vICAgICAgIGNvbnNvbGUubG9nKGxpc3RrZXl3b3Jkcy5sZW5ndGgpOw0KICAgICAgLy8gICAgICAgICBpZiAobGlzdGtleXdvcmRzLmxlbmd0aCA9PSAwKSB7DQoNCiAgICAgIC8vICAgICAgICAgICB0aGlzLmNvbG9ya2V5ID0gImJhY2tncm91bmQtY29sb3I6I2EzZTlhNCINCiAgICAgIC8vICAgICAgICAgfQ0KICAgICAgLy8gICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAvLyAgICAgICAgIGxpc3RrZXl3b3Jkcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHsNCiAgICAgIC8vICAgICAgaWYocmVzdWx0LmluZGV4T2YoaXRlbSkgPCAwKSB7DQogICAgICAvLyAgICAgICAgICByZXN1bHQucHVzaChpdGVtKTsNCiAgICAgIC8vICAgICAgfQ0KICAgICAgLy8gfSk7DQogICAgICAvLyBjb25zb2xlLmxvZyhyZXN1bHQpOw0KICAgICAgLy8gbGlzdGtleXdvcmRzID0gcmVzdWx0DQogICAgICAvLyAgICAgICAgIGZvciAobGV0IGwgPSAwOyBsIDwgbGlzdGtleXdvcmRzLmxlbmd0aDsgbCsrKSB7DQogICAgICAvLyAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2h0dHA6Ly8xMjcuMC4wLjE6NTAwMC9jaGVja2tleXdvcmQ/bmFtZT0nICsgbmFtZSsnJiZuYW1lX3JlYWw9Jyk7DQogICAgICAvLyAgICAgICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vMTI3LjAuMC4xOjUwMDAvY2hlY2trZXl3b3JkP25hbWU9JyArIG5hbWUrJyYmbmFtZV9yZWFsPScgKyBsaXN0a2V5d29yZHNbbF0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgLy8gICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEpOw0KICAgICAgLy8gICAgICAgICB0aGlzLmtleXdvcmQucHVzaChyZXMuZGF0YSkNCiAgICAgIC8vICAgICAgIH0pOw0KDQogICAgICAvLyAgICAgICAgIH0NCiAgICAgIC8vICAgICAgIH0pOw0KDQogICAgfSwNCiAgICBmaW5kZGVzY3JpcHRpb24oZGF0YSkgew0KICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7DQogICAgICB2YXIgdGV4dCA9IFsn4Lij4Liy4Lii4Lil4Liw4LmA4Lit4Li14Lii4LiUJ10NCiAgICAgIHZhciBmaW5kZmRhID0gZGF0YQ0KICAgICAgZm9yIChsZXQgdCA9IDA7IHQgPCB0ZXh0Lmxlbmd0aDsgdCsrKSB7DQogICAgICAgIGlmIChmaW5kZmRhLmluZGV4T2YodGV4dFt0XSkgIT0gLTEpIHsNCg0KICAgICAgICAgIGZpbmRmZGEgPSBmaW5kZmRhLnN1YnN0cmluZyhmaW5kZmRhLmluZGV4T2YodGV4dFt0XSkpOw0KICAgICAgICB9DQoNCiAgICAgIH0NCiAgICAgIC8vIGlmIChmaW5kZmRhID09ICfguK3guLLguKvguLLguKMnKSB7DQogICAgICAvLyAgIGZpbmRmZGEgPSBmaW5kZmRhKyBmaW5kZmRhKyfguYDguKrguKPguLTguKEnDQogICAgICAvLyB9DQogICAgICAvLyBjb25zb2xlLmxvZyhmaW5kZmRhKTsNCiAgICAgIHJldHVybiBmaW5kZmRhDQogICAgfSwNCiAgICBnZXRkYXRhKCkgew0KICAgICAgLy8gdmFyIGVuZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkKjUNCiAgICAgIC8vIC8vIHZhciBzdGFydCA9IGVuZC00DQogICAgICAvLyB2YXIgc3RhcnQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pZA0KICAgICAgLy8gY29uc29sZS5sb2coc3RhcnQpOw0KICAgICAgUHJvZHVjdHNTZXJ2aWNlLmdldGRlY2lzaW9uKHRoaXMuY3VycmVudFVzZXIuaWQpLnRoZW4oYXN5bmMgKHJlcykgPT4gew0KICAgICAgDQogICAgICAgIHRoaXMubGlzdCA9IHJlcy5kYXRhDQogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubGlzdCk7DQogICAgICB9KQ0KDQoNCiAgICB9DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgLy8gY29uc29sZS5sb2codGhpcy4kcm91dGUucXVlcnkuaWQpOw0KICAgIHRoaXMuYmFjayA9IHBhcnNlSW50KHRoaXMuJHJvdXRlLnF1ZXJ5LmlkKS0xDQogICAgdGhpcy5uZXh0ID0gcGFyc2VJbnQodGhpcy4kcm91dGUucXVlcnkuaWQpKzENCiAgICAvLyBQcm9kdWN0c1NlcnZpY2UuZ2V0cHJvZHVjdHMoMSwnJywnJykudGhlbigocmVzKT0+ew0KICAgICAgdGhpcy5hbGxkYXRhID0gNzUNCiAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsNCiAgICB0aGlzLmdldGRhdGEoKQ0KICAgIC8vIH0pOw0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGN1cnJlbnRVc2VyKCkgew0KICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgudXNlcjsNCiAgICB9LCAgICANCiAgfSwNCn07DQo="},{"version":3,"sources":["Advertise.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Advertise.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n\r\n    <table class=\"table table-bordered mt-3\" v-for=\"l in list\" :key=\"l.id\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\" style=\"text-align:center;background-color:#ffb454\" colspan=\"2\">{{ l.file }}</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <th style=\"background-color:#ffb454\">รายละเอียดสินค้า</th>\r\n          <th style=\"background-color:#ffb454\">\r\n            <div class=\"row\">\r\n              <div class=\"col-md-6\">\r\n                ข้อความโฆษณา\r\n              </div>\r\n              <div class=\"col-md-6\">\r\n                \r\n           <div style=\"text-align: right;\"> <button @click=\"getid(0)\"\r\n             style=\"text-align: right;\"\r\n          data-bs-toggle=\"modal\" \r\n          data-bs-target=\"#AddScopus\"\r\n           type=\"submit\" class=\"mb-3 btn btn-success\">\r\n      <i class=\"fa fa-plus\" aria-hidden=\"true\"></i>\r\n    เพิ่ม keyword</button></div>\r\n              </div>\r\n            </div>  </th>\r\n        </tr>\r\n        <tr>\r\n          <td :style=\"colorkey\" style=\"width:40%\"><span v-html=\"l.sentent_keyword\"></span></td>\r\n          <!-- <th :style=\"colorkey\">ข้อความโฆษณา</th> -->\r\n          <td :style=\"colorkey\" v-if=\"l.data != 0\">\r\n        <tr v-for=\"(k, i) in l.data\" :key=\"i\">\r\n          <td style=\"width:70%\"><span v-html=\"k.sentent\"></span></td>\r\n          <td style=\"width:20%\"><span v-if=\"k.answer == 1\">เกินจริง</span><span v-if=\"k.answer == 9\">ไม่เกินจริง</span><span\r\n              v-if=\"k.answer == 0\"></span></td>\r\n          <td style=\"width:10%\" v-if=\"!k.answer\"><button @click=\"savetorule_based(k.dict_id, k.dict_name, 1,k.id)\" type=\"submit\" class=\"mb-3 btn btn-success\">\r\n              <i class=\"fa fa-check\"></i>\r\n           เกินจริง </button>&nbsp;\r\n           <button @click=\"savetorule_based(k.dict_id,k.dict_name, 9,k.id)\" type=\"submit\" class=\"mb-3 btn btn-danger\">\r\n              <i class=\"fa fa-times\"></i>\r\n            ไม่เกินจริง</button></td>\r\n        </tr>\r\n        </td>\r\n        <td :style=\"colorkey\" v-else>\r\n        <tr >\r\n          ไม่พบข้อความโฆษณา\r\n        </tr>\r\n        </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <div class=\"row\" v-if=\"list.length\">\r\n      <div class=\"col-md-6\">\r\n        <a :href=\"'Advertising?id='+back\"> <button type=\"submit\" class=\"mb-3 btn btn-info\" v-if=\"$route.query.id !=1\">\r\n          <i class=\"fa fa-arrow-left\" aria-hidden=\"true\"></i>\r\n            </button></a>\r\n      </div>\r\n      <div class=\"col-md-6\" style=\"text-align: right;\" v-if=\"$route.query.id < alldata\">\r\n        <a :href=\"'Advertising?id='+next\"><button type=\"submit\" class=\"mb-3 btn btn-info\" >\r\n              <i class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i>\r\n            </button></a></div>\r\n    </div>\r\n      <!-- Modal -->\r\n  <div\r\n      class=\"modal fade\"\r\n      id=\"AddScopus\"\r\n      tabindex=\"-1\"\r\n      aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{ title }}</h5>\r\n            \r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <form>\r\n              <div class=\"card-body mt-3\">\r\n                <div class=\"form-group mt-3\">\r\n                  <label>ข้อความโฆษณา</label>\r\n                  <input\r\n                    v-model=\"data.name\"\r\n                    type=\"text\"\r\n                    min=\"1\"\r\n                    class=\"form-control form-control-sm\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n          <div class=\"modal-footer mt-3\">\r\n            <button type=\"button\" class=\"btn btn-success\" @click=\"save()\">\r\n              บันทึก\r\n            </button>\r\n            <button\r\n            id=\"closedcategory\"\r\n              type=\"button\"\r\n              class=\"btn btn-secondary\"\r\n              data-bs-dismiss=\"modal\"\r\n            >\r\n              ปิด\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport ProductsService from '../services/ProductsService.js'\r\nimport DictService from '../services/DictService'\r\nimport RuleBasedService from '../services/RuleBasedService'\r\nimport MapRuleBasedService from '../services/MapRuleBasedService'\r\nimport LinkService from '../services/LinkService'\r\nimport KeywordService from '../services/KeywordService'\r\n\r\nexport default {\r\n  name: \"App\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      list: [],\r\n      url: '',\r\n      file: '',\r\n      status: false,\r\n      urlPath: '',\r\n      imagelists: '',\r\n      tokenize: '',\r\n      matchname: '',\r\n      matchcategory: '',\r\n      type: '',\r\n      matchnamesum: '',\r\n      statusname: 0,\r\n      statuscat: 0,\r\n      statusfda: 0,\r\n      colorname: 'background-color:#f9bdbb',\r\n      colorfda: 'background-color:#f9bdbb',\r\n      colorcat: 'background-color:#f9bdbb',\r\n      id: '',\r\n      keyword: [],\r\n      colorkey: 'background-color:#f9bdbb',\r\n      desc: '',\r\n      arrList: [],\r\n      alldata:0,\r\n      back:0,\r\n      next:0,\r\n      title:'',\r\n      data:{},\r\n      pro_id:0,\r\n    };\r\n  },\r\n  methods: {\r\n    getid(id) {\r\n      // console.log(id);\r\n      this.pro_id = id;\r\n      if (this.pro_id != 0) {\r\n        this.title = \"แก้ไขข้อมูลข้อความ\";\r\n        // console.log(this.user_id);\r\n        KeywordService.getkeyword(this.pro_id).then((res) => {\r\n          // console.log(res.data);\r\n          this.data = res.data;\r\n        });\r\n      } else {\r\n        this.title = \"เพิ่มข้อมูลข้อความ\";\r\n        this.data = [];\r\n      }\r\n    },\r\n    save() {\r\n      console.log(this.data);\r\n      if (this.data.name == null || this.data.cat_id == \"\") {\r\n        alert(\"กรุณากรอกข้อความ\");\r\n      } else {\r\n        var prodata = {\r\n          id:this.data.id,\r\n          name: this.data.name,\r\n          status:1,\r\n        };\r\n        console.log(prodata); \r\n        if (this.pro_id == 0) {\r\n          KeywordService.createkeyword(prodata).then(() => {\r\n          DictService.createdict(prodata).then(() => {\r\n            // console.log(res.data );\r\n            // RuleBasedService.createdcolumnrule_based(res.data.id).then(() => {\r\n            document.getElementById(\"closedcategory\").click();\r\n            // this.getcategory();\r\n            alert('บันทึกสำเร็จ')\r\n          // });\r\n        });\r\n      });\r\n        } else {\r\n          KeywordService.updatekeyword(this.pro_id,prodata).then(() => {\r\n            document.getElementById(\"closedcategory\").click();\r\n            // this.getcategory();\r\n            alert('บันทึกสำเร็จ')\r\n          });\r\n            }\r\n      }\r\n    },\r\n    savetorule(sen, answer,ad_id) {\r\n      console.log(sen);\r\n      var iddata = []\r\nvar dicts =[]\r\n      for (let d = 0; d < sen.length; d++) {\r\n        // console.log(datasplit[d]);\r\n        DictService.getdicts('', sen[d].name).then(async (res) => {\r\n\r\n          if (res.data.length > 0) {\r\n            // console.log(res.data[0].id);\r\n            iddata.push(res.data[0].id)\r\n            dicts.push({id:res.data[0].id,\r\n            name:sen[d].name})\r\n          }\r\n          // console.log(d+1 , sen.length);\r\n          console.log(iddata);\r\n          if (d + 1 == sen.length) {\r\n            var sql = `SELECT m.* FROM map_rule_based m WHERE m.status = 1 and m.dict_id = '[${iddata}]'`\r\n            console.log(sql);\r\n            \r\n             RuleBasedService.getbydict(sql).then((res) => {\r\n              console.log(res.data);\r\n              if (res.data.length == 0) {\r\n                var maprule = {\r\n                    rule_based_id: res.data.id,\r\n                    advertise_id: ad_id,\r\n                    status:1,\r\n                    answer:answer\r\n                  }\r\n                  MapRuleBasedService.createmap_rule_based(maprule).then((res) => {\r\n                    console.log(res.data);\r\n                    var map_id = res.data.id\r\n                    var updateadvertise = {\r\n                    dict_id: iddata,\r\n                  }\r\n                  MapRuleBasedService.updateadvertise(ad_id,updateadvertise).then(() => {\r\n                    for (let i = 0; i < dicts.length; i++) {\r\n                var rule = {\r\n                  map_rule_based_id\t:map_id,\r\n\tdict_id\t:dicts[i].id,\r\n  dict_name:dicts[i].name,\r\n\tno:i+1\r\n                }\r\n                RuleBasedService.createrule_based(rule).then(() => {\r\n\r\n               if (i+1 == iddata.length) {\r\n                \r\n                alert('บันทึกสำเร็จ')\r\n              \r\n              this.getdata()\r\n                             }     \r\n                });\r\n              }\r\n                    // console.log(res.data);\r\n                    // var pro = {\r\n                    //   map_rule_based:res.data.id\r\n                    // }\r\n                    // ProductsService.map_rule_based(id,pro).then(() => {\r\n                    \r\n                    //               setTimeout(function () {\r\n                    //   location.reload();\r\n                    // }, 500);\r\n                    // });\r\n                  });\r\n                  });\r\n                // let text = ''\r\n                // text += '{'\r\n                // for (let i = 0; i < iddata.length; i++) {\r\n                //   // console.log(iddata[i]);\r\n                //   text += '\"dict' + iddata[i] + '\"' + ':' + 1 + ','\r\n\r\n                // }\r\n                // text += '\"answer' + '\"' + ':' + answer + ','\r\n                // text = text.slice(0, -1);\r\n                // text += '}'\r\n                // // console.log(text);\r\n                // let jsonData = JSON.parse(text);\r\n                // // console.log(jsonData);\r\n                // RuleBasedService.createrule_based(jsonData).then((res) => {\r\n                  \r\n                // });\r\n              } else {\r\n                // console.log(res.data);\r\n                var updatemaprule = {\r\n                  answer: answer,\r\n                }\r\n                MapRuleBasedService.updateanswer(res.data[0].id, updatemaprule).then(() => {\r\n                  alert('บันทึกสำเร็จ')\r\n\r\n                  this.getdata()\r\n                })\r\n              }\r\n            });\r\n\r\n          }\r\n        });\r\n\r\n      }\r\n\r\n    },\r\n    savetorule_based(id, name, answer,ad_id) {\r\n      var dicts = JSON.parse(id)\r\n      var dictname = JSON.parse(name)\r\n      MapRuleBasedService.findadanduser(ad_id,this.currentUser.id).then(async (res) => {\r\nconsole.log(res.data);\r\n\r\nif (res.data.length == 0) {\r\n  var maprule = {\r\n                    advertise_id: ad_id,\r\n                    answer:answer,\r\n                    user:this.currentUser.id,\r\n                    status:1\r\n\r\n                  }\r\n                  MapRuleBasedService.createmap_rule_based(maprule).then((res) => {\r\n                    var map_id = res.data.id\r\n                    for (let i = 0; i < dicts.length; i++) {\r\n                var rule = {\r\n                  map_rule_based_id\t:map_id,\r\n\tdict_id\t:dicts[i],\r\n  dict_name:dictname[i],\r\n\tno:i+1\r\n                }\r\n                RuleBasedService.createrule_based(rule).then(() => {\r\n\r\n               if (i+1 == dicts.length) {\r\n                \r\n                alert('บันทึกสำเร็จ')\r\n              \r\n              this.getdata()\r\n                             }     \r\n                });\r\n              }\r\n                });\r\n}\r\n      });\r\n      // sen = JSON.parse(sen)\r\n      // id = JSON.parse(id)\r\n      // console.log(id);\r\n      // console.log(id.length);\r\n      // // console.log(ad_id);\r\n      // console.log(sen.length);\r\n      // console.log('answer',answer);\r\n      // if (id.length != sen.length) {\r\n      //   for (let a = 0; a < sen.length; a++) {\r\n      //     // console.log(sen[a].name);\r\n      //     DictService.getdicts('', sen[a].name).then(async (res) => {\r\n      //       console.log(res.data);\r\n      //       if (res.data.length == 0) {\r\n      //         var prodata = {\r\n      //           name: sen[a].name,\r\n      //           status: 1,\r\n      //         };\r\n      //         console.log(prodata);\r\n      //         DictService.createdict(prodata).then(() => {\r\n\r\n      //           //   RuleBasedService.createdcolumnrule_based(res.data.id).then(() => {\r\n\r\n      //           // });\r\n      //           // console.log(a + 1,sen.length);\r\n      //         //   if (a + 1 == sen.length) {\r\n      //         //     // console.log(1);\r\n      //         // this.savetorule(sen, answer, ad_id)\r\n      //       // }\r\n      //         });\r\n      //       }else{\r\n      //         // console.log(a + 1,sen.length);\r\n      //           if (a + 1 == sen.length) {\r\n      //             // console.log(1);\r\n      //        this.savetorule(sen, answer, ad_id)\r\n      //       }\r\n      //       }\r\n            \r\n            \r\n      //     })\r\n\r\n      //   }\r\n      // } else {\r\n      //   this.savetorule(sen, answer,ad_id)\r\n      // }\r\n    },\r\n    checkkeyword(name) {\r\n      // console.log(name);\r\n      //   axios.get('http://localhost:8081/api/keyword_dicts?name=1').then((res) => {\r\n      //     console.log(res.data);\r\n      // for (let r = 0; r < res.data.length; r++) {\r\n      // name = name.replaceAll(/([\\uE000-\\uF8FF]|\\uD83C[\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDDFF])/g, '')\r\n      //       name = name.replaceAll(/(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\u0023-\\u0039]\\ufe0f?\\u20e3|\\u3299|\\u3297|\\u303d|\\u3030|\\u24c2|\\ud83c[\\udd70-\\udd71]|\\ud83c[\\udd7e-\\udd7f]|\\ud83c\\udd8e|\\ud83c[\\udd91-\\udd9a]|\\ud83c[\\udde6-\\uddff]|\\ud83c[\\ude01-\\ude02]|\\ud83c\\ude1a|\\ud83c\\ude2f|\\ud83c[\\ude32-\\ude3a]|\\ud83c[\\ude50-\\ude51]|\\u203c|\\u2049|[\\u25aa-\\u25ab]|\\u25b6|\\u25c0|[\\u25fb-\\u25fe]|\\u00a9|\\u00ae|\\u2122|\\u2139|\\ud83c\\udc04|[\\u2600-\\u26FF]|\\u2b05|\\u2b06|\\u2b07|\\u2b1b|\\u2b1c|\\u2b50|\\u2b55|\\u231a|\\u231b|\\u2328|\\u23cf|[\\u23e9-\\u23f3]|[\\u23f8-\\u23fa]|\\ud83c\\udccf|\\u2934|\\u2935|[\\u2190-\\u21ff])/g, '');\r\n      //       name = name.replaceAll(/(\\r\\n|\\n|\\r)/gm, \"\");\r\n      //       name = name.replaceAll(\"_\", \"\");\r\n      //       name = name.replaceAll(\"!\", \"\");\r\n      //       name = name.replaceAll(\"*\", \"\");\r\n      // name = name.replaceAll(`_/l\\_`, \"\");// eslint-disable-line\r\n      // console.log('http://127.0.0.1:5000/checkkeyword?name=' + name);\r\n      var desc = this.finddescription(name)\r\n      // console.log('http://127.0.0.1:5000/worktokendesc?text='+desc);\r\n      axios.get(LinkService.getpythonlink()+'/worktokendesc?text=' + desc).then((res) => {\r\n        // console.log(res.data);\r\n        this.desc = res.data\r\n      });\r\n      // name = 'ข้อมูลจำเพาะของสินค้า หมวดหมู่ Shopee กลุ่มผลิตภัณฑ์เพื่อสุขภาพ อาหารเสริมเพื่อความงาม ผิว ยี่ห้อ Bluebird(บลูเบิร์ด) Storage Condition Normal ประเภทสารอาหาร สารต้านอนุมูลอิสระ, วิตามินซี ประเทศต้นกำเนิดสินค้า ไทย หน้าที่ของอาหารเสริมสำหรับความงาม ดูแลสิว, ป้องกันริ้วรอย ประเภทการห่อ ห่อรวมกัน เพศ ทั้งสองเพศ อายุการเก็บรักษา 12 เดือน ประเภทของผลิตภัณฑ์ยา แคปซูล หมายเลขใบอนุญาต/อย. 30-1-26764-5-0051 จำนวนสินค้า 17901 ส่งจาก จังหวัดนครราชสีมา รายละเอียดสินค้า วิตามินซี พลัส ตรา บลูเบิร์ด ตรา บลูเบิร์ด ขนาด 1000 มิลลิกรัม 60 แคปซูล เรทขายส่ง ช่วงราคาที่ 1 สั่งซื้อตั้งแต่ 5 กระปุกขึ้นไป ถึง 20 กระปุก ราคากระปุกละ 93 บาท ช่วงราคาที่ 2 สั่งซื้อตั้งแต่ 21 กระปุกขึ้นไป ถึง 50 กระปุก ราคากระปุกละ 90 บาท ช่วงราคาที่ 3 สั่งซื้อตั้งแต่ 51 กระปุกขึ้นไป ถึง 100 กระปุก ราคากระปุกละ 87 บาท ช่วงราคาที่ 4 สั่งซื้อตั้งแต่ 100 กระปุกขึ้นไป ..................... ราคากระปุกละ 85 บาท Vitamin C Plus Dietary Supplement Product Bluebird Brand ผลิตภัณฑ์เสริมอาหารวิตามินซี พลัส ตรา บลูเบิร์ด ส่วนประกอบทั้งหมดใน 1 แคปซูล ส่วนประกอบที่สำคัญ (Active Ingredient) VITAMIN C (100%) - 60 มิลลิกรัม CITRUS BIOFLAVONOID POWDER - 630 มิลลิกรัม BARBADOSCHERRY POWDER/ACEROLA CHERRY POWDER (ผงบาร์เบโดสเชอร์รี/ผงอะเซโรลาเชอร์รี) (MALPIGHIA GLABRA L.) ผล - 60 มิลลิกรัม ROSEHIP POWDER (ผงโรสฮิปส์) (ROSA CANINA L.) ผล - 60 มิลลิกรัม Rutin - 30 มิลลิกรัม INDIAN GOOSEBERRY POWDER (ผงมะขามป้อม) (PHYLLANTHUS EMBLICA L. ) ผล - 60 มิลลิกรัม ส่วนประกอบที่ไม่สำคัญ (Inactive Ingredient) EDIBLE GELATIN 428 - 98.5 มิลลิกรัม TITANIUM DIOXIDE 171 -1.95 มิลลิกรัม วิธีรับประทาน ครั้งละ 1-2 แคปซูล หลังอาหารเช้า เลขที่ อ.ย. 30-1-26764-5-0051 คำเตือน ควรเก็บให้พ้นแสงแดงและความชื้น เด็ก สตรีมีครรภ์ และสตรีให้นมบุตรไม่ควรรับประทาน ควรกินอาหารหลากหลายให้ครบ 5 หมู่ ในสัดส่วนที่เหมาะสมเป็นประจำ ไม่มีผลในการป้องกันหรือรักษาโรค สรรพคุณ ประโยชน์ของการกินวิตามินซี ️ทำให้หน้าไม่โทรม หน้าตาสดใส ️ช่วยฟื้นฟูผิวหน้า สิว ฝ้า กระ ริ้วรอย ดูจางลง ️ผิวพรรณนุ่มเรียบเนียบ ชุ่มชื่น ️หน้าตาดูเด็กและเด้งขึ้น ️ผิวหน้าขาวอมชมพู สินค้าตัดรอบทุกวันเวลา ตัดรอบเวลา 12.00 น ของทุกวัน แจ้งโอนเกินเวลา ส่งรอบวันถัดไปนะจ๊ะ ส่งพัสดุทุกวัน เว้นวันอาทิตย์ และวันหยุดนักขัตฤกษ์ ขอบพระคุณลูกค้าทุกท่าน ที่ไว้วางใจผลิตภัณฑ์ของเราเสมอมา_/l\\_'\r\n      // console.log('http://127.0.0.1:5000/checkkeyword?name=' + desc);    \r\n      axios.get(LinkService.getpythonlink()+'/checkkeyword?name=' + desc).then((res) => {\r\n        // console.log(res.data);\r\n        if (res.data.length > 0) {\r\n          // this.keyword.push(res.data)\r\n          this.keyword = res.data\r\n\r\n        }\r\n      });\r\n      //     }\r\n\r\n      // });\r\n      //       var listkeywords = []\r\n      //       var namesplit = name.split(\" \")\r\n      //       // console.log(namesplit);\r\n      //       axios.get('http://localhost:8081/api/keyword_dicts?name=1').then((res) => {\r\n      //         console.log(res.data);\r\n      //         var keylist = []\r\n      //         for (let r = 0; r < res.data.length; r++) {\r\n      //           res.data[r].name = res.data[r].name.replaceAll(\".\",\"\")\r\n      //           var kk = res.data[r].name.split(\" \")\r\n      //           for (let k = 0; k < kk.length; k++) {\r\n      //             keylist.push(kk[k])\r\n      //           }\r\n      //         }\r\n      //         for (let key = 0; key < keylist.length; key++) {\r\n      //           for (let n = 0; n < namesplit.length; n++) {\r\n      //             if (namesplit[n] == keylist[key] && keylist[key] != '' && isNaN(keylist[key])) {\r\n      //               listkeywords.push(keylist[key])\r\n      //             }\r\n\r\n      //           }\r\n      //         }\r\n      //         // console.log(keylist);\r\n      //         // console.log(listkeywords);\r\n\r\n      //       console.log(listkeywords.length);\r\n      //         if (listkeywords.length == 0) {\r\n\r\n      //           this.colorkey = \"background-color:#a3e9a4\"\r\n      //         }\r\n      //         var result = [];\r\n      //         listkeywords.forEach(function(item) {\r\n      //      if(result.indexOf(item) < 0) {\r\n      //          result.push(item);\r\n      //      }\r\n      // });\r\n      // console.log(result);\r\n      // listkeywords = result\r\n      //         for (let l = 0; l < listkeywords.length; l++) {\r\n      //           // console.log('http://127.0.0.1:5000/checkkeyword?name=' + name+'&&name_real=');\r\n      //           axios.get('http://127.0.0.1:5000/checkkeyword?name=' + name+'&&name_real=' + listkeywords[l]).then((res) => {\r\n      //             // console.log(res.data);\r\n      //         this.keyword.push(res.data)\r\n      //       });\r\n\r\n      //         }\r\n      //       });\r\n\r\n    },\r\n    finddescription(data) {\r\n      // console.log(data);\r\n      var text = ['รายละเอียด']\r\n      var findfda = data\r\n      for (let t = 0; t < text.length; t++) {\r\n        if (findfda.indexOf(text[t]) != -1) {\r\n\r\n          findfda = findfda.substring(findfda.indexOf(text[t]));\r\n        }\r\n\r\n      }\r\n      // if (findfda == 'อาหาร') {\r\n      //   findfda = findfda+ findfda+'เสริม'\r\n      // }\r\n      // console.log(findfda);\r\n      return findfda\r\n    },\r\n    getdata() {\r\n      // var end = this.$route.query.id*5\r\n      // // var start = end-4\r\n      // var start = this.$route.query.id\r\n      // console.log(start);\r\n      ProductsService.getdecision(this.currentUser.id).then(async (res) => {\r\n      \r\n        this.list = res.data\r\n        // console.log(this.list);\r\n      })\r\n\r\n\r\n    }\r\n  },\r\n  mounted() {\r\n    // console.log(this.$route.query.id);\r\n    this.back = parseInt(this.$route.query.id)-1\r\n    this.next = parseInt(this.$route.query.id)+1\r\n    // ProductsService.getproducts(1,'','').then((res)=>{\r\n      this.alldata = 75\r\n      // console.log(res.data);\r\n    this.getdata()\r\n    // });\r\n  },\r\n  computed: {\r\n    currentUser() {\r\n      return this.$store.state.auth.user;\r\n    },    \r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\nhtml,\r\nbody {\r\n  height: 100%;\r\n  margin: 0px;\r\n}\r\n</style>\r\n"]}]}