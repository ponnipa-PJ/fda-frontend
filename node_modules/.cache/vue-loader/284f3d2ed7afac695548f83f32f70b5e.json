{"remainingRequest":"D:\\fda\\fda-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\fda\\fda-frontend\\src\\components\\fdacontent.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\fda\\fda-frontend\\src\\components\\fdacontent.vue","mtime":1695524600762},{"path":"D:\\fda\\fda-frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":1695526213409},{"path":"D:\\fda\\fda-frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1695526237999},{"path":"D:\\fda\\fda-frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":1695526216590},{"path":"D:\\fda\\fda-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1695526242921},{"path":"D:\\fda\\fda-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1695526233884}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCmh0bWwsDQpib2R5IHsNCiAgaGVpZ2h0OiAxMDAlOw0KICBtYXJnaW46IDBweDsNCn0NCg=="},{"version":3,"sources":["fdacontent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA86BA;AACA;AACA;AACA;AACA","file":"fdacontent.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n      <table class=\"table table-bordered\" v-if=\"list.length > 0 && url\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\" style=\"text-align:center;background-color:#ffb454\">เงื่อนไขการตรวจสอบข้อที่ 1</th>\r\n          <th scope=\"col\" style=\"text-align:center;background-color:#ffb454\">ข้อมูลจากฐานข้อมูลอย.</th>\r\n          <th scope=\"col\" style=\"text-align:center;background-color:#ffb454\">ข้อมูลจากเว็บไซต์</th>\r\n          <th scope=\"col\" style=\"text-align:center;background-color:#ffb454\">ผลการตรวจสอบ</th>\r\n          <th scope=\"col\" style=\"text-align:center;background-color:#ffb454\">ข้อสรุป</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td :style=\"colorfda\">เลขที่อนุญาต</td>\r\n          <td :style=\"colorfda\"><span v-if=\"list[0].status\">{{ list[0].fda }}</span></td>\r\n          <td :style=\"colorfda\">{{ list[0].fda }} </td>\r\n          <td :style=\"colorfda\">{{ list[0].list.cncnm || '' }}</td>\r\n          <td v-if=\"statusfda && statuscat && statusname\" rowspan=\"3\" style=\"text-align: center;vertical-align: middle;background-color:#a3e9a4\">\r\n          <span>ผ่าน</span></td>\r\n          <td v-else rowspan=\"3\" style=\"text-align: center;vertical-align: middle;background-color:#f9bdbb\">\r\n          <span>ไม่ผ่าน</span></td>\r\n        </tr>\r\n        <tr>\r\n          <td :style=\"colorcat\">ประเภทผลิตภัณฑ์</td>\r\n          <td :style=\"colorcat\">{{ type}}</td>\r\n          <td :style=\"colorcat\"><span v-html=\"matchcategory\"></span></td>\r\n          <td :style=\"colorcat\"><span v-if=\"statuscat\">ผ่าน</span><span v-else>ไม่ผ่าน</span></td>\r\n        </tr>\r\n        <tr>\r\n          <td :style=\"colorname\">ชื่อผลิตภัณฑ์</td>\r\n          <td :style=\"colorname\">{{ list[0].list.productha }}<br/>{{ list[0].list.produceng }}</td>\r\n          <td :style=\"colorname\"><span v-html=\"matchname\"></span></td>\r\n          <td :style=\"colorname\"><span v-if=\"statusname\">ผ่าน</span><span v-else>ไม่ผ่าน</span></td>\r\n        </tr>\r\n      </tbody>\r\n      </table>\r\n      <table class=\"table table-bordered\" v-if=\"list.length > 0 && url\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\" style=\"text-align:center;background-color:#ffb454\" colspan=\"2\">เงื่อนไขการตรวจสอบข้อที่ 2</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <th style=\"background-color:#ffb454\">รายละเอียดสินค้า</th>\r\n          <th style=\"background-color:#ffb454\">ข้อความโฆษณา</th>\r\n        </tr>\r\n        <tr>\r\n          <td :style=\"colorkey\" style=\"width:40%\"><span v-html=\"desc\"></span></td>\r\n          <!-- <th :style=\"colorkey\">ข้อความโฆษณา</th> -->\r\n          <td :style=\"colorkey\" v-if=\"keyword.length\"><div v-for=\"(k, i) in keyword\" :key=\"i\"><span v-html=\"k\"></span><br/></div></td>\r\n          <td :style=\"colorkey\" v-else>ไม่พบข้อความโฆษณา</td>\r\n        </tr>\r\n      </tbody>\r\n      </table>\r\n    <table class=\"table mt-3\" v-if=\"list.length > 0 && url\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">สินค้า</th>\r\n          <th scope=\"col\">ข้อมูล</th>\r\n          <th scope=\"col\">FDA</th>\r\n          <th scope=\"col\">ตัดคำ</th>\r\n          <th scope=\"col\">ข้อมูลจากฐานข้อมูลอย.</th>\r\n          <!-- <th scope=\"col\"></th> -->\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"(l, i) in list\" :key=\"i\">\r\n          <td :style=\"l.bg\"><img :src=\"imagelists\" style=\"width:100%\">{{ l.name }}</td>\r\n          <td :style=\"l.bg\">{{ l.detail }}</td>\r\n          <!-- <td :style=\"l.bg\">\r\n              <div class=\"row\">\r\n          <div class=\"col-md-2\" v-for=\"(im ,i) in imagelists\" :key=\"i\">\r\n            <img :src=\"im\" width=\"100%\"/>\r\n          </div>\r\n        </div>\r\n            </td> -->\r\n          <td :style=\"l.bg\" style=\"width:300px\"><div >เลขที่อนุญาต : {{ l.fda }}<br/>\r\n            <!-- ชื่อผลิตภัณฑ์: <span v-html=\"matchname\"></span> -->\r\n            ชื่อผลิตภัณฑ์: {{l.list.productha}}\r\n           </div></td>\r\n          <td :style=\"l.bg\"><div v-html=\"cut(tokenize)\"></div></td>\r\n          <td style=\"background-color:#BDEDFF\" v-if=\"l.status == 1\">\r\n            <p class=\"card-text\">สถานะ : {{ l.list.cncnm || '' }}</p>\r\n            <p class=\"card-text\">ประเภทผลิตภัณฑ์ :<span style=\"color:red\"> {{ l.list.typepro }}</span></p>\r\n            <p class=\"card-text\">ใบสำคัญ/เลขที่อนุญาต : <span style=\"color:red\"> {{ l.list.lcnno }}</span></p>\r\n            <p class=\"card-text\">ชื่อผลิตภัณฑ์ (TH) : <span style=\"color:red\"> {{ l.list.productha }}</span></p>\r\n            <p class=\"card-text\">ชื่อผลิตภัณฑ์ (EN) : <span style=\"color:red\"> {{ l.list.produceng }}</span></p>\r\n            <p class=\"card-text\">ชื่อผู้รับอนุญาต : {{ l.list.licen }}</p>\r\n            <p class=\"card-text\">สถานที่ผลิต : {{ l.list.Addr }}</p>\r\n            <p class=\"card-text\">Newcode : {{ l.list.Newcode }}</p>\r\n          </td>\r\n          <td :style=\"l.bg\" v-else> ไม่พบข้อมูล</td>\r\n          <!-- <td :style=\"l.bg\">\r\n            <i class=\"fa fa-circle\" :style=\"l.icon\" aria-hidden=\"true\"></i>\r\n          </td> -->\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <!-- <div v-if=\"status\" >\r\n<h3 style=\"text-align:center\">กรุณารอสักครู่ ระบบกำลังโหลดข้อมูล</h3>\r\n      </div> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport readXlsxFile from \"read-excel-file\";\r\n// import moment from 'moment'\r\nimport axios from \"axios\";\r\nimport ProductsService from '../services/ProductsService.js'\r\nimport FDATypesService from '../services/FDATypesService'\r\nimport LinkService from '../services/LinkService'\r\n\r\nexport default {\r\n  name: \"App\",\r\n  components: {},\r\n  props:{\r\n    fdaid:String\r\n  },\r\n  data() {\r\n    return {\r\n      list: [],\r\n      url: '',\r\n      file: '',\r\n      status: false,\r\n      urlPath: '',\r\n      imagelists: '',\r\n      tokenize: '',\r\n      matchname:'',\r\n      matchcategory:'',\r\n      type:'',\r\n      matchnamesum:'',\r\n      statusname:0,\r\n      statuscat:0,\r\n      statusfda:0,\r\n      colorname:'background-color:#f9bdbb',\r\n      colorfda:'background-color:#f9bdbb',\r\n      colorcat:'background-color:#f9bdbb',\r\n      id:'',\r\n      keyword:[],\r\n      colorkey:'background-color:#f9bdbb',\r\n      desc:''\r\n    };\r\n  },\r\n  methods: {\r\n    finddescription(data){\r\n      // console.log(data);\r\n      var text = ['รายละเอียด']\r\n      var findfda = data\r\n      for (let t = 0; t < text.length; t++) {\r\n        if (findfda.indexOf(text[t]) != -1) {\r\n\r\n          findfda = findfda.substring(findfda.indexOf(text[t]));  \r\n        }\r\n\r\n      }\r\n      // if (findfda == 'อาหาร') {\r\n      //   findfda = findfda+ findfda+'เสริม'\r\n      // }\r\n      // console.log(findfda);\r\n      return findfda\r\n    },\r\n    checkkeyword(name){\r\n      // console.log(name);\r\n    //   axios.get('http://localhost:8081/api/keyword_dicts?name=1').then((res) => {\r\n    //     console.log(res.data);\r\n        // for (let r = 0; r < res.data.length; r++) {\r\n          // name = name.replaceAll(/([\\uE000-\\uF8FF]|\\uD83C[\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDDFF])/g, '')\r\n          //       name = name.replaceAll(/(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\u0023-\\u0039]\\ufe0f?\\u20e3|\\u3299|\\u3297|\\u303d|\\u3030|\\u24c2|\\ud83c[\\udd70-\\udd71]|\\ud83c[\\udd7e-\\udd7f]|\\ud83c\\udd8e|\\ud83c[\\udd91-\\udd9a]|\\ud83c[\\udde6-\\uddff]|\\ud83c[\\ude01-\\ude02]|\\ud83c\\ude1a|\\ud83c\\ude2f|\\ud83c[\\ude32-\\ude3a]|\\ud83c[\\ude50-\\ude51]|\\u203c|\\u2049|[\\u25aa-\\u25ab]|\\u25b6|\\u25c0|[\\u25fb-\\u25fe]|\\u00a9|\\u00ae|\\u2122|\\u2139|\\ud83c\\udc04|[\\u2600-\\u26FF]|\\u2b05|\\u2b06|\\u2b07|\\u2b1b|\\u2b1c|\\u2b50|\\u2b55|\\u231a|\\u231b|\\u2328|\\u23cf|[\\u23e9-\\u23f3]|[\\u23f8-\\u23fa]|\\ud83c\\udccf|\\u2934|\\u2935|[\\u2190-\\u21ff])/g, '');\r\n          //       name = name.replaceAll(/(\\r\\n|\\n|\\r)/gm, \"\");\r\n          //       name = name.replaceAll(\"_\", \"\");\r\n          //       name = name.replaceAll(\"!\", \"\");\r\n          //       name = name.replaceAll(\"*\", \"\");\r\n                // name = name.replaceAll(`_/l\\_`, \"\");// eslint-disable-line\r\n      // console.log('http://127.0.0.1:5000/checkkeyword?name=' + name);\r\n      var desc = this.finddescription(name)\r\n      // console.log('http://127.0.0.1:5000/worktokendesc?text='+desc);\r\n      axios.get(LinkService.getpythonlink()+'/worktokendesc?text='+desc).then((res) => {\r\n        // console.log(res.data);\r\n        this.desc  = res.data\r\n      });\r\n      // name = 'ข้อมูลจำเพาะของสินค้า หมวดหมู่ Shopee กลุ่มผลิตภัณฑ์เพื่อสุขภาพ อาหารเสริมเพื่อความงาม ผิว ยี่ห้อ Bluebird(บลูเบิร์ด) Storage Condition Normal ประเภทสารอาหาร สารต้านอนุมูลอิสระ, วิตามินซี ประเทศต้นกำเนิดสินค้า ไทย หน้าที่ของอาหารเสริมสำหรับความงาม ดูแลสิว, ป้องกันริ้วรอย ประเภทการห่อ ห่อรวมกัน เพศ ทั้งสองเพศ อายุการเก็บรักษา 12 เดือน ประเภทของผลิตภัณฑ์ยา แคปซูล หมายเลขใบอนุญาต/อย. 30-1-26764-5-0051 จำนวนสินค้า 17901 ส่งจาก จังหวัดนครราชสีมา รายละเอียดสินค้า วิตามินซี พลัส ตรา บลูเบิร์ด ตรา บลูเบิร์ด ขนาด 1000 มิลลิกรัม 60 แคปซูล เรทขายส่ง ช่วงราคาที่ 1 สั่งซื้อตั้งแต่ 5 กระปุกขึ้นไป ถึง 20 กระปุก ราคากระปุกละ 93 บาท ช่วงราคาที่ 2 สั่งซื้อตั้งแต่ 21 กระปุกขึ้นไป ถึง 50 กระปุก ราคากระปุกละ 90 บาท ช่วงราคาที่ 3 สั่งซื้อตั้งแต่ 51 กระปุกขึ้นไป ถึง 100 กระปุก ราคากระปุกละ 87 บาท ช่วงราคาที่ 4 สั่งซื้อตั้งแต่ 100 กระปุกขึ้นไป ..................... ราคากระปุกละ 85 บาท Vitamin C Plus Dietary Supplement Product Bluebird Brand ผลิตภัณฑ์เสริมอาหารวิตามินซี พลัส ตรา บลูเบิร์ด ส่วนประกอบทั้งหมดใน 1 แคปซูล ส่วนประกอบที่สำคัญ (Active Ingredient) VITAMIN C (100%) - 60 มิลลิกรัม CITRUS BIOFLAVONOID POWDER - 630 มิลลิกรัม BARBADOSCHERRY POWDER/ACEROLA CHERRY POWDER (ผงบาร์เบโดสเชอร์รี/ผงอะเซโรลาเชอร์รี) (MALPIGHIA GLABRA L.) ผล - 60 มิลลิกรัม ROSEHIP POWDER (ผงโรสฮิปส์) (ROSA CANINA L.) ผล - 60 มิลลิกรัม Rutin - 30 มิลลิกรัม INDIAN GOOSEBERRY POWDER (ผงมะขามป้อม) (PHYLLANTHUS EMBLICA L. ) ผล - 60 มิลลิกรัม ส่วนประกอบที่ไม่สำคัญ (Inactive Ingredient) EDIBLE GELATIN 428 - 98.5 มิลลิกรัม TITANIUM DIOXIDE 171 -1.95 มิลลิกรัม วิธีรับประทาน ครั้งละ 1-2 แคปซูล หลังอาหารเช้า เลขที่ อ.ย. 30-1-26764-5-0051 คำเตือน ควรเก็บให้พ้นแสงแดงและความชื้น เด็ก สตรีมีครรภ์ และสตรีให้นมบุตรไม่ควรรับประทาน ควรกินอาหารหลากหลายให้ครบ 5 หมู่ ในสัดส่วนที่เหมาะสมเป็นประจำ ไม่มีผลในการป้องกันหรือรักษาโรค สรรพคุณ ประโยชน์ของการกินวิตามินซี ️ทำให้หน้าไม่โทรม หน้าตาสดใส ️ช่วยฟื้นฟูผิวหน้า สิว ฝ้า กระ ริ้วรอย ดูจางลง ️ผิวพรรณนุ่มเรียบเนียบ ชุ่มชื่น ️หน้าตาดูเด็กและเด้งขึ้น ️ผิวหน้าขาวอมชมพู สินค้าตัดรอบทุกวันเวลา ตัดรอบเวลา 12.00 น ของทุกวัน แจ้งโอนเกินเวลา ส่งรอบวันถัดไปนะจ๊ะ ส่งพัสดุทุกวัน เว้นวันอาทิตย์ และวันหยุดนักขัตฤกษ์ ขอบพระคุณลูกค้าทุกท่าน ที่ไว้วางใจผลิตภัณฑ์ของเราเสมอมา_/l\\_'\r\n      console.log(LinkService.getpythonlink()+'/checkkeyword?name=' + desc);    \r\n      axios.get(LinkService.getpythonlink()+'/checkkeyword?name=' + desc).then((res) => {\r\n            console.log(res.data);\r\n            if (res.data.length > 0) {\r\n        // this.keyword.push(res.data)\r\n        this.keyword = res.data\r\n              \r\n            }\r\n      });\r\n    //     }\r\n      \r\n    // });\r\n//       var listkeywords = []\r\n//       var namesplit = name.split(\" \")\r\n//       // console.log(namesplit);\r\n//       axios.get('http://localhost:8081/api/keyword_dicts?name=1').then((res) => {\r\n//         console.log(res.data);\r\n//         var keylist = []\r\n//         for (let r = 0; r < res.data.length; r++) {\r\n//           res.data[r].name = res.data[r].name.replaceAll(\".\",\"\")\r\n//           var kk = res.data[r].name.split(\" \")\r\n//           for (let k = 0; k < kk.length; k++) {\r\n//             keylist.push(kk[k])\r\n//           }\r\n//         }\r\n//         for (let key = 0; key < keylist.length; key++) {\r\n//           for (let n = 0; n < namesplit.length; n++) {\r\n//             if (namesplit[n] == keylist[key] && keylist[key] != '' && isNaN(keylist[key])) {\r\n//               listkeywords.push(keylist[key])\r\n//             }\r\n            \r\n//           }\r\n//         }\r\n//         // console.log(keylist);\r\n//         // console.log(listkeywords);\r\n\r\n//       console.log(listkeywords.length);\r\n//         if (listkeywords.length == 0) {\r\n          \r\n//           this.colorkey = \"background-color:#a3e9a4\"\r\n//         }\r\n//         var result = [];\r\n//         listkeywords.forEach(function(item) {\r\n//      if(result.indexOf(item) < 0) {\r\n//          result.push(item);\r\n//      }\r\n// });\r\n// console.log(result);\r\n// listkeywords = result\r\n//         for (let l = 0; l < listkeywords.length; l++) {\r\n//           // console.log('http://127.0.0.1:5000/checkkeyword?name=' + name+'&&name_real=');\r\n//           axios.get('http://127.0.0.1:5000/checkkeyword?name=' + name+'&&name_real=' + listkeywords[l]).then((res) => {\r\n//             // console.log(res.data);\r\n//         this.keyword.push(res.data)\r\n//       });\r\n          \r\n//         }\r\n//       });\r\n      \r\n    },\r\n    updatestatusfda(){\r\n      // console.log(this.statusfda,this.statuscat,this.statusname)\r\n      // var cat = this.matchcategory.replaceAll('<span style=\"color:red\">','')\r\n      // cat = cat.replaceAll('</span>','')\r\n      // console.log(cat);\r\n      // console.log(this.list[0].status);\r\n      if (this.list[0].status ==1) {\r\n        var fda = {\r\n        }\r\n      if (this.statusfda && this.statuscat && this.statusname) {\r\n         fda = {\r\n          statusfda:true,\r\n          cat_fda:this.type,\r\n          is_fda:this.statusfda,\r\n          is_cat:this.statuscat,\r\n          is_name:this.statusname\r\n        }\r\n      }else{\r\n         fda = {\r\n          statusfda:false,\r\n          cat_fda:this.type,\r\n          is_fda:this.statusfda,\r\n          is_cat:this.statuscat,\r\n          is_name:this.statusname\r\n        }\r\n      }\r\n      // console.log(this.list[0].id);\r\n      ProductsService.updatefdastatus(this.list[0].id,fda).then(()=>{\r\n        // console.log(res.data);\r\n      })\r\n      }\r\n      \r\n      return ''\r\n    },\r\n    \r\n    checkfdamatch(name,name_real) {\r\n      this.matchname = ''\r\n      this.statusname = 0\r\n          this.colorname = \"background-color:#f9bdbb\"\r\n      //     console.log(name_real);\r\n      //  console.log('http://127.0.0.1:5000/matchname?name=' + name+'&&name_real=' + name_real);\r\n      axios.get(LinkService.getpythonlink()+'/matchname?name=' + name+'&&name_real=' + name_real).then((res) => {\r\n        // console.log(res.data);\r\n        this.matchname = res.data\r\n        this.matchnamesum = this.matchname.replaceAll('red','black')\r\n        if(this.matchname.includes('red')){\r\n          this.statusname = 1\r\n          this.colorname = \"background-color:#a3e9a4\"\r\n        }\r\n\r\n\r\n      });\r\n    },\r\n    checkcategorymatch(category,category_real) {\r\n      // console.log(category_real);\r\n      // console.log(category);\r\n       this.matchcategory = ''\r\n       this.statuscat = 0\r\n          this.colorcat = \"background-color:#f9bdbb\"\r\n          \r\n          if (category_real) {\r\n      //  console.log('http://127.0.0.1:5000/matchcategory?category=' + category+'&&category_real=' + category_real);\r\n      axios.get(LinkService.getpythonlink()+'/matchcategory?category=' + category+'&&category_real=' + category_real).then((res) => {\r\n        // console.log(res.data);\r\n        this.matchcategory = res.data\r\n        // console.log(this.matchcategory.includes('red'));\r\n        if(this.matchcategory.includes('red')){\r\n          this.statuscat = 1\r\n          this.colorcat = \"background-color:#a3e9a4\"\r\n        }\r\n      \r\n      });\r\n    }\r\n    },\r\n    cut(word) {\r\n      var wo = word.toString()\r\n      // wo = wo.replaceAll(' ', ' | ')\r\n      return wo\r\n    },\r\n    async gettokenize(words,namereal_result) {\r\n      // console.log(words);\r\n      if (!namereal_result) {\r\n        namereal_result = 'xxx'\r\n      }\r\n      // console.log('http://127.0.0.1:5000/worktoken?namereal_result=' + namereal_result+'&&text='+words);\r\n      axios.get(LinkService.getpythonlink()+'/worktoken?namereal_result=' + namereal_result+'&&text='+words).then((res) => {\r\n        // console.log(res.data);\r\n        this.tokenize = res.data\r\n      });\r\n    },\r\n    getimagefile(id) {\r\n      this.imagelists = ''\r\n      axios.get(LinkService.getpythonlink()+'/base64?id=' + id).then((res) => {\r\n        // console.log(res.data);\r\n        this.imagelists = 'data:image/jpeg;base64,'+res.data\r\n      });\r\n      \r\n      // axios.get('http://localhost:8081/getimage?path=' + folder).then((res) => {\r\n      //   // console.log(res.data);\r\n      //   for (let im = 0; im < res.data.length; im++) {\r\n      //     axios.get('http://localhost:8081/img?name=' + res.data[im]).then((res) => {\r\n      //       // console.log(res.data.base64);\r\n      //       this.imagelists.push(res.data.base64)\r\n\r\n      //     });\r\n\r\n      //   }\r\n        // console.log(this.imagelists);\r\n        return this.imagelists\r\n      // })\r\n    },\r\n    downloadHtml() {\r\n      let url = this.urlInput;\r\n      fetch(url)\r\n        .then((res) => res.text())\r\n        .then((html) => this.downloadAsFile(\"report.html\", html));\r\n    },\r\n    downloadAsFile(name, text) {\r\n      const link = this.createDownloadableLink(name, text);\r\n      const clickEvent = new MouseEvent('click');\r\n      link.dispatchEvent(clickEvent);\r\n    },\r\n    createDownloadableLink(fileName, content) {\r\n      let link = document.createElement(\"a\");\r\n      link.download = fileName;\r\n      link.href = `data:application/octet-stream,${content}`;\r\n      return link;\r\n    },\r\n    //     search(){\r\n    //       this.list = []\r\n    //       MenuService.getproduct(this.url).then().then((res)=>{\r\n    //         console.log(res.data);\r\n\r\n    //         var fdalist = []\r\n    //         var detail = res.data\r\n    //         // var detail = 'ข้อมูลจำเพาะของสินค้าหมวดหมู่Shopeeกลุ่มผลิตภัณฑ์เพื่อสุขภาพอาหารเสริมเพื่อความงามผิวยี่ห้อGlobal White(โกลบอลไวท์)หน้าที่ของอาหารเสริมสำหรับความงามคอลลาเจน, ผม ผิว และเล็บหมายเลขใบอนุญาต/อย.70-1-27160-5-0268จำนวนสินค้า258ส่งจากจังหวัดปทุมธานีรายละเอียดสินค้าหมายเลขใบอนุญาต/อย.🌼70-1-27160-5-0268อายุการเก็บรักษา 24 เดือน'\r\n    //             var fda = this.findfda(detail)\r\n\r\n    //             fdalist.push({\r\n    //               detail: detail,\r\n    //               fda: fda\r\n    //             })\r\n    //             for (let f = 0; f < fdalist.length; f++) {\r\n\r\n    // const url = \"https://tawaiforhealth.org/api/oryor/check-product\";\r\n    // const data = { \"number_src\": fdalist[f].fda };\r\n\r\n    // const options = {\r\n    //   method: \"POST\",\r\n    //   headers: {\r\n    //     Accept: \"application/json\",\r\n    //     \"Content-Type\": \"application/json;charset=UTF-8\",\r\n    //   },\r\n    //   body: JSON.stringify(data),\r\n    // };\r\n\r\n    // fetch(url, options)\r\n    //   .then((response) => response.json())\r\n    //   .then((data) => {\r\n    //     // console.log(data);\r\n    //     if (data.message) {\r\n    //       fdalist[f].status = 0\r\n    //       fdalist[f].list = []\r\n    //       fdalist[f].bg = 'background-color:#f9bdbb'\r\n    //     } else {\r\n    //       fdalist[f].list = data\r\n    //       fdalist[f].status = 1\r\n    //       fdalist[f].bg = 'background-color:#a3e9a4'\r\n    //       // console.log(data.STATUS_ID.includes(7))\r\n    //       if (data.cncnm == \"คงอยู่\") {\r\n    //       fdalist[f].icon = 'color: green'\r\n\r\n    //       }else{\r\n    //       fdalist[f].icon = 'color: red'\r\n    //       fdalist[f].bg = 'background-color:#f9bdbb'\r\n    //       }\r\n    //     }\r\n\r\n    //     // console.log(f+1, fdalist.length);\r\n    //     if (f+1 == fdalist.length) {\r\n    //  console.log(fdalist); \r\n    //  this.list = fdalist\r\n\r\n    // }\r\n    //   });\r\n\r\n\r\n    // }\r\n    //       })\r\n    //     },\r\n    search() {\r\n      // console.log(this.url);\r\n      this.statusname=0,\r\n      this.statuscat=0,\r\n      this.statusfda=0,\r\n      this.colorname='background-color:#f9bdbb',\r\n      this.colorfda='background-color:#f9bdbb',\r\n      this.colorcat='background-color:#f9bdbb',\r\n      this.list = []\r\n      var data = {\r\n        url: this.url\r\n      }\r\n      ProductsService.findproduct(data).then(async (res) => {\r\n        // console.log(res.data);\r\n        if (res.data[0].content == '' || res.data.length == 0) {\r\n          alert('ไม่พบข้อมูลในระบบ')\r\n        } else {\r\n          // console.log(res.data[0].content);\r\n          // console.log(this.tokenize);\r\n          this.getimagefile(res.data[0].id)\r\n          var detail = res.data[0].content\r\n          // var detail = 'ข้อมูลจำเพาะของสินค้าหมวดหมู่Shopeeกลุ่มผลิตภัณฑ์เพื่อสุขภาพอาหารเสริมเพื่อความงามผิวยี่ห้อGlobal White(โกลบอลไวท์)หน้าที่ของอาหารเสริมสำหรับความงามคอลลาเจน, ผม ผิว และเล็บหมายเลขใบอนุญาต/อย.70-1-27160-5-0268จำนวนสินค้า258ส่งจากจังหวัดปทุมธานีรายละเอียดสินค้าหมายเลขใบอนุญาต/อย.🌼70-1-27160-5-0268อายุการเก็บรักษา 24 เดือน'\r\n          var fda = ''\r\n          // console.log(fda);\r\n          var fdalist = []\r\n          // console.log(res.data[0]);\r\n// if (fda.length != 12) {\r\n//   alert('หมายเลขใบอนุญาตไม่ถูกต้อง')\r\n// }else{\r\n  if (res.data[0].fda) {\r\n  fda = res.data[0].fda.replaceAll(' ','')\r\n  }else{\r\n    fda = ''\r\n  }\r\n          fdalist.push({\r\n            id: res.data[0].id,\r\n            name: res.data[0].name,\r\n            detail: detail,\r\n            fda: fda,\r\n            cat_name:res.data[0].cat_name\r\n          })\r\n          for (let f = 0; f < fdalist.length; f++) {\r\n            if (!fdalist[f].fda || isNaN(fda) || fda ==0) {\r\n              fdalist[f].status = 0\r\n              fdalist[f].detail = fdalist[f].detail.replaceAll(\"&\", \"\");\r\n              fdalist[f].detail = fdalist[f].detail.replaceAll(\"#\", \"\");\r\n              // console.log(fdalist[f].detail);\r\n              this.gettokenize(fdalist[f].detail,'')\r\n              this.checkkeyword(fdalist[f].detail)\r\n              this.list = fdalist\r\n              // console.log(this.list);\r\n              alert('เลขอย.ของผลิตภัณฑ์นี้ไม่ถูกต้อง')\r\n            }else{\r\n            const url = \"https://tawaiforhealth.org/api/oryor/check-product\";\r\n            const data = { \"number_src\": fdalist[f].fda };\r\n// console.log(data);\r\n            const options = {\r\n              method: \"POST\",\r\n              headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json;charset=UTF-8\",\r\n              },\r\n              body: JSON.stringify(data),\r\n            };\r\n\r\n            fetch(url, options)\r\n              .then((response) => response.json())\r\n              .then((data) => {\r\n                // console.log(data);\r\n                // productha\r\n                // console.log(data.message);\r\n                if (data.message) {\r\n                  data.produceng = ''\r\n                  data.productha = ''\r\n                  data.typepro = ''\r\n                }\r\n                if (data.length > 1) {\r\n                  fdalist[f].status = 0\r\n                  fdalist[f].list = {}\r\n                  // console.log(fdalist[f]);\r\n                  fdalist[f].detail = fdalist[f].detail.replaceAll(\"&\", \"\");\r\n                  fdalist[f].detail = fdalist[f].detail.replaceAll(\"#\", \"\");\r\n                  this.gettokenize(fdalist[f].detail,'')\r\n                  this.checkkeyword(fdalist[f].detail)\r\n                  this.list = fdalist\r\n                  alert('ไม่พบเลขอย.ในเว็บไซต์ของผลิตภัณฑ์นี้')\r\n                }\r\n                var namefull =fdalist[f].name+this.finddescription(fdalist[f].detail)\r\n                namefull = namefull.replaceAll(/([\\uE000-\\uF8FF]|\\uD83C[\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDDFF])/g, '')\r\n                namefull = namefull.replaceAll(/(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\u0023-\\u0039]\\ufe0f?\\u20e3|\\u3299|\\u3297|\\u303d|\\u3030|\\u24c2|\\ud83c[\\udd70-\\udd71]|\\ud83c[\\udd7e-\\udd7f]|\\ud83c\\udd8e|\\ud83c[\\udd91-\\udd9a]|\\ud83c[\\udde6-\\uddff]|\\ud83c[\\ude01-\\ude02]|\\ud83c\\ude1a|\\ud83c\\ude2f|\\ud83c[\\ude32-\\ude3a]|\\ud83c[\\ude50-\\ude51]|\\u203c|\\u2049|[\\u25aa-\\u25ab]|\\u25b6|\\u25c0|[\\u25fb-\\u25fe]|\\u00a9|\\u00ae|\\u2122|\\u2139|\\ud83c\\udc04|[\\u2600-\\u26FF]|\\u2b05|\\u2b06|\\u2b07|\\u2b1b|\\u2b1c|\\u2b50|\\u2b55|\\u231a|\\u231b|\\u2328|\\u23cf|[\\u23e9-\\u23f3]|[\\u23f8-\\u23fa]|\\ud83c\\udccf|\\u2934|\\u2935|[\\u2190-\\u21ff])/g, '');\r\n                namefull = namefull.replaceAll(/(\\r\\n|\\n|\\r)/gm, \"\");\r\n                namefull = namefull.replaceAll(\"_\", \"\");\r\n                namefull = namefull.replaceAll(\"!\", \"\");\r\n                namefull = namefull.replaceAll(\"*\", \"\");\r\n                namefull = namefull.replaceAll(\"#\", \"\");\r\n                this.checkfdamatch(namefull,data.productha+data.produceng)\r\n\r\n                // console.log(fdalist[f].detail);\r\n                // var cat = this.findcategory(fdalist[f].detail)\r\n                // console.log(cat);\r\n                var fdatype = this.fdatype(data.typepro)\r\n                fdatype = fdatype.replaceAll(' ','')\r\n                // console.log(fdatype);    \r\n                var name = data.productha.replaceAll('ผลิตภัณฑ์','')\r\n                this.type = fdatype\r\n                // console.log(this.type);\r\n                // console.log(data.typepro);\r\n                if (this.type == '') {\r\n                  if (data.typepro) {\r\n                    this.type = data.typepro\r\n                    fdatype = data.typepro\r\n                  }\r\n                }\r\n                // console.log(fdatype);\r\n                FDATypesService.getfdatypes(fdatype).then(()=>{\r\n                  // console.log(res.data);\r\n                  if (res.data.length == 0) {\r\n                    var cattype = {\r\n                      name:fdatype\r\n                    }\r\n                    FDATypesService.createfdatype(cattype).then(()=>{\r\n                      // console.log(res.data);\r\n                    })\r\n                  }\r\n                })\r\n                this.checkcategorymatch(res.data[0].content,fdatype)\r\n\r\n              fdalist[f].detail = fdalist[f].detail.replaceAll(\"&\", \"\");\r\n              fdalist[f].detail = fdalist[f].detail.replaceAll(\"#\", \"\");\r\n                this.gettokenize(fdalist[f].detail,fdatype+name+data.produceng)\r\n                this.checkkeyword(fdalist[f].detail)\r\n                if (!data.lcnno) {\r\n                  fdalist[f].status = 0\r\n                  fdalist[f].list = []\r\n                  fdalist[f].bg = 'background-color:#f9bdbb'\r\n                } else {\r\n                  fdalist[f].list = data\r\n                  fdalist[f].status = 1\r\n                  fdalist[f].bg = 'background-color:#a3e9a4'\r\n                  // console.log(data.STATUS_ID.includes(7))\r\n                  if (data.cncnm == \"คงอยู่\") {\r\n                    this.statusfda = 1\r\n                    this.colorfda = \"background-color:#a3e9a4\"\r\n                    fdalist[f].icon = 'color: green'\r\n\r\n                  } else {\r\n                    fdalist[f].icon = 'color: red'\r\n                    fdalist[f].bg = 'background-color:#f9bdbb'\r\n                  }\r\n                  \r\n\r\n                }\r\n\r\n                // console.log(f+1, fdalist.length);\r\n                if (f + 1 == fdalist.length) {\r\n                  // console.log(fdalist);\r\n                  this.list = fdalist\r\n\r\n                }\r\n                \r\n                // console.log(this.list);\r\n              });\r\n            }\r\n\r\n          }\r\n        }\r\n      // }\r\n      })\r\n    },\r\n    searchbyfda() {\r\n      this.statusname=0,\r\n      this.statuscat=0,\r\n      this.statusfda=0,\r\n      this.colorname='background-color:#f9bdbb',\r\n      this.colorfda='background-color:#f9bdbb',\r\n      this.colorcat='background-color:#f9bdbb',\r\n      this.list = []\r\n      ProductsService.getproduct(this.id).then(async (res) => {\r\n        \r\n        // console.log(res.data);\r\n        if (res.data.content == '' || res.data.length == 0) {\r\n          alert('ไม่พบข้อมูลในระบบ')\r\n        } else {\r\n\r\n  this.url = res.data.url\r\n          // console.log(res.data[0].content);\r\n          // console.log(this.tokenize);\r\n          this.getimagefile(res.data.id)\r\n          var detail = res.data.content\r\n          // var detail = 'ข้อมูลจำเพาะของสินค้าหมวดหมู่Shopeeกลุ่มผลิตภัณฑ์เพื่อสุขภาพอาหารเสริมเพื่อความงามผิวยี่ห้อGlobal White(โกลบอลไวท์)หน้าที่ของอาหารเสริมสำหรับความงามคอลลาเจน, ผม ผิว และเล็บหมายเลขใบอนุญาต/อย.70-1-27160-5-0268จำนวนสินค้า258ส่งจากจังหวัดปทุมธานีรายละเอียดสินค้าหมายเลขใบอนุญาต/อย.🌼70-1-27160-5-0268อายุการเก็บรักษา 24 เดือน'\r\n          var fda = ''\r\n          // console.log(fda);\r\n          var fdalist = []\r\n          // console.log(res.data);\r\n// if (fda.length != 12) {\r\n//   alert('หมายเลขใบอนุญาตไม่ถูกต้อง')\r\n// }else{\r\n  if (res.data.fda) {\r\n  fda = res.data.fda.replaceAll(' ','')\r\n  fda = res.data.fda.replaceAll('\\n\\n','')\r\n  }else{\r\n    fda = ''\r\n  }\r\n\r\n            fdalist.push({\r\n            id: res.data.id,\r\n            name: res.data.name,\r\n            detail: detail,\r\n            fda: fda,\r\n            cat_name:res.data.cat_name\r\n          })\r\n          // console.log(fdalist);\r\n          for (let f = 0; f < fdalist.length; f++) {\r\n            // console.log(fdalist[f].fda.length);\r\n            // console.log(fdalist[f].fda);\r\n            if (!fda || isNaN(fda) || fda ==0) { \r\n              fdalist[f].status = 0\r\n              fdalist[f].list = {}\r\n              // console.log(fdalist[f]);\r\n\r\n              fdalist[f].detail = fdalist[f].detail.replaceAll(\"&\", \"\");\r\n              fdalist[f].detail = fdalist[f].detail.replaceAll(\"#\", \"\");\r\n              console.log(fdalist[f].detail);\r\n              this.gettokenize(fdalist[f].detail,'')\r\n              this.checkkeyword(fdalist[f].detail)\r\n              this.list = fdalist\r\n              alert('เลขอย.ของผลิตภัณฑ์นี้ไม่ถูกต้อง')\r\n            }else{\r\n            const url = \"https://tawaiforhealth.org/api/oryor/check-product\";\r\n            const data = { \"number_src\": fdalist[f].fda };\r\n// console.log(data);\r\n            const options = {\r\n              method: \"POST\",\r\n              headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json;charset=UTF-8\",\r\n              },\r\n              body: JSON.stringify(data),\r\n            };\r\n\r\n            fetch(url, options)\r\n              .then((response) => response.json())\r\n              .then((data) => {\r\n                // console.log(data);\r\n                // productha\r\n                // console.log(data.message);\r\n                if (data.message) {\r\n                  data.produceng = ''\r\n                  data.productha = ''\r\n                  data.typepro = ''\r\n                }\r\n                if (data.length > 1) {\r\n                  fdalist[f].status = 0\r\n                  fdalist[f].list = {}\r\n                  // console.log(fdalist[f]);\r\n\r\n              fdalist[f].detail = fdalist[f].detail.replaceAll(\"&\", \"\");\r\n              fdalist[f].detail = fdalist[f].detail.replaceAll(\"#\", \"\");\r\n                  this.gettokenize(fdalist[f].detail,'')\r\n                  this.checkkeyword(fdalist[f].detail)\r\n                  this.list = fdalist\r\n                  alert('ไม่พบเลขอย.ในเว็บไซต์ของผลิตภัณฑ์นี้')\r\n                }\r\n                var namefull =fdalist[f].name+this.finddescription(fdalist[f].detail)\r\n                namefull = namefull.replaceAll(/([\\uE000-\\uF8FF]|\\uD83C[\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDDFF])/g, '')\r\n                namefull = namefull.replaceAll(/(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\u0023-\\u0039]\\ufe0f?\\u20e3|\\u3299|\\u3297|\\u303d|\\u3030|\\u24c2|\\ud83c[\\udd70-\\udd71]|\\ud83c[\\udd7e-\\udd7f]|\\ud83c\\udd8e|\\ud83c[\\udd91-\\udd9a]|\\ud83c[\\udde6-\\uddff]|\\ud83c[\\ude01-\\ude02]|\\ud83c\\ude1a|\\ud83c\\ude2f|\\ud83c[\\ude32-\\ude3a]|\\ud83c[\\ude50-\\ude51]|\\u203c|\\u2049|[\\u25aa-\\u25ab]|\\u25b6|\\u25c0|[\\u25fb-\\u25fe]|\\u00a9|\\u00ae|\\u2122|\\u2139|\\ud83c\\udc04|[\\u2600-\\u26FF]|\\u2b05|\\u2b06|\\u2b07|\\u2b1b|\\u2b1c|\\u2b50|\\u2b55|\\u231a|\\u231b|\\u2328|\\u23cf|[\\u23e9-\\u23f3]|[\\u23f8-\\u23fa]|\\ud83c\\udccf|\\u2934|\\u2935|[\\u2190-\\u21ff])/g, '');\r\n                namefull = namefull.replaceAll(/(\\r\\n|\\n|\\r)/gm, \"\");\r\n                namefull = namefull.replaceAll(\"_\", \"\");\r\n                namefull = namefull.replaceAll(\"!\", \"\");\r\n                namefull = namefull.replaceAll(\"*\", \"\");\r\n                namefull = namefull.replaceAll(\"#\", \"\");\r\n                  this.checkfdamatch(namefull,data.productha+data.produceng)\r\n\r\n                // console.log(fdalist[f].detail);\r\n                var cat = this.findcategory(fdalist[f].detail)\r\n                // console.log(cat);\r\n                var fdatype = this.fdatype(data.typepro)\r\n                fdatype = fdatype.replaceAll(' ','')\r\n                // console.log(fdatype);    \r\n                var name = data.productha.replaceAll('ผลิตภัณฑ์','')\r\n                this.type = fdatype\r\n                // console.log(this.type);\r\n                // console.log(data.typepro);\r\n                if (this.type == '') {\r\n                  if (data.typepro) {\r\n                    this.type = data.typepro\r\n                    fdatype = data.typepro\r\n                  }\r\n                }\r\n                // console.log(fdatype);\r\n                FDATypesService.getfdatypes(fdatype).then(()=>{\r\n                  // console.log(res.data);\r\n                  if (res.data.length == 0) {\r\n                    var cattype = {\r\n                      name:fdatype\r\n                    }\r\n                    FDATypesService.createfdatype(cattype).then(()=>{\r\n                      // console.log(res.data);\r\n                    })\r\n                  }\r\n                })\r\n                this.checkcategorymatch(cat,fdatype)\r\n\r\n              fdalist[f].detail = fdalist[f].detail.replaceAll(\"&\", \"\");\r\n              fdalist[f].detail = fdalist[f].detail.replaceAll(\"#\", \"\");\r\n              // console.log(fdalist[f].detail);\r\n                this.gettokenize(fdalist[f].detail,fdatype+name+data.produceng)\r\n                this.checkkeyword(fdalist[f].detail)\r\n                if (!data.lcnno) {\r\n                  fdalist[f].status = 0\r\n                  fdalist[f].list = []\r\n                  fdalist[f].bg = 'background-color:#f9bdbb'\r\n                } else {\r\n                  fdalist[f].list = data\r\n                  fdalist[f].status = 1\r\n                  fdalist[f].bg = 'background-color:#a3e9a4'\r\n                  // console.log(data.STATUS_ID.includes(7))\r\n                  if (data.cncnm == \"คงอยู่\") {\r\n                    this.statusfda = 1\r\n                    this.colorfda = \"background-color:#a3e9a4\"\r\n                    fdalist[f].icon = 'color: green'\r\n\r\n                  } else {\r\n                    fdalist[f].icon = 'color: red'\r\n                    fdalist[f].bg = 'background-color:#f9bdbb'\r\n                  }\r\n                  \r\n\r\n                }\r\n\r\n                // console.log(f+1, fdalist.length);\r\n                if (f + 1 == fdalist.length) {\r\n                  // console.log(fdalist);\r\n                  this.list = fdalist\r\n\r\n                }\r\n                \r\n                // console.log(this.list);\r\n              });\r\n\r\n            }\r\n          }\r\n        }\r\n      // }\r\n      })\r\n    },\r\n    onChangeA1(event) {\r\n      this.list = []\r\n      this.file = event.target.files ? event.target.files[0] : null;\r\n      // var c = '☕️[พร้อมส่ง] Cal s Coffee by Primaya กาแฟแคลเอส โกโก้แคลเอส ชาไทยแคลเอส 1 กล่อง 10 ซองน้ำหนักรักษาสัดส่วนหมายเลขอย./ใบอนุญาต1310176020080ลักษณะผงจำนวนสินค้า392ส่งจากเขตดอนเมือง, จังหวัดกรุงเทพมหานคร'\r\n      // console.log(this.findfda(c))\r\n      var fdalist = []\r\n      if (this.file) {\r\n        this.status = true\r\n        readXlsxFile(event.target.files[0]).then(async (excel) => {\r\n          // console.log(excel);\r\n          for (let i = 1; i < excel.length; i++) {\r\n            // console.log(data[i][0]);\r\n            var detail = excel[i][0]\r\n            var fda = this.findfda(detail)\r\n\r\n            fdalist.push({\r\n              detail: detail,\r\n              fda: fda\r\n            })\r\n            if (i + 1 == excel.length) {\r\n              // console.log(fdalist);\r\n              for (let f = 0; f < fdalist.length; f++) {\r\n                if (!fdalist[f].fda) {\r\n              alert('เลขอย.ของผลิตภัณฑ์นี้ไม่ถูกต้อง')\r\n            }else{\r\n                const url = \"https://tawaiforhealth.org/api/oryor/check-product\";\r\n                const data = { \"number_src\": fdalist[f].fda };\r\n\r\n                const options = {\r\n                  method: \"POST\",\r\n                  headers: {\r\n                    Accept: \"application/json\",\r\n                    \"Content-Type\": \"application/json;charset=UTF-8\",\r\n                  },\r\n                  body: JSON.stringify(data),\r\n                };\r\n\r\n                await fetch(url, options)\r\n                  .then((response) => response.json())\r\n                  .then((data) => {\r\n                    // console.log(data);\r\n                    if (data.message) {\r\n                      fdalist[f].status = 0\r\n                      fdalist[f].list = []\r\n                      fdalist[f].bg = 'background-color:#f9bdbb'\r\n                    } else {\r\n                      fdalist[f].list = data\r\n                      fdalist[f].status = 1\r\n                      fdalist[f].bg = 'background-color:#a3e9a4'\r\n                      // console.log(data.STATUS_ID.includes(7))\r\n                      if (data.cncnm == \"คงอยู่\") {\r\n                        fdalist[f].icon = 'color: green'\r\n\r\n                      } else {\r\n                        fdalist[f].icon = 'color: red'\r\n                        fdalist[f].bg = 'background-color:#f9bdbb'\r\n                      }\r\n                    }\r\n\r\n                    // console.log(f+1, fdalist.length);\r\n                    if (f + 1 == fdalist.length) {\r\n                      // console.log(fdalist);\r\n                      this.list = fdalist\r\n                      this.status = false\r\n                    }\r\n                  });\r\n\r\n                }\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n      this.file = ''\r\n    },\r\n    findcategory(data){\r\n      // console.log(data);\r\n      var text = ['หมวดหมู่']\r\n      var end = ['ยี่ห้อ','ประเทศ']\r\n      var findfda = data\r\n      for (let t = 0; t < end.length; t++) {\r\n        if (findfda.indexOf(end[t]) != -1) {\r\n          findfda = findfda.substring(findfda.indexOf(text[0]),findfda.indexOf(end[t]));    \r\n        }\r\n\r\n      }\r\n      // if (findfda == 'อาหาร') {\r\n      //   findfda = findfda+ findfda+'เสริม'\r\n      // }\r\n      // console.log(findfda);\r\n      return findfda\r\n    },\r\n    fdatype(data){\r\n      // console.log(data);\r\n      if (data) {\r\n        var text = ['(']\r\n      var findfda = data\r\n      for (let t = 0; t < text.length; t++) {\r\n        findfda = findfda.substring(findfda.indexOf(0),findfda.indexOf(text[0]));\r\n\r\n      }\r\n      }else{\r\n        findfda = ''\r\n      }\r\n      return findfda\r\n    },\r\n    findfda(data) {\r\n      var text = ['หมายเลขใบอนุญาต/อย.']\r\n      var end = ['จำนวน']\r\n      var findfda = data\r\n      for (let t = 0; t < text.length; t++) {\r\n        findfda = findfda.substring(findfda.indexOf(text[t]),findfda.indexOf(end[0]));\r\n\r\n      }\r\n      // console.log(findfda);\r\n\r\n      findfda = findfda.replaceAll(\"หมายเลขใบอนุญาต/อย.\", \"\");\r\n      findfda = findfda.replaceAll(\"-\", \"\");\r\n      findfda = findfda.replaceAll(\"–\", \"\");\r\n      // console.log(findfda);\r\n      // var regex = /\\d+/g;\r\n      // var matches = findfda.match(regex);  // creates array from matches\r\n      // console.log(matches[0]);\r\n      return findfda\r\n    },\r\n    loaddata(fda) {\r\n      const url = \"https://tawaiforhealth.org/api/oryor/check-product\";\r\n      const data = { \"number_src\": fda };\r\n\r\n      const options = {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        },\r\n        body: JSON.stringify(data),\r\n      };\r\n\r\n      fetch(url, options)\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          // console.log(data);\r\n          return data\r\n        });\r\n    },\r\n    async checkfda(fda) {\r\n      window.open(\r\n        \"/detail/\" + fda,\r\n        \"_blank\" // <- This is what makes it open in a new window.\r\n      );\r\n    }\r\n  },\r\n  mounted() {\r\n    console.log(this.fdaid);\r\n    // console.log(this.$route.query.id);\r\n   \r\n      this.id = this.fdaid\r\n      this.searchbyfda()\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\nhtml,\r\nbody {\r\n  height: 100%;\r\n  margin: 0px;\r\n}\r\n</style>\r\n"]}]}