{"remainingRequest":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ponnipa/Documents/GitHub/fda-frontend/src/components/Import.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/src/components/Import.vue","mtime":1690269014742},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1687492401267},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/babel-loader/lib/index.js","mtime":1687492401655},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1687492401267},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/vue-loader/lib/index.js","mtime":1687492401738}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCByZWFkWGxzeEZpbGUgZnJvbSAicmVhZC1leGNlbC1maWxlIjsKLy8gaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBQcm9kdWN0c1NlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvUHJvZHVjdHNTZXJ2aWNlLmpzJwppbXBvcnQgRkRBVHlwZXNTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL0ZEQVR5cGVzU2VydmljZScKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQXBwIiwKICBjb21wb25lbnRzOiB7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdDogW10sCiAgICAgIHVybDogJycsCiAgICAgIGZpbGU6ICcnLAogICAgICBzdGF0dXM6IGZhbHNlLAogICAgICB1cmxQYXRoOiAnJywKICAgICAgaW1hZ2VsaXN0czogJycsCiAgICAgIHRva2VuaXplOiAnJywKICAgICAgbWF0Y2huYW1lOicnLAogICAgICBtYXRjaGNhdGVnb3J5OicnLAogICAgICB0eXBlOicnLAogICAgICBtYXRjaG5hbWVzdW06JycsCiAgICAgIHN0YXR1c25hbWU6MCwKICAgICAgc3RhdHVzY2F0OjAsCiAgICAgIHN0YXR1c2ZkYTowLAogICAgICBjb2xvcm5hbWU6J2JhY2tncm91bmQtY29sb3I6I2Y5YmRiYicsCiAgICAgIGNvbG9yZmRhOidiYWNrZ3JvdW5kLWNvbG9yOiNmOWJkYmInLAogICAgICBjb2xvcmNhdDonYmFja2dyb3VuZC1jb2xvcjojZjliZGJiJywKICAgICAgaWQ6JycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICB1cGRhdGVzdGF0dXNmZGEoKXsKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zdGF0dXNmZGEsdGhpcy5zdGF0dXNjYXQsdGhpcy5zdGF0dXNuYW1lKQogICAgICB2YXIgZmRhID0gewogICAgICAgIH0KICAgICAgaWYgKHRoaXMuc3RhdHVzZmRhICYmIHRoaXMuc3RhdHVzY2F0ICYmIHRoaXMuc3RhdHVzbmFtZSkgewogICAgICAgICBmZGEgPSB7CiAgICAgICAgICBzdGF0dXNmZGE6dHJ1ZQogICAgICAgIH0KICAgICAgfWVsc2V7CiAgICAgICAgIGZkYSA9IHsKICAgICAgICAgIHN0YXR1c2ZkYTpmYWxzZQogICAgICAgIH0KICAgICAgfQogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmxpc3RbMF0uaWQpOwogICAgICBQcm9kdWN0c1NlcnZpY2UudXBkYXRlZmRhc3RhdHVzKHRoaXMubGlzdFswXS5pZCxmZGEpLnRoZW4oKCk9PnsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgIH0pCiAgICAgIHJldHVybiAnJwogICAgfSwKICAgIGNoZWNrZmRhbWF0Y2gobmFtZSxuYW1lX3JlYWwpIHsKICAgICAgdGhpcy5tYXRjaG5hbWUgPSAnJwogICAgICB0aGlzLnN0YXR1c25hbWUgPSAwCiAgICAgICAgICB0aGlzLmNvbG9ybmFtZSA9ICJiYWNrZ3JvdW5kLWNvbG9yOiNmOWJkYmIiCiAgICAgICB0aGlzLm1hdGNobmFtZSA9ICcnCiAgICAgIGF4aW9zLmdldCgnaHR0cDovLzEyNy4wLjAuMTo1MDAwL21hdGNobmFtZT9uYW1lPScgKyBuYW1lKycmJm5hbWVfcmVhbD0nICsgbmFtZV9yZWFsKS50aGVuKChyZXMpID0+IHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgdGhpcy5tYXRjaG5hbWUgPSByZXMuZGF0YQogICAgICAgIHRoaXMubWF0Y2huYW1lc3VtID0gdGhpcy5tYXRjaG5hbWUucmVwbGFjZUFsbCgncmVkJywnYmxhY2snKQogICAgICAgIGlmKHRoaXMubWF0Y2huYW1lLmluY2x1ZGVzKCdyZWQnKSl7CiAgICAgICAgICB0aGlzLnN0YXR1c25hbWUgPSAxCiAgICAgICAgICB0aGlzLmNvbG9ybmFtZSA9ICJiYWNrZ3JvdW5kLWNvbG9yOiNhM2U5YTQiCiAgICAgICAgfQoKCiAgICAgIH0pOwogICAgfSwKICAgIGNoZWNrY2F0ZWdvcnltYXRjaChjYXRlZ29yeSxjYXRlZ29yeV9yZWFsKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGNhdGVnb3J5X3JlYWwpOwogICAgICAvLyBjb25zb2xlLmxvZyhjYXRlZ29yeSk7CiAgICAgICB0aGlzLm1hdGNoY2F0ZWdvcnkgPSAnJwogICAgICAgdGhpcy5zdGF0dXNjYXQgPSAwCiAgICAgICAgICB0aGlzLmNvbG9yY2F0ID0gImJhY2tncm91bmQtY29sb3I6I2Y5YmRiYiIKICAgICAgICAgIAogICAgICAgICAgaWYgKGNhdGVnb3J5X3JlYWwpIHsKICAgICAgLy8gIGNvbnNvbGUubG9nKCdodHRwOi8vMTI3LjAuMC4xOjUwMDAvbWF0Y2hjYXRlZ29yeT9jYXRlZ29yeT0nICsgY2F0ZWdvcnkrJyYmY2F0ZWdvcnlfcmVhbD0nICsgY2F0ZWdvcnlfcmVhbCk7CiAgICAgIGF4aW9zLmdldCgnaHR0cDovLzEyNy4wLjAuMTo1MDAwL21hdGNoY2F0ZWdvcnk/Y2F0ZWdvcnk9JyArIGNhdGVnb3J5KycmJmNhdGVnb3J5X3JlYWw9JyArIGNhdGVnb3J5X3JlYWwpLnRoZW4oKHJlcykgPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICB0aGlzLm1hdGNoY2F0ZWdvcnkgPSByZXMuZGF0YQogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubWF0Y2hjYXRlZ29yeS5pbmNsdWRlcygncmVkJykpOwogICAgICAgIGlmKHRoaXMubWF0Y2hjYXRlZ29yeS5pbmNsdWRlcygncmVkJykpewogICAgICAgICAgdGhpcy5zdGF0dXNjYXQgPSAxCiAgICAgICAgICB0aGlzLmNvbG9yY2F0ID0gImJhY2tncm91bmQtY29sb3I6I2EzZTlhNCIKICAgICAgICB9CiAgICAgIAogICAgICB9KTsKICAgIH0KICAgIH0sCiAgICBjdXQod29yZCkgewogICAgICB2YXIgd28gPSB3b3JkLnRvU3RyaW5nKCkKICAgICAgLy8gd28gPSB3by5yZXBsYWNlQWxsKCcgJywgJyB8ICcpCiAgICAgIHJldHVybiB3bwogICAgfSwKICAgIGFzeW5jIGdldHRva2VuaXplKHdvcmRzLG5hbWVyZWFsX3Jlc3VsdCkgewogICAgICAvLyBjb25zb2xlLmxvZyh3b3Jkcyk7CiAgICAgIC8vIGNvbnNvbGUubG9nKG5hbWVyZWFsX3Jlc3VsdCk7CiAgICAgIGF4aW9zLmdldCgnaHR0cDovLzEyNy4wLjAuMTo1MDAwL3dvcmt0b2tlbj9uYW1lcmVhbF9yZXN1bHQ9JyArIG5hbWVyZWFsX3Jlc3VsdCsnJiZ0ZXh0PScrd29yZHMpLnRoZW4oKHJlcykgPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICB0aGlzLnRva2VuaXplID0gcmVzLmRhdGEKICAgICAgfSk7CiAgICB9LAogICAgZ2V0aW1hZ2VmaWxlKGlkKSB7CiAgICAgIHRoaXMuaW1hZ2VsaXN0cyA9ICcnCiAgICAgIGF4aW9zLmdldCgnaHR0cDovLzEyNy4wLjAuMTo1MDAwL2Jhc2U2ND9pZD0nICsgaWQpLnRoZW4oKHJlcykgPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICB0aGlzLmltYWdlbGlzdHMgPSAnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwnK3Jlcy5kYXRhCiAgICAgIH0pOwogICAgICAKICAgICAgLy8gYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjgwODEvZ2V0aW1hZ2U/cGF0aD0nICsgZm9sZGVyKS50aGVuKChyZXMpID0+IHsKICAgICAgLy8gICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgIC8vICAgZm9yIChsZXQgaW0gPSAwOyBpbSA8IHJlcy5kYXRhLmxlbmd0aDsgaW0rKykgewogICAgICAvLyAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjgwODEvaW1nP25hbWU9JyArIHJlcy5kYXRhW2ltXSkudGhlbigocmVzKSA9PiB7CiAgICAgIC8vICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhLmJhc2U2NCk7CiAgICAgIC8vICAgICAgIHRoaXMuaW1hZ2VsaXN0cy5wdXNoKHJlcy5kYXRhLmJhc2U2NCkKCiAgICAgIC8vICAgICB9KTsKCiAgICAgIC8vICAgfQogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuaW1hZ2VsaXN0cyk7CiAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VsaXN0cwogICAgICAvLyB9KQogICAgfSwKICAgIGRvd25sb2FkSHRtbCgpIHsKICAgICAgbGV0IHVybCA9IHRoaXMudXJsSW5wdXQ7CiAgICAgIGZldGNoKHVybCkKICAgICAgICAudGhlbigocmVzKSA9PiByZXMudGV4dCgpKQogICAgICAgIC50aGVuKChodG1sKSA9PiB0aGlzLmRvd25sb2FkQXNGaWxlKCJyZXBvcnQuaHRtbCIsIGh0bWwpKTsKICAgIH0sCiAgICBkb3dubG9hZEFzRmlsZShuYW1lLCB0ZXh0KSB7CiAgICAgIGNvbnN0IGxpbmsgPSB0aGlzLmNyZWF0ZURvd25sb2FkYWJsZUxpbmsobmFtZSwgdGV4dCk7CiAgICAgIGNvbnN0IGNsaWNrRXZlbnQgPSBuZXcgTW91c2VFdmVudCgnY2xpY2snKTsKICAgICAgbGluay5kaXNwYXRjaEV2ZW50KGNsaWNrRXZlbnQpOwogICAgfSwKICAgIGNyZWF0ZURvd25sb2FkYWJsZUxpbmsoZmlsZU5hbWUsIGNvbnRlbnQpIHsKICAgICAgbGV0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgIGxpbmsuZG93bmxvYWQgPSBmaWxlTmFtZTsKICAgICAgbGluay5ocmVmID0gYGRhdGE6YXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtLCR7Y29udGVudH1gOwogICAgICByZXR1cm4gbGluazsKICAgIH0sCiAgICAvLyAgICAgc2VhcmNoKCl7CiAgICAvLyAgICAgICB0aGlzLmxpc3QgPSBbXQogICAgLy8gICAgICAgTWVudVNlcnZpY2UuZ2V0cHJvZHVjdCh0aGlzLnVybCkudGhlbigpLnRoZW4oKHJlcyk9PnsKICAgIC8vICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwoKICAgIC8vICAgICAgICAgdmFyIGZkYWxpc3QgPSBbXQogICAgLy8gICAgICAgICB2YXIgZGV0YWlsID0gcmVzLmRhdGEKICAgIC8vICAgICAgICAgLy8gdmFyIGRldGFpbCA9ICfguILguYnguK3guKHguLnguKXguIjguLPguYDguJ7guLLguLDguILguK3guIfguKrguLTguJnguITguYnguLLguKvguKHguKfguJTguKvguKHguLnguYhTaG9wZWXguIHguKXguLjguYjguKHguJzguKXguLTguJXguKDguLHguJPguJHguYzguYDguJ7guLfguYjguK3guKrguLjguILguKDguLLguJ7guK3guLLguKvguLLguKPguYDguKrguKPguLTguKHguYDguJ7guLfguYjguK3guITguKfguLLguKHguIfguLLguKHguJzguLTguKfguKLguLXguYjguKvguYnguK1HbG9iYWwgV2hpdGUo4LmC4LiB4Lil4Lia4Lit4Lil4LmE4Lin4LiX4LmMKeC4q+C4meC5ieC4suC4l+C4teC5iOC4guC4reC4h+C4reC4suC4q+C4suC4o+C5gOC4quC4o+C4tOC4oeC4quC4s+C4q+C4o+C4seC4muC4hOC4p+C4suC4oeC4h+C4suC4oeC4hOC4reC4peC4peC4suC5gOC4iOC4mSwg4Lic4LihIOC4nOC4tOC4pyDguYHguKXguLDguYDguKXguYfguJrguKvguKHguLLguKLguYDguKXguILguYPguJrguK3guJnguLjguI3guLLguJUv4Lit4LiiLjcwLTEtMjcxNjAtNS0wMjY44LiI4Liz4LiZ4Lin4LiZ4Liq4Li04LiZ4LiE4LmJ4LiyMjU44Liq4LmI4LiH4LiI4Liy4LiB4LiI4Lix4LiH4Lir4Lin4Lix4LiU4Lib4LiX4Li44Lih4LiY4Liy4LiZ4Li14Lij4Liy4Lii4Lil4Liw4LmA4Lit4Li14Lii4LiU4Liq4Li04LiZ4LiE4LmJ4Liy4Lir4Lih4Liy4Lii4LmA4Lil4LiC4LmD4Lia4Lit4LiZ4Li44LiN4Liy4LiVL+C4reC4oi7wn4y8NzAtMS0yNzE2MC01LTAyNjjguK3guLLguKLguLjguIHguLLguKPguYDguIHguYfguJrguKPguLHguIHguKnguLIgMjQg4LmA4LiU4Li34Lit4LiZJwogICAgLy8gICAgICAgICAgICAgdmFyIGZkYSA9IHRoaXMuZmluZGZkYShkZXRhaWwpCgogICAgLy8gICAgICAgICAgICAgZmRhbGlzdC5wdXNoKHsKICAgIC8vICAgICAgICAgICAgICAgZGV0YWlsOiBkZXRhaWwsCiAgICAvLyAgICAgICAgICAgICAgIGZkYTogZmRhCiAgICAvLyAgICAgICAgICAgICB9KQogICAgLy8gICAgICAgICAgICAgZm9yIChsZXQgZiA9IDA7IGYgPCBmZGFsaXN0Lmxlbmd0aDsgZisrKSB7CgogICAgLy8gY29uc3QgdXJsID0gImh0dHBzOi8vdGF3YWlmb3JoZWFsdGgub3JnL2FwaS9vcnlvci9jaGVjay1wcm9kdWN0IjsKICAgIC8vIGNvbnN0IGRhdGEgPSB7ICJudW1iZXJfc3JjIjogZmRhbGlzdFtmXS5mZGEgfTsKCiAgICAvLyBjb25zdCBvcHRpb25zID0gewogICAgLy8gICBtZXRob2Q6ICJQT1NUIiwKICAgIC8vICAgaGVhZGVyczogewogICAgLy8gICAgIEFjY2VwdDogImFwcGxpY2F0aW9uL2pzb24iLAogICAgLy8gICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04IiwKICAgIC8vICAgfSwKICAgIC8vICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksCiAgICAvLyB9OwoKICAgIC8vIGZldGNoKHVybCwgb3B0aW9ucykKICAgIC8vICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpCiAgICAvLyAgIC50aGVuKChkYXRhKSA9PiB7CiAgICAvLyAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7CiAgICAvLyAgICAgaWYgKGRhdGEubWVzc2FnZSkgewogICAgLy8gICAgICAgZmRhbGlzdFtmXS5zdGF0dXMgPSAwCiAgICAvLyAgICAgICBmZGFsaXN0W2ZdLmxpc3QgPSBbXQogICAgLy8gICAgICAgZmRhbGlzdFtmXS5iZyA9ICdiYWNrZ3JvdW5kLWNvbG9yOiNmOWJkYmInCiAgICAvLyAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgIGZkYWxpc3RbZl0ubGlzdCA9IGRhdGEKICAgIC8vICAgICAgIGZkYWxpc3RbZl0uc3RhdHVzID0gMQogICAgLy8gICAgICAgZmRhbGlzdFtmXS5iZyA9ICdiYWNrZ3JvdW5kLWNvbG9yOiNhM2U5YTQnCiAgICAvLyAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhLlNUQVRVU19JRC5pbmNsdWRlcyg3KSkKICAgIC8vICAgICAgIGlmIChkYXRhLmNuY25tID09ICLguITguIfguK3guKLguLnguYgiKSB7CiAgICAvLyAgICAgICBmZGFsaXN0W2ZdLmljb24gPSAnY29sb3I6IGdyZWVuJwoKICAgIC8vICAgICAgIH1lbHNlewogICAgLy8gICAgICAgZmRhbGlzdFtmXS5pY29uID0gJ2NvbG9yOiByZWQnCiAgICAvLyAgICAgICBmZGFsaXN0W2ZdLmJnID0gJ2JhY2tncm91bmQtY29sb3I6I2Y5YmRiYicKICAgIC8vICAgICAgIH0KICAgIC8vICAgICB9CgogICAgLy8gICAgIC8vIGNvbnNvbGUubG9nKGYrMSwgZmRhbGlzdC5sZW5ndGgpOwogICAgLy8gICAgIGlmIChmKzEgPT0gZmRhbGlzdC5sZW5ndGgpIHsKICAgIC8vICBjb25zb2xlLmxvZyhmZGFsaXN0KTsgCiAgICAvLyAgdGhpcy5saXN0ID0gZmRhbGlzdAoKICAgIC8vIH0KICAgIC8vICAgfSk7CgoKICAgIC8vIH0KICAgIC8vICAgICAgIH0pCiAgICAvLyAgICAgfSwKICAgIHNlYXJjaCgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy51cmwpOwogICAgICB0aGlzLnN0YXR1c25hbWU9MCwKICAgICAgdGhpcy5zdGF0dXNjYXQ9MCwKICAgICAgdGhpcy5zdGF0dXNmZGE9MCwKICAgICAgdGhpcy5jb2xvcm5hbWU9J2JhY2tncm91bmQtY29sb3I6I2Y5YmRiYicsCiAgICAgIHRoaXMuY29sb3JmZGE9J2JhY2tncm91bmQtY29sb3I6I2Y5YmRiYicsCiAgICAgIHRoaXMuY29sb3JjYXQ9J2JhY2tncm91bmQtY29sb3I6I2Y5YmRiYicsCiAgICAgIHRoaXMubGlzdCA9IFtdCiAgICAgIHZhciBkYXRhID0gewogICAgICAgIHVybDogdGhpcy51cmwKICAgICAgfQogICAgICBQcm9kdWN0c1NlcnZpY2UuZmluZHByb2R1Y3QoZGF0YSkudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgLy8gY29uc29sZS5sb2coKTsKICAgICAgICBpZiAocmVzLmRhdGFbMF0uY29udGVudCA9PSAnJyB8fCByZXMuZGF0YS5sZW5ndGggPT0gMCkgewogICAgICAgICAgYWxlcnQoJ+C5hOC4oeC5iOC4nuC4muC4guC5ieC4reC4oeC4ueC4peC5g+C4meC4o+C4sOC4muC4micpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhWzBdLmNvbnRlbnQpOwogICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy50b2tlbml6ZSk7CiAgICAgICAgICB0aGlzLmdldGltYWdlZmlsZShyZXMuZGF0YVswXS5pZCkKICAgICAgICAgIHZhciBkZXRhaWwgPSByZXMuZGF0YVswXS5jb250ZW50CiAgICAgICAgICAvLyB2YXIgZGV0YWlsID0gJ+C4guC5ieC4reC4oeC4ueC4peC4iOC4s+C5gOC4nuC4suC4sOC4guC4reC4h+C4quC4tOC4meC4hOC5ieC4suC4q+C4oeC4p+C4lOC4q+C4oeC4ueC5iFNob3BlZeC4geC4peC4uOC5iOC4oeC4nOC4peC4tOC4leC4oOC4seC4k+C4keC5jOC5gOC4nuC4t+C5iOC4reC4quC4uOC4guC4oOC4suC4nuC4reC4suC4q+C4suC4o+C5gOC4quC4o+C4tOC4oeC5gOC4nuC4t+C5iOC4reC4hOC4p+C4suC4oeC4h+C4suC4oeC4nOC4tOC4p+C4ouC4teC5iOC4q+C5ieC4rUdsb2JhbCBXaGl0ZSjguYLguIHguKXguJrguK3guKXguYTguKfguJfguYwp4Lir4LiZ4LmJ4Liy4LiX4Li14LmI4LiC4Lit4LiH4Lit4Liy4Lir4Liy4Lij4LmA4Liq4Lij4Li04Lih4Liq4Liz4Lir4Lij4Lix4Lia4LiE4Lin4Liy4Lih4LiH4Liy4Lih4LiE4Lit4Lil4Lil4Liy4LmA4LiI4LiZLCDguJzguKEg4Lic4Li04LinIOC5geC4peC4sOC5gOC4peC5h+C4muC4q+C4oeC4suC4ouC5gOC4peC4guC5g+C4muC4reC4meC4uOC4jeC4suC4lS/guK3guKIuNzAtMS0yNzE2MC01LTAyNjjguIjguLPguJnguKfguJnguKrguLTguJnguITguYnguLIyNTjguKrguYjguIfguIjguLLguIHguIjguLHguIfguKvguKfguLHguJTguJvguJfguLjguKHguJjguLLguJnguLXguKPguLLguKLguKXguLDguYDguK3guLXguKLguJTguKrguLTguJnguITguYnguLLguKvguKHguLLguKLguYDguKXguILguYPguJrguK3guJnguLjguI3guLLguJUv4Lit4LiiLvCfjLw3MC0xLTI3MTYwLTUtMDI2OOC4reC4suC4ouC4uOC4geC4suC4o+C5gOC4geC5h+C4muC4o+C4seC4geC4qeC4siAyNCDguYDguJTguLfguK3guJknCiAgICAgICAgICB2YXIgZmRhID0gcmVzLmRhdGFbMF0uZmRhCiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmZGEpOwogICAgICAgICAgdmFyIGZkYWxpc3QgPSBbXQogICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGFbMF0pOwovLyBpZiAoZmRhLmxlbmd0aCAhPSAxMikgewovLyAgIGFsZXJ0KCfguKvguKHguLLguKLguYDguKXguILguYPguJrguK3guJnguLjguI3guLLguJXguYTguKHguYjguJbguLnguIHguJXguYnguK3guIcnKQovLyB9ZWxzZXsKICAgICAgICAgIGZkYWxpc3QucHVzaCh7CiAgICAgICAgICAgIGlkOiByZXMuZGF0YVswXS5pZCwKICAgICAgICAgICAgbmFtZTogcmVzLmRhdGFbMF0ubmFtZSwKICAgICAgICAgICAgZGV0YWlsOiBkZXRhaWwsCiAgICAgICAgICAgIGZkYTogZmRhLAogICAgICAgICAgICBjYXRfbmFtZTpyZXMuZGF0YVswXS5jYXRfbmFtZQogICAgICAgICAgfSkKICAgICAgICAgIGZvciAobGV0IGYgPSAwOyBmIDwgZmRhbGlzdC5sZW5ndGg7IGYrKykgewoKICAgICAgICAgICAgY29uc3QgdXJsID0gImh0dHBzOi8vdGF3YWlmb3JoZWFsdGgub3JnL2FwaS9vcnlvci9jaGVjay1wcm9kdWN0IjsKICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsgIm51bWJlcl9zcmMiOiBmZGFsaXN0W2ZdLmZkYSB9OwovLyBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHsKICAgICAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICBBY2NlcHQ6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04IiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLAogICAgICAgICAgICB9OwoKICAgICAgICAgICAgZmV0Y2godXJsLCBvcHRpb25zKQogICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgICAgICAgIC8vIHByb2R1Y3RoYQogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YS5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIGlmIChkYXRhLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgZGF0YS5wcm9kdWNlbmcgPSAnJwogICAgICAgICAgICAgICAgICBkYXRhLnByb2R1Y3RoYSA9ICcnCiAgICAgICAgICAgICAgICAgIGRhdGEudHlwZXBybyA9ICcnCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgICAgIGFsZXJ0KCfguYTguKHguYjguJ7guJrguYDguKXguILguK3guKIu4LmD4LiZ4LmA4Lin4LmH4Lia4LmE4LiL4LiV4LmM4LiC4Lit4LiH4Lic4Lil4Li04LiV4Lig4Lix4LiT4LiR4LmM4LiZ4Li14LmJJykKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja2ZkYW1hdGNoKGZkYWxpc3RbZl0ubmFtZSxkYXRhLnByb2R1Y3RoYStkYXRhLnByb2R1Y2VuZykKCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmZGFsaXN0W2ZdLmRldGFpbCk7CiAgICAgICAgICAgICAgICB2YXIgY2F0ID0gdGhpcy5maW5kY2F0ZWdvcnkoZmRhbGlzdFtmXS5kZXRhaWwpCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjYXQpOwogICAgICAgICAgICAgICAgdmFyIGZkYXR5cGUgPSB0aGlzLmZkYXR5cGUoZGF0YS50eXBlcHJvKQogICAgICAgICAgICAgICAgZmRhdHlwZSA9IGZkYXR5cGUucmVwbGFjZUFsbCgnICcsJycpCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmZGF0eXBlKTsgICAgCiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGRhdGEucHJvZHVjdGhhLnJlcGxhY2VBbGwoJ+C4nOC4peC4tOC4leC4oOC4seC4k+C4keC5jCcsJycpCiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBmZGF0eXBlCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnR5cGUpOwogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YS50eXBlcHJvKTsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnR5cGUgPT0gJycpIHsKICAgICAgICAgICAgICAgICAgaWYgKGRhdGEudHlwZXBybykgewogICAgICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IGRhdGEudHlwZXBybwogICAgICAgICAgICAgICAgICAgIGZkYXR5cGUgPSBkYXRhLnR5cGVwcm8KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZmRhdHlwZSk7CiAgICAgICAgICAgICAgICBGREFUeXBlc1NlcnZpY2UuZ2V0ZmRhdHlwZXMoZmRhdHlwZSkudGhlbigoKT0+ewogICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5sZW5ndGggPT0gMCkgewogICAgICAgICAgICAgICAgICAgIHZhciBjYXR0eXBlID0gewogICAgICAgICAgICAgICAgICAgICAgbmFtZTpmZGF0eXBlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIEZEQVR5cGVzU2VydmljZS5jcmVhdGVmZGF0eXBlKGNhdHR5cGUpLnRoZW4oKCk9PnsKICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgdGhpcy5jaGVja2NhdGVnb3J5bWF0Y2goY2F0LGZkYXR5cGUpCiAgICAgICAgICAgICAgICB0aGlzLmdldHRva2VuaXplKHJlcy5kYXRhWzBdLmNvbnRlbnQsZmRhdHlwZStuYW1lK2RhdGEucHJvZHVjZW5nKQogICAgICAgICAgICAgICAgaWYgKCFkYXRhLmxjbm5vKSB7CiAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0uc3RhdHVzID0gMAogICAgICAgICAgICAgICAgICBmZGFsaXN0W2ZdLmxpc3QgPSBbXQogICAgICAgICAgICAgICAgICBmZGFsaXN0W2ZdLmJnID0gJ2JhY2tncm91bmQtY29sb3I6I2Y5YmRiYicKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0ubGlzdCA9IGRhdGEKICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5zdGF0dXMgPSAxCiAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0uYmcgPSAnYmFja2dyb3VuZC1jb2xvcjojYTNlOWE0JwogICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhLlNUQVRVU19JRC5pbmNsdWRlcyg3KSkKICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY25jbm0gPT0gIuC4hOC4h+C4reC4ouC4ueC5iCIpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c2ZkYSA9IDEKICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yZmRhID0gImJhY2tncm91bmQtY29sb3I6I2EzZTlhNCIKICAgICAgICAgICAgICAgICAgICBmZGFsaXN0W2ZdLmljb24gPSAnY29sb3I6IGdyZWVuJwoKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBmZGFsaXN0W2ZdLmljb24gPSAnY29sb3I6IHJlZCcKICAgICAgICAgICAgICAgICAgICBmZGFsaXN0W2ZdLmJnID0gJ2JhY2tncm91bmQtY29sb3I6I2Y5YmRiYicKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZisxLCBmZGFsaXN0Lmxlbmd0aCk7CiAgICAgICAgICAgICAgICBpZiAoZiArIDEgPT0gZmRhbGlzdC5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZmRhbGlzdCk7CiAgICAgICAgICAgICAgICAgIHRoaXMubGlzdCA9IGZkYWxpc3QKCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubGlzdCk7CiAgICAgICAgICAgICAgfSk7CgoKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIC8vIH0KICAgICAgfSkKICAgIH0sCiAgICBzZWFyY2hieWZkYSgpIHsKICAgICAgdGhpcy5zdGF0dXNuYW1lPTAsCiAgICAgIHRoaXMuc3RhdHVzY2F0PTAsCiAgICAgIHRoaXMuc3RhdHVzZmRhPTAsCiAgICAgIHRoaXMuY29sb3JuYW1lPSdiYWNrZ3JvdW5kLWNvbG9yOiNmOWJkYmInLAogICAgICB0aGlzLmNvbG9yZmRhPSdiYWNrZ3JvdW5kLWNvbG9yOiNmOWJkYmInLAogICAgICB0aGlzLmNvbG9yY2F0PSdiYWNrZ3JvdW5kLWNvbG9yOiNmOWJkYmInLAogICAgICB0aGlzLmxpc3QgPSBbXQogICAgICBQcm9kdWN0c1NlcnZpY2UuZ2V0cHJvZHVjdCh0aGlzLmlkKS50aGVuKGFzeW5jIChyZXMpID0+IHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvbnRlbnQgPT0gJycgfHwgcmVzLmRhdGEubGVuZ3RoID09IDApIHsKICAgICAgICAgIGFsZXJ0KCfguYTguKHguYjguJ7guJrguILguYnguK3guKHguLnguKXguYPguJnguKPguLDguJrguJonKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YVswXS5jb250ZW50KTsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudG9rZW5pemUpOwogICAgICAgICAgdGhpcy5nZXRpbWFnZWZpbGUocmVzLmRhdGEuaWQpCiAgICAgICAgICB2YXIgZGV0YWlsID0gcmVzLmRhdGEuY29udGVudAogICAgICAgICAgLy8gdmFyIGRldGFpbCA9ICfguILguYnguK3guKHguLnguKXguIjguLPguYDguJ7guLLguLDguILguK3guIfguKrguLTguJnguITguYnguLLguKvguKHguKfguJTguKvguKHguLnguYhTaG9wZWXguIHguKXguLjguYjguKHguJzguKXguLTguJXguKDguLHguJPguJHguYzguYDguJ7guLfguYjguK3guKrguLjguILguKDguLLguJ7guK3guLLguKvguLLguKPguYDguKrguKPguLTguKHguYDguJ7guLfguYjguK3guITguKfguLLguKHguIfguLLguKHguJzguLTguKfguKLguLXguYjguKvguYnguK1HbG9iYWwgV2hpdGUo4LmC4LiB4Lil4Lia4Lit4Lil4LmE4Lin4LiX4LmMKeC4q+C4meC5ieC4suC4l+C4teC5iOC4guC4reC4h+C4reC4suC4q+C4suC4o+C5gOC4quC4o+C4tOC4oeC4quC4s+C4q+C4o+C4seC4muC4hOC4p+C4suC4oeC4h+C4suC4oeC4hOC4reC4peC4peC4suC5gOC4iOC4mSwg4Lic4LihIOC4nOC4tOC4pyDguYHguKXguLDguYDguKXguYfguJrguKvguKHguLLguKLguYDguKXguILguYPguJrguK3guJnguLjguI3guLLguJUv4Lit4LiiLjcwLTEtMjcxNjAtNS0wMjY44LiI4Liz4LiZ4Lin4LiZ4Liq4Li04LiZ4LiE4LmJ4LiyMjU44Liq4LmI4LiH4LiI4Liy4LiB4LiI4Lix4LiH4Lir4Lin4Lix4LiU4Lib4LiX4Li44Lih4LiY4Liy4LiZ4Li14Lij4Liy4Lii4Lil4Liw4LmA4Lit4Li14Lii4LiU4Liq4Li04LiZ4LiE4LmJ4Liy4Lir4Lih4Liy4Lii4LmA4Lil4LiC4LmD4Lia4Lit4LiZ4Li44LiN4Liy4LiVL+C4reC4oi7wn4y8NzAtMS0yNzE2MC01LTAyNjjguK3guLLguKLguLjguIHguLLguKPguYDguIHguYfguJrguKPguLHguIHguKnguLIgMjQg4LmA4LiU4Li34Lit4LiZJwogICAgICAgICAgdmFyIGZkYSA9IHJlcy5kYXRhLmZkYQogICAgICAgICAgLy8gY29uc29sZS5sb2coZmRhKTsKICAgICAgICAgIHZhciBmZGFsaXN0ID0gW10KICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKLy8gaWYgKGZkYS5sZW5ndGggIT0gMTIpIHsKLy8gICBhbGVydCgn4Lir4Lih4Liy4Lii4LmA4Lil4LiC4LmD4Lia4Lit4LiZ4Li44LiN4Liy4LiV4LmE4Lih4LmI4LiW4Li54LiB4LiV4LmJ4Lit4LiHJykKLy8gfWVsc2V7CiAgdGhpcy51cmwgPSByZXMuZGF0YS51cmwKICAgICAgICAgIGZkYWxpc3QucHVzaCh7CiAgICAgICAgICAgIGlkOiByZXMuZGF0YS5pZCwKICAgICAgICAgICAgbmFtZTogcmVzLmRhdGEubmFtZSwKICAgICAgICAgICAgZGV0YWlsOiBkZXRhaWwsCiAgICAgICAgICAgIGZkYTogZmRhLAogICAgICAgICAgICBjYXRfbmFtZTpyZXMuZGF0YS5jYXRfbmFtZQogICAgICAgICAgfSkKICAgICAgICAgIGZvciAobGV0IGYgPSAwOyBmIDwgZmRhbGlzdC5sZW5ndGg7IGYrKykgewoKICAgICAgICAgICAgY29uc3QgdXJsID0gImh0dHBzOi8vdGF3YWlmb3JoZWFsdGgub3JnL2FwaS9vcnlvci9jaGVjay1wcm9kdWN0IjsKICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsgIm51bWJlcl9zcmMiOiBmZGFsaXN0W2ZdLmZkYSB9OwovLyBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHsKICAgICAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICBBY2NlcHQ6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04IiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLAogICAgICAgICAgICB9OwoKICAgICAgICAgICAgZmV0Y2godXJsLCBvcHRpb25zKQogICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgICAgICAgIC8vIHByb2R1Y3RoYQogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YS5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIGlmIChkYXRhLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgZGF0YS5wcm9kdWNlbmcgPSAnJwogICAgICAgICAgICAgICAgICBkYXRhLnByb2R1Y3RoYSA9ICcnCiAgICAgICAgICAgICAgICAgIGRhdGEudHlwZXBybyA9ICcnCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgICAgIGFsZXJ0KCfguYTguKHguYjguJ7guJrguYDguKXguILguK3guKIu4LmD4LiZ4LmA4Lin4LmH4Lia4LmE4LiL4LiV4LmM4LiC4Lit4LiH4Lic4Lil4Li04LiV4Lig4Lix4LiT4LiR4LmM4LiZ4Li14LmJJykKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja2ZkYW1hdGNoKGZkYWxpc3RbZl0ubmFtZSxkYXRhLnByb2R1Y3RoYStkYXRhLnByb2R1Y2VuZykKCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmZGFsaXN0W2ZdLmRldGFpbCk7CiAgICAgICAgICAgICAgICB2YXIgY2F0ID0gdGhpcy5maW5kY2F0ZWdvcnkoZmRhbGlzdFtmXS5kZXRhaWwpCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjYXQpOwogICAgICAgICAgICAgICAgdmFyIGZkYXR5cGUgPSB0aGlzLmZkYXR5cGUoZGF0YS50eXBlcHJvKQogICAgICAgICAgICAgICAgZmRhdHlwZSA9IGZkYXR5cGUucmVwbGFjZUFsbCgnICcsJycpCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmZGF0eXBlKTsgICAgCiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGRhdGEucHJvZHVjdGhhLnJlcGxhY2VBbGwoJ+C4nOC4peC4tOC4leC4oOC4seC4k+C4keC5jCcsJycpCiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBmZGF0eXBlCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnR5cGUpOwogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YS50eXBlcHJvKTsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnR5cGUgPT0gJycpIHsKICAgICAgICAgICAgICAgICAgaWYgKGRhdGEudHlwZXBybykgewogICAgICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IGRhdGEudHlwZXBybwogICAgICAgICAgICAgICAgICAgIGZkYXR5cGUgPSBkYXRhLnR5cGVwcm8KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZmRhdHlwZSk7CiAgICAgICAgICAgICAgICBGREFUeXBlc1NlcnZpY2UuZ2V0ZmRhdHlwZXMoZmRhdHlwZSkudGhlbigoKT0+ewogICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5sZW5ndGggPT0gMCkgewogICAgICAgICAgICAgICAgICAgIHZhciBjYXR0eXBlID0gewogICAgICAgICAgICAgICAgICAgICAgbmFtZTpmZGF0eXBlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIEZEQVR5cGVzU2VydmljZS5jcmVhdGVmZGF0eXBlKGNhdHR5cGUpLnRoZW4oKCk9PnsKICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgdGhpcy5jaGVja2NhdGVnb3J5bWF0Y2goY2F0LGZkYXR5cGUpCiAgICAgICAgICAgICAgICB0aGlzLmdldHRva2VuaXplKHJlcy5kYXRhLmNvbnRlbnQsZmRhdHlwZStuYW1lK2RhdGEucHJvZHVjZW5nKQogICAgICAgICAgICAgICAgaWYgKCFkYXRhLmxjbm5vKSB7CiAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0uc3RhdHVzID0gMAogICAgICAgICAgICAgICAgICBmZGFsaXN0W2ZdLmxpc3QgPSBbXQogICAgICAgICAgICAgICAgICBmZGFsaXN0W2ZdLmJnID0gJ2JhY2tncm91bmQtY29sb3I6I2Y5YmRiYicKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0ubGlzdCA9IGRhdGEKICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5zdGF0dXMgPSAxCiAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0uYmcgPSAnYmFja2dyb3VuZC1jb2xvcjojYTNlOWE0JwogICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhLlNUQVRVU19JRC5pbmNsdWRlcyg3KSkKICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY25jbm0gPT0gIuC4hOC4h+C4reC4ouC4ueC5iCIpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c2ZkYSA9IDEKICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yZmRhID0gImJhY2tncm91bmQtY29sb3I6I2EzZTlhNCIKICAgICAgICAgICAgICAgICAgICBmZGFsaXN0W2ZdLmljb24gPSAnY29sb3I6IGdyZWVuJwoKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBmZGFsaXN0W2ZdLmljb24gPSAnY29sb3I6IHJlZCcKICAgICAgICAgICAgICAgICAgICBmZGFsaXN0W2ZdLmJnID0gJ2JhY2tncm91bmQtY29sb3I6I2Y5YmRiYicKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZisxLCBmZGFsaXN0Lmxlbmd0aCk7CiAgICAgICAgICAgICAgICBpZiAoZiArIDEgPT0gZmRhbGlzdC5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZmRhbGlzdCk7CiAgICAgICAgICAgICAgICAgIHRoaXMubGlzdCA9IGZkYWxpc3QKCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubGlzdCk7CiAgICAgICAgICAgICAgfSk7CgoKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIC8vIH0KICAgICAgfSkKICAgIH0sCiAgICBvbkNoYW5nZUExKGV2ZW50KSB7CiAgICAgIHRoaXMubGlzdCA9IFtdCiAgICAgIHRoaXMuZmlsZSA9IGV2ZW50LnRhcmdldC5maWxlcyA/IGV2ZW50LnRhcmdldC5maWxlc1swXSA6IG51bGw7CiAgICAgIC8vIHZhciBjID0gJ+KYle+4j1vguJ7guKPguYnguK3guKHguKrguYjguIddIENhbCBzIENvZmZlZSBieSBQcmltYXlhIOC4geC4suC5geC4n+C5geC4hOC4peC5gOC4reC4qiDguYLguIHguYLguIHguYnguYHguITguKXguYDguK3guKog4LiK4Liy4LmE4LiX4Lii4LmB4LiE4Lil4LmA4Lit4LiqIDEg4LiB4Lil4LmI4Lit4LiHIDEwIOC4i+C4reC4h+C4meC5ieC4s+C4q+C4meC4seC4geC4o+C4seC4geC4qeC4suC4quC4seC4lOC4quC5iOC4p+C4meC4q+C4oeC4suC4ouC5gOC4peC4guC4reC4oi4v4LmD4Lia4Lit4LiZ4Li44LiN4Liy4LiVMTMxMDE3NjAyMDA4MOC4peC4seC4geC4qeC4k+C4sOC4nOC4h+C4iOC4s+C4meC4p+C4meC4quC4tOC4meC4hOC5ieC4sjM5MuC4quC5iOC4h+C4iOC4suC4geC5gOC4guC4leC4lOC4reC4meC5gOC4oeC4t+C4reC4hywg4LiI4Lix4LiH4Lir4Lin4Lix4LiU4LiB4Lij4Li44LiH4LmA4LiX4Lie4Lih4Lir4Liy4LiZ4LiE4LijJwogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmZpbmRmZGEoYykpCiAgICAgIHZhciBmZGFsaXN0ID0gW10KICAgICAgaWYgKHRoaXMuZmlsZSkgewogICAgICAgIHRoaXMuc3RhdHVzID0gdHJ1ZQogICAgICAgIHJlYWRYbHN4RmlsZShldmVudC50YXJnZXQuZmlsZXNbMF0pLnRoZW4oYXN5bmMgKGV4Y2VsKSA9PiB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhleGNlbCk7CiAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGV4Y2VsLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGFbaV1bMF0pOwogICAgICAgICAgICB2YXIgZGV0YWlsID0gZXhjZWxbaV1bMF0KICAgICAgICAgICAgdmFyIGZkYSA9IHRoaXMuZmluZGZkYShkZXRhaWwpCgogICAgICAgICAgICBmZGFsaXN0LnB1c2goewogICAgICAgICAgICAgIGRldGFpbDogZGV0YWlsLAogICAgICAgICAgICAgIGZkYTogZmRhCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIGlmIChpICsgMSA9PSBleGNlbC5sZW5ndGgpIHsKICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmZGFsaXN0KTsKICAgICAgICAgICAgICBmb3IgKGxldCBmID0gMDsgZiA8IGZkYWxpc3QubGVuZ3RoOyBmKyspIHsKCiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSAiaHR0cHM6Ly90YXdhaWZvcmhlYWx0aC5vcmcvYXBpL29yeW9yL2NoZWNrLXByb2R1Y3QiOwogICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsgIm51bWJlcl9zcmMiOiBmZGFsaXN0W2ZdLmZkYSB9OwoKICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgiLAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSwKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgYXdhaXQgZmV0Y2godXJsLCBvcHRpb25zKQogICAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSkKICAgICAgICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHsKICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgICBmZGFsaXN0W2ZdLnN0YXR1cyA9IDAKICAgICAgICAgICAgICAgICAgICAgIGZkYWxpc3RbZl0ubGlzdCA9IFtdCiAgICAgICAgICAgICAgICAgICAgICBmZGFsaXN0W2ZdLmJnID0gJ2JhY2tncm91bmQtY29sb3I6I2Y5YmRiYicKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5saXN0ID0gZGF0YQogICAgICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5zdGF0dXMgPSAxCiAgICAgICAgICAgICAgICAgICAgICBmZGFsaXN0W2ZdLmJnID0gJ2JhY2tncm91bmQtY29sb3I6I2EzZTlhNCcKICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEuU1RBVFVTX0lELmluY2x1ZGVzKDcpKQogICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY25jbm0gPT0gIuC4hOC4h+C4reC4ouC4ueC5iCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5pY29uID0gJ2NvbG9yOiBncmVlbicKCiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBmZGFsaXN0W2ZdLmljb24gPSAnY29sb3I6IHJlZCcKICAgICAgICAgICAgICAgICAgICAgICAgZmRhbGlzdFtmXS5iZyA9ICdiYWNrZ3JvdW5kLWNvbG9yOiNmOWJkYmInCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmKzEsIGZkYWxpc3QubGVuZ3RoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoZiArIDEgPT0gZmRhbGlzdC5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGZkYWxpc3QpOwogICAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ID0gZmRhbGlzdAogICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CgoKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgICB0aGlzLmZpbGUgPSAnJwogICAgfSwKICAgIGZpbmRjYXRlZ29yeShkYXRhKXsKICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7CiAgICAgIHZhciB0ZXh0ID0gWyfguKvguKHguKfguJTguKvguKHguLnguYgnXQogICAgICB2YXIgZW5kID0gWyfguKLguLXguYjguKvguYnguK0nLCfguJvguKPguLDguYDguJfguKgnXQogICAgICB2YXIgZmluZGZkYSA9IGRhdGEKICAgICAgZm9yIChsZXQgdCA9IDA7IHQgPCBlbmQubGVuZ3RoOyB0KyspIHsKICAgICAgICBpZiAoZmluZGZkYS5pbmRleE9mKGVuZFt0XSkgIT0gLTEpIHsKICAgICAgICAgIGZpbmRmZGEgPSBmaW5kZmRhLnN1YnN0cmluZyhmaW5kZmRhLmluZGV4T2YodGV4dFswXSksZmluZGZkYS5pbmRleE9mKGVuZFt0XSkpOyAgICAKICAgICAgICB9CgogICAgICB9CiAgICAgIC8vIGlmIChmaW5kZmRhID09ICfguK3guLLguKvguLLguKMnKSB7CiAgICAgIC8vICAgZmluZGZkYSA9IGZpbmRmZGErIGZpbmRmZGErJ+C5gOC4quC4o+C4tOC4oScKICAgICAgLy8gfQogICAgICAvLyBjb25zb2xlLmxvZyhmaW5kZmRhKTsKICAgICAgcmV0dXJuIGZpbmRmZGEKICAgIH0sCiAgICBmZGF0eXBlKGRhdGEpewogICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgaWYgKGRhdGEpIHsKICAgICAgICB2YXIgdGV4dCA9IFsnKCddCiAgICAgIHZhciBmaW5kZmRhID0gZGF0YQogICAgICBmb3IgKGxldCB0ID0gMDsgdCA8IHRleHQubGVuZ3RoOyB0KyspIHsKICAgICAgICBmaW5kZmRhID0gZmluZGZkYS5zdWJzdHJpbmcoZmluZGZkYS5pbmRleE9mKDApLGZpbmRmZGEuaW5kZXhPZih0ZXh0WzBdKSk7CgogICAgICB9CiAgICAgIH1lbHNlewogICAgICAgIGZpbmRmZGEgPSAnJwogICAgICB9CiAgICAgIHJldHVybiBmaW5kZmRhCiAgICB9LAogICAgZmluZGZkYShkYXRhKSB7CiAgICAgIHZhciB0ZXh0ID0gWyfguKvguKHguLLguKLguYDguKXguILguYPguJrguK3guJnguLjguI3guLLguJUv4Lit4LiiLiddCiAgICAgIHZhciBlbmQgPSBbJ+C4iOC4s+C4meC4p+C4mSddCiAgICAgIHZhciBmaW5kZmRhID0gZGF0YQogICAgICBmb3IgKGxldCB0ID0gMDsgdCA8IHRleHQubGVuZ3RoOyB0KyspIHsKICAgICAgICBmaW5kZmRhID0gZmluZGZkYS5zdWJzdHJpbmcoZmluZGZkYS5pbmRleE9mKHRleHRbdF0pLGZpbmRmZGEuaW5kZXhPZihlbmRbMF0pKTsKCiAgICAgIH0KICAgICAgLy8gY29uc29sZS5sb2coZmluZGZkYSk7CgogICAgICBmaW5kZmRhID0gZmluZGZkYS5yZXBsYWNlQWxsKCLguKvguKHguLLguKLguYDguKXguILguYPguJrguK3guJnguLjguI3guLLguJUv4Lit4LiiLiIsICIiKTsKICAgICAgZmluZGZkYSA9IGZpbmRmZGEucmVwbGFjZUFsbCgiLSIsICIiKTsKICAgICAgZmluZGZkYSA9IGZpbmRmZGEucmVwbGFjZUFsbCgi4oCTIiwgIiIpOwogICAgICAvLyBjb25zb2xlLmxvZyhmaW5kZmRhKTsKICAgICAgLy8gdmFyIHJlZ2V4ID0gL1xkKy9nOwogICAgICAvLyB2YXIgbWF0Y2hlcyA9IGZpbmRmZGEubWF0Y2gocmVnZXgpOyAgLy8gY3JlYXRlcyBhcnJheSBmcm9tIG1hdGNoZXMKICAgICAgLy8gY29uc29sZS5sb2cobWF0Y2hlc1swXSk7CiAgICAgIHJldHVybiBmaW5kZmRhCiAgICB9LAogICAgbG9hZGRhdGEoZmRhKSB7CiAgICAgIGNvbnN0IHVybCA9ICJodHRwczovL3Rhd2FpZm9yaGVhbHRoLm9yZy9hcGkvb3J5b3IvY2hlY2stcHJvZHVjdCI7CiAgICAgIGNvbnN0IGRhdGEgPSB7ICJudW1iZXJfc3JjIjogZmRhIH07CgogICAgICBjb25zdCBvcHRpb25zID0gewogICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEFjY2VwdDogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgiLAogICAgICAgIH0sCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksCiAgICAgIH07CgogICAgICBmZXRjaCh1cmwsIG9wdGlvbnMpCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpCiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgICAgcmV0dXJuIGRhdGEKICAgICAgICB9KTsKICAgIH0sCiAgICBhc3luYyBjaGVja2ZkYShmZGEpIHsKICAgICAgd2luZG93Lm9wZW4oCiAgICAgICAgIi9kZXRhaWwvIiArIGZkYSwKICAgICAgICAiX2JsYW5rIiAvLyA8LSBUaGlzIGlzIHdoYXQgbWFrZXMgaXQgb3BlbiBpbiBhIG5ldyB3aW5kb3cuCiAgICAgICk7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgLy8gY29uc29sZS5sb2codGhpcy4kcm91dGUucXVlcnkuaWQpOwogICAKICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5pZCkgewogICAgICB0aGlzLmlkID0gdGhpcy4kcm91dGUucXVlcnkuaWQKLy8gICAgICAgdmFyIGN1dHVybCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnVybC5zcGxpdCgnLycpCi8vICAgICAgIHZhciBsID0gdGhpcy4kcm91dGUucXVlcnkudXJsLnNwbGl0KCc/JykKLy8gICAgICAgY29uc29sZS5sb2cobCk7Ci8vICAgICAgIGNvbnNvbGUubG9nKGN1dHVybCk7Ci8vICAgICAgIC8vIGNvbnNvbGUubG9nKGVuY29kZVVSSUNvbXBvbmVudChjdXR1cmxbM10pKTsKLy8gICAgICAgdmFyIGVuY29kZXVybCA9IGVuY29kZVVSSUNvbXBvbmVudChjdXR1cmxbM10pCi8vICAgICAgIHZhciBsZW5jb2RlID0gZW5jb2RldXJsLnNwbGl0KCclM0ZzcF9hdGslJykgCi8vICAgICAgIGNvbnNvbGUubG9nKGxlbmNvZGUpOwovLyB0aGlzLnVybCA9ICdodHRwczovL3Nob3BlZS5jby50aC8nK2VuY29kZVVSSUNvbXBvbmVudChsZW5jb2RlWzBdKSsiPyIrbFsxXQovLyBjb25zb2xlLmxvZyh0aGlzLnVybCk7CiAgICAgIHRoaXMuc2VhcmNoYnlmZGEoKQogICAgfQogICAgLy8gY29uc29sZS5sb2codGhpcy5maW5kY2F0ZWdvcnkoJ+C4guC5ieC4reC4oeC4ueC4peC4iOC4s+C5gOC4nuC4suC4sOC4guC4reC4h+C4quC4tOC4meC4hOC5ieC4suC4q+C4oeC4p+C4lOC4q+C4oeC4ueC5iFNob3BlZeC4reC4suC4q+C4suC4o+C5geC4peC4sOC5gOC4hOC4o+C4t+C5iOC4reC4h+C4lOC4t+C5iOC4oeC5gOC4hOC4o+C4t+C5iOC4reC4h+C4lOC4t+C5iOC4oeC4geC4suC5geC4n+C4ouC4teC5iOC4q+C5ieC4rUJlIEVhc3ko4Lia4Li14Lit4Li14LiL4Li14LmIKeC5gOC4hOC4o+C4t+C5iOC4reC4h+C4lOC4t+C5iOC4oTMtaW4tMSDguYHguKXguLDguIHguLLguYHguJ/guKrguLPguYDguKPguYfguIjguKPguLnguJvguK3guLLguKLguLjguIHguLLguKPguYDguIHguYfguJrguKPguLHguIHguKnguLIyNCDguYDguJTguLfguK3guJnguJnguYnguLPguKvguJnguLHguIExNTBn4Lin4Lix4LiZ4Lir4Lih4LiU4Lit4Liy4Lii4Li4MDgtMTItMjAyM+C4q+C4oeC4suC4ouC5gOC4peC4guC5g+C4muC4reC4meC4uOC4jeC4suC4lS/guK3guKIuMTMtMi0wMzY1Ny0yLTAwNTTguIjguLPguJnguKfguJnguKrguLTguJnguITguYnguLI5NeC4quC5iOC4h+C4iOC4suC4geC4iOC4seC4h+C4q+C4p+C4seC4lOC4m+C4l+C4uOC4oeC4mOC4suC4meC4teC4o+C4suC4ouC4peC4sOC5gOC4reC4teC4ouC4lOC4quC4tOC4meC4hOC5ieC4skJlIEVhc3kg4LiX4Li14LmI4Liq4Li44LiU4LiC4Lit4LiH4LiB4Liy4LmB4Lif4LiE4Lin4Lia4LiE4Li44Lih4LiZ4LmJ4Liz4Lir4LiZ4Lix4LiBIOC5gOC4nuC4teC4ouC4hyA3MCBLY2FsIC0g4LiB4Lij4Liw4LiK4Lix4Lia4Liq4Lix4LiU4Liq4LmI4Lin4LiZIOC5hOC4guC4oeC4seC4meC4quC5iOC4p+C4meC5gOC4geC4tOC4mSAtIOC4lOC4teC4l+C5iuC4reC4geC4i+C5jOC4guC4reC4h+C5gOC4quC4teC4ouC4reC4reC4geC4iOC4suC4geC4o+C5iOC4suC4ouC4geC4suC4oiAtIOC4nOC4tOC4p+C4nuC4o+C4o+C4k+C5gOC4m+C4peC5iOC4h+C4m+C4peC4seC5iOC4hyDguIHguKPguLDguIjguYjguLLguIfguYPguKogLSDguJrguLPguKPguLjguIfguKPguYjguLLguIfguIHguLLguKIg4Lia4Liz4Lij4Li44LiH4Lin4Lih4Lit4LiHIOC4oeC4teC4guC4reC4h+C4nuC4o+C5ieC4reC4oeC4quC5iOC4h+C4leC4peC4reC4lCDguKrguLHguYjguIfguYTguJTguYnguYDguKXguKLguIjguYnguLIg4Lit4LiiLiDguYDguKXguILguJfguLXguYggMTMtMi0wMzY1Ny0yLTAwNTQg4LiB4Liy4LmB4Lif4Lia4Li14Lit4Li14LiL4Li14LmIIOC4geC4peC4tOC5iOC4meC4q+C4reC4oSDguKPguKrguIrguLLguJXguLQg4LiB4Lil4Lih4LiB4Lil4LmI4Lit4LihIOKAnOC4hOC4suC4m+C4ueC4iuC4tOC5guC4meC5iOKAneC4meC4uOC5iOC4oeC5huC4peC4sOC4oeC4uOC4meC4peC4tOC5ieC4mSAxIOC4q+C5iOC4rSDguKHguLUgMTAg4LiL4Lit4LiHIOC5g+C4q+C5ieC4leC4suC4ouC5gOC4luC4reC4sCEg4LiB4Liy4LmB4Lif4Lia4LmJ4Liy4Lit4Liw4LmE4Lij4Lii4Li04LmI4LiH4LiU4Li34LmI4Lih4Lii4Li04LmI4LiH4Lir4Li44LmI4LiZ4LiU4Li1ISDguJnguYnguLPguKvguJnguLHguIHguKXguJQg4LmA4Lit4Lin4LiZ4Li14LmI4Lir4LiU4Lil4LiH4LiX4Li44LiB4Lin4Lix4LiZ4LmGISDguYLguITguKPguJXguKvguK3guKEg4LmC4LiE4Lij4LiV4Lit4Lij4LmI4Lit4LiiIOC5guC4hOC4o+C4leC4geC4peC4oeC4geC4peC5iOC4reC4oSDguKXguK3guIfguKrguLTguYHguKXguYnguKfguITguLjguJPguIjguLDguJXguLTguJTguYPguIghICPguIHguLLguYHguJ/guJrguLXguK3guLXguIvguLXguYggI+C4geC4suC5geC4n+C4meC4suC4h+C4muC4tSAjQmVlYXN5Y2FwcHVjY2lubycpKQogICAgLy8gdmFyIHVybCA9ICdmaWxlOi8vL1VzZXJzL3Bvbm5pcGEvRG9jdW1lbnRzL0dpdEh1Yi9zaG9waHRtbC8lRjAlOUYlOEQlOTIlMjAoJUUwJUI4JTgyJUUwJUI4JUFEJUUwJUI4JTg3JUUwJUI5JTgxJUUwJUI4JTk3JUUwJUI5JTg5MTAwJTI1KSUyMEplbGx5JTIwRmliZXIlMjAlRTAlQjklODAlRTAlQjglODglRTAlQjglQTUlRTAlQjglQTUlRTAlQjglQjUlRTAlQjklODglRTAlQjklODQlRTAlQjglOUYlRTAlQjklODAlRTAlQjglOUElRTAlQjglQUQlRTAlQjglQTMlRTAlQjklOEMlMjAlRTAlQjglQTUlRTAlQjglOTQlRTAlQjglOUUlRTAlQjglQjglRTAlQjglODclMjAlRTAlQjglQTUlRTAlQjglOTQlRTAlQjglOTklRTAlQjklODklRTAlQjglQjMlRTAlQjglQUIlRTAlQjglOTklRTAlQjglQjElRTAlQjglODElMjAxJUUwJUI4JTgxJUUwJUI4JUE1JUUwJUI5JTg4JUUwJUI4JUFEJUUwJUI4JTg3XzUlMjAlRTAlQjglOEIlRTAlQjglQUQlRTAlQjglODclMjBfJTIwU2hvcGVlJTIwVGhhaWxhbmQuaHRtbCcKICAgIC8vIFByb2R1Y3RzU2VydmljZS5zY3JhcGluZyh1cmwpLnRoZW4oKHJlcyk9PnsKICAgIC8vICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgLy8gfSkKICB9LAp9Owo="},{"version":3,"sources":["Import.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Import.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\" style=\"height: 600px\">\n    <div class=\"form-group mt-5\">\n\n      <label for=\"exampleFormControlTextarea1\">URL</label>\n      <textarea v-model=\"url\" class=\"form-control\" id=\"exampleFormControlTextarea1\" rows=\"7\"></textarea>\n    </div>\n    <button @click=\"search()\" type=\"submit\" class=\"mb-3 btn btn-success\">\n      ค้นหา\n    </button>\n    <!-- <div class=\"form-group mt-5\">\n        <label for=\"exampleFormControlFile1\">นำเข้าไฟล์&nbsp;</label>\n        <input type=\"file\" @change=\"onChangeA1\" class=\"form-control-file\" id=\"exampleFormControlFile1\" />\n      </div> -->\n      <table class=\"table table-bordered\" v-if=\"list.length > 0\">\n      <thead>\n        <tr>\n          <th scope=\"col\" style=\"text-align:center\">เงื่อนไขการตรวจสอบข้อที่ 1</th>\n          <th scope=\"col\" style=\"text-align:center\">ข้อมูลจากฐานข้อมูลอย.</th>\n          <th scope=\"col\" style=\"text-align:center\">ข้อมูลจากเว็บไซต์</th>\n          <th scope=\"col\" style=\"text-align:center\">ผลการตรวจสอบ</th>\n          <th scope=\"col\" style=\"text-align:center\">ข้อสรุป</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td :style=\"colorfda\">เลขที่อนุญาต</td>\n          <td :style=\"colorfda\">{{ list[0].fda }}</td>\n          <td :style=\"colorfda\">{{ list[0].fda }}</td>\n          <td :style=\"colorfda\">{{ list[0].list.cncnm }}</td>\n          <td v-if=\"statusfda && statuscat && statusname\" rowspan=\"3\" style=\"text-align: center;vertical-align: middle;background-color:#a3e9a4\">\n          <span>ผ่าน</span>{{ updatestatusfda() }}</td>\n          <td v-else rowspan=\"3\" style=\"text-align: center;vertical-align: middle;background-color:#f9bdbb\">\n          <span>ไม่ผ่าน</span>{{ updatestatusfda() }}</td>\n        </tr>\n        <tr>\n          <td :style=\"colorcat\">ประเภทผลิตภัณฑ์</td>\n          <td :style=\"colorcat\">{{ type}}</td>\n          <td :style=\"colorcat\"><span v-html=\"matchcategory\"></span></td>\n          <td :style=\"colorcat\"><span v-if=\"statuscat\">ผ่าน</span><span v-else>ไม่ผ่าน</span></td>\n        </tr>\n        <tr>\n          <td :style=\"colorname\">ชื่อผลิตภัณฑ์</td>\n          <td :style=\"colorname\">{{ list[0].list.productha }}<br/>{{ list[0].list.produceng }}</td>\n          <td :style=\"colorname\"><span v-html=\"matchname\"></span></td>\n          <td :style=\"colorname\"><span v-if=\"statusname\">ผ่าน</span><span v-else>ไม่ผ่าน</span></td>\n        </tr>\n      </tbody>\n      </table>\n    <table class=\"table mt-3\" v-if=\"list.length > 0\">\n      <thead>\n        <tr>\n          <th scope=\"col\">สินค้า</th>\n          <th scope=\"col\">ข้อมูล</th>\n          <th scope=\"col\">FDA</th>\n          <th scope=\"col\">ตัดคำ</th>\n          <th scope=\"col\">ข้อมูลจากฐานข้อมูลอย.</th>\n          <!-- <th scope=\"col\"></th> -->\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"(l, i) in list\" :key=\"i\">\n          <td :style=\"l.bg\"><img :src=\"imagelists\" style=\"width:100%\">{{ l.name }}</td>\n          <td :style=\"l.bg\">{{ l.detail }}</td>\n          <!-- <td :style=\"l.bg\">\n              <div class=\"row\">\n          <div class=\"col-md-2\" v-for=\"(im ,i) in imagelists\" :key=\"i\">\n            <img :src=\"im\" width=\"100%\"/>\n          </div>\n        </div>\n            </td> -->\n          <td :style=\"l.bg\" style=\"width:300px\"><div >เลขที่อนุญาต : <span style=\"color:red\">{{ l.fda }}</span><br/>\n            ชื่อผลิตภัณฑ์: <span v-html=\"matchname\"></span>\n           </div></td>\n          <td :style=\"l.bg\"><div v-html=\"cut(tokenize)\"></div></td>\n          <td style=\"background-color:#BDEDFF\" v-if=\"l.status == 1\">\n            <p class=\"card-text\">สถานะ : {{ l.list.cncnm }}</p>\n            <p class=\"card-text\">ประเภทผลิตภัณฑ์ :<span style=\"color:red\"> {{ l.list.typepro }}</span></p>\n            <p class=\"card-text\">ใบสำคัญ/เลขที่อนุญาต : <span style=\"color:red\"> {{ l.list.lcnno }}</span></p>\n            <p class=\"card-text\">ชื่อผลิตภัณฑ์ (TH) : <span style=\"color:red\"> {{ l.list.productha }}</span></p>\n            <p class=\"card-text\">ชื่อผลิตภัณฑ์ (EN) : <span style=\"color:red\"> {{ l.list.produceng }}</span></p>\n            <p class=\"card-text\">ชื่อผู้รับอนุญาต : {{ l.list.licen }}</p>\n            <p class=\"card-text\">สถานที่ผลิต : {{ l.list.Addr }}</p>\n            <p class=\"card-text\">Newcode : {{ l.list.Newcode }}</p>\n          </td>\n          <td :style=\"l.bg\" v-else> ไม่พบข้อมูล</td>\n          <!-- <td :style=\"l.bg\">\n            <i class=\"fa fa-circle\" :style=\"l.icon\" aria-hidden=\"true\"></i>\n          </td> -->\n        </tr>\n      </tbody>\n    </table>\n    <!-- <div v-if=\"status\" >\n<h3 style=\"text-align:center\">กรุณารอสักครู่ ระบบกำลังโหลดข้อมูล</h3>\n      </div> -->\n  </div>\n</template>\n\n<script>\nimport readXlsxFile from \"read-excel-file\";\n// import moment from 'moment'\nimport axios from \"axios\";\nimport ProductsService from '../services/ProductsService.js'\nimport FDATypesService from '../services/FDATypesService'\n\nexport default {\n  name: \"App\",\n  components: {},\n  data() {\n    return {\n      list: [],\n      url: '',\n      file: '',\n      status: false,\n      urlPath: '',\n      imagelists: '',\n      tokenize: '',\n      matchname:'',\n      matchcategory:'',\n      type:'',\n      matchnamesum:'',\n      statusname:0,\n      statuscat:0,\n      statusfda:0,\n      colorname:'background-color:#f9bdbb',\n      colorfda:'background-color:#f9bdbb',\n      colorcat:'background-color:#f9bdbb',\n      id:''\n    };\n  },\n  methods: {\n    updatestatusfda(){\n      // console.log(this.statusfda,this.statuscat,this.statusname)\n      var fda = {\n        }\n      if (this.statusfda && this.statuscat && this.statusname) {\n         fda = {\n          statusfda:true\n        }\n      }else{\n         fda = {\n          statusfda:false\n        }\n      }\n      // console.log(this.list[0].id);\n      ProductsService.updatefdastatus(this.list[0].id,fda).then(()=>{\n        // console.log(res.data);\n      })\n      return ''\n    },\n    checkfdamatch(name,name_real) {\n      this.matchname = ''\n      this.statusname = 0\n          this.colorname = \"background-color:#f9bdbb\"\n       this.matchname = ''\n      axios.get('http://127.0.0.1:5000/matchname?name=' + name+'&&name_real=' + name_real).then((res) => {\n        // console.log(res.data);\n        this.matchname = res.data\n        this.matchnamesum = this.matchname.replaceAll('red','black')\n        if(this.matchname.includes('red')){\n          this.statusname = 1\n          this.colorname = \"background-color:#a3e9a4\"\n        }\n\n\n      });\n    },\n    checkcategorymatch(category,category_real) {\n      // console.log(category_real);\n      // console.log(category);\n       this.matchcategory = ''\n       this.statuscat = 0\n          this.colorcat = \"background-color:#f9bdbb\"\n          \n          if (category_real) {\n      //  console.log('http://127.0.0.1:5000/matchcategory?category=' + category+'&&category_real=' + category_real);\n      axios.get('http://127.0.0.1:5000/matchcategory?category=' + category+'&&category_real=' + category_real).then((res) => {\n        // console.log(res.data);\n        this.matchcategory = res.data\n        // console.log(this.matchcategory.includes('red'));\n        if(this.matchcategory.includes('red')){\n          this.statuscat = 1\n          this.colorcat = \"background-color:#a3e9a4\"\n        }\n      \n      });\n    }\n    },\n    cut(word) {\n      var wo = word.toString()\n      // wo = wo.replaceAll(' ', ' | ')\n      return wo\n    },\n    async gettokenize(words,namereal_result) {\n      // console.log(words);\n      // console.log(namereal_result);\n      axios.get('http://127.0.0.1:5000/worktoken?namereal_result=' + namereal_result+'&&text='+words).then((res) => {\n        // console.log(res.data);\n        this.tokenize = res.data\n      });\n    },\n    getimagefile(id) {\n      this.imagelists = ''\n      axios.get('http://127.0.0.1:5000/base64?id=' + id).then((res) => {\n        // console.log(res.data);\n        this.imagelists = 'data:image/jpeg;base64,'+res.data\n      });\n      \n      // axios.get('http://localhost:8081/getimage?path=' + folder).then((res) => {\n      //   // console.log(res.data);\n      //   for (let im = 0; im < res.data.length; im++) {\n      //     axios.get('http://localhost:8081/img?name=' + res.data[im]).then((res) => {\n      //       // console.log(res.data.base64);\n      //       this.imagelists.push(res.data.base64)\n\n      //     });\n\n      //   }\n        // console.log(this.imagelists);\n        return this.imagelists\n      // })\n    },\n    downloadHtml() {\n      let url = this.urlInput;\n      fetch(url)\n        .then((res) => res.text())\n        .then((html) => this.downloadAsFile(\"report.html\", html));\n    },\n    downloadAsFile(name, text) {\n      const link = this.createDownloadableLink(name, text);\n      const clickEvent = new MouseEvent('click');\n      link.dispatchEvent(clickEvent);\n    },\n    createDownloadableLink(fileName, content) {\n      let link = document.createElement(\"a\");\n      link.download = fileName;\n      link.href = `data:application/octet-stream,${content}`;\n      return link;\n    },\n    //     search(){\n    //       this.list = []\n    //       MenuService.getproduct(this.url).then().then((res)=>{\n    //         console.log(res.data);\n\n    //         var fdalist = []\n    //         var detail = res.data\n    //         // var detail = 'ข้อมูลจำเพาะของสินค้าหมวดหมู่Shopeeกลุ่มผลิตภัณฑ์เพื่อสุขภาพอาหารเสริมเพื่อความงามผิวยี่ห้อGlobal White(โกลบอลไวท์)หน้าที่ของอาหารเสริมสำหรับความงามคอลลาเจน, ผม ผิว และเล็บหมายเลขใบอนุญาต/อย.70-1-27160-5-0268จำนวนสินค้า258ส่งจากจังหวัดปทุมธานีรายละเอียดสินค้าหมายเลขใบอนุญาต/อย.🌼70-1-27160-5-0268อายุการเก็บรักษา 24 เดือน'\n    //             var fda = this.findfda(detail)\n\n    //             fdalist.push({\n    //               detail: detail,\n    //               fda: fda\n    //             })\n    //             for (let f = 0; f < fdalist.length; f++) {\n\n    // const url = \"https://tawaiforhealth.org/api/oryor/check-product\";\n    // const data = { \"number_src\": fdalist[f].fda };\n\n    // const options = {\n    //   method: \"POST\",\n    //   headers: {\n    //     Accept: \"application/json\",\n    //     \"Content-Type\": \"application/json;charset=UTF-8\",\n    //   },\n    //   body: JSON.stringify(data),\n    // };\n\n    // fetch(url, options)\n    //   .then((response) => response.json())\n    //   .then((data) => {\n    //     // console.log(data);\n    //     if (data.message) {\n    //       fdalist[f].status = 0\n    //       fdalist[f].list = []\n    //       fdalist[f].bg = 'background-color:#f9bdbb'\n    //     } else {\n    //       fdalist[f].list = data\n    //       fdalist[f].status = 1\n    //       fdalist[f].bg = 'background-color:#a3e9a4'\n    //       // console.log(data.STATUS_ID.includes(7))\n    //       if (data.cncnm == \"คงอยู่\") {\n    //       fdalist[f].icon = 'color: green'\n\n    //       }else{\n    //       fdalist[f].icon = 'color: red'\n    //       fdalist[f].bg = 'background-color:#f9bdbb'\n    //       }\n    //     }\n\n    //     // console.log(f+1, fdalist.length);\n    //     if (f+1 == fdalist.length) {\n    //  console.log(fdalist); \n    //  this.list = fdalist\n\n    // }\n    //   });\n\n\n    // }\n    //       })\n    //     },\n    search() {\n      console.log(this.url);\n      this.statusname=0,\n      this.statuscat=0,\n      this.statusfda=0,\n      this.colorname='background-color:#f9bdbb',\n      this.colorfda='background-color:#f9bdbb',\n      this.colorcat='background-color:#f9bdbb',\n      this.list = []\n      var data = {\n        url: this.url\n      }\n      ProductsService.findproduct(data).then(async (res) => {\n        // console.log();\n        if (res.data[0].content == '' || res.data.length == 0) {\n          alert('ไม่พบข้อมูลในระบบ')\n        } else {\n          // console.log(res.data[0].content);\n          // console.log(this.tokenize);\n          this.getimagefile(res.data[0].id)\n          var detail = res.data[0].content\n          // var detail = 'ข้อมูลจำเพาะของสินค้าหมวดหมู่Shopeeกลุ่มผลิตภัณฑ์เพื่อสุขภาพอาหารเสริมเพื่อความงามผิวยี่ห้อGlobal White(โกลบอลไวท์)หน้าที่ของอาหารเสริมสำหรับความงามคอลลาเจน, ผม ผิว และเล็บหมายเลขใบอนุญาต/อย.70-1-27160-5-0268จำนวนสินค้า258ส่งจากจังหวัดปทุมธานีรายละเอียดสินค้าหมายเลขใบอนุญาต/อย.🌼70-1-27160-5-0268อายุการเก็บรักษา 24 เดือน'\n          var fda = res.data[0].fda\n          // console.log(fda);\n          var fdalist = []\n          // console.log(res.data[0]);\n// if (fda.length != 12) {\n//   alert('หมายเลขใบอนุญาตไม่ถูกต้อง')\n// }else{\n          fdalist.push({\n            id: res.data[0].id,\n            name: res.data[0].name,\n            detail: detail,\n            fda: fda,\n            cat_name:res.data[0].cat_name\n          })\n          for (let f = 0; f < fdalist.length; f++) {\n\n            const url = \"https://tawaiforhealth.org/api/oryor/check-product\";\n            const data = { \"number_src\": fdalist[f].fda };\n// console.log(data);\n            const options = {\n              method: \"POST\",\n              headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json;charset=UTF-8\",\n              },\n              body: JSON.stringify(data),\n            };\n\n            fetch(url, options)\n              .then((response) => response.json())\n              .then((data) => {\n                // console.log(data);\n                // productha\n                // console.log(data.message);\n                if (data.message) {\n                  data.produceng = ''\n                  data.productha = ''\n                  data.typepro = ''\n                }\n                if (data.length > 1) {\n                  alert('ไม่พบเลขอย.ในเว็บไซต์ของผลิตภัณฑ์นี้')\n                }\n                  this.checkfdamatch(fdalist[f].name,data.productha+data.produceng)\n\n                // console.log(fdalist[f].detail);\n                var cat = this.findcategory(fdalist[f].detail)\n                // console.log(cat);\n                var fdatype = this.fdatype(data.typepro)\n                fdatype = fdatype.replaceAll(' ','')\n                // console.log(fdatype);    \n                var name = data.productha.replaceAll('ผลิตภัณฑ์','')\n                this.type = fdatype\n                // console.log(this.type);\n                // console.log(data.typepro);\n                if (this.type == '') {\n                  if (data.typepro) {\n                    this.type = data.typepro\n                    fdatype = data.typepro\n                  }\n                }\n                // console.log(fdatype);\n                FDATypesService.getfdatypes(fdatype).then(()=>{\n                  // console.log(res.data);\n                  if (res.data.length == 0) {\n                    var cattype = {\n                      name:fdatype\n                    }\n                    FDATypesService.createfdatype(cattype).then(()=>{\n                      // console.log(res.data);\n                    })\n                  }\n                })\n                this.checkcategorymatch(cat,fdatype)\n                this.gettokenize(res.data[0].content,fdatype+name+data.produceng)\n                if (!data.lcnno) {\n                  fdalist[f].status = 0\n                  fdalist[f].list = []\n                  fdalist[f].bg = 'background-color:#f9bdbb'\n                } else {\n                  fdalist[f].list = data\n                  fdalist[f].status = 1\n                  fdalist[f].bg = 'background-color:#a3e9a4'\n                  // console.log(data.STATUS_ID.includes(7))\n                  if (data.cncnm == \"คงอยู่\") {\n                    this.statusfda = 1\n                    this.colorfda = \"background-color:#a3e9a4\"\n                    fdalist[f].icon = 'color: green'\n\n                  } else {\n                    fdalist[f].icon = 'color: red'\n                    fdalist[f].bg = 'background-color:#f9bdbb'\n                  }\n                  \n\n                }\n\n                // console.log(f+1, fdalist.length);\n                if (f + 1 == fdalist.length) {\n                  // console.log(fdalist);\n                  this.list = fdalist\n\n                }\n                \n                // console.log(this.list);\n              });\n\n\n          }\n        }\n      // }\n      })\n    },\n    searchbyfda() {\n      this.statusname=0,\n      this.statuscat=0,\n      this.statusfda=0,\n      this.colorname='background-color:#f9bdbb',\n      this.colorfda='background-color:#f9bdbb',\n      this.colorcat='background-color:#f9bdbb',\n      this.list = []\n      ProductsService.getproduct(this.id).then(async (res) => {\n        // console.log(res.data);\n        if (res.data.content == '' || res.data.length == 0) {\n          alert('ไม่พบข้อมูลในระบบ')\n        } else {\n          // console.log(res.data[0].content);\n          // console.log(this.tokenize);\n          this.getimagefile(res.data.id)\n          var detail = res.data.content\n          // var detail = 'ข้อมูลจำเพาะของสินค้าหมวดหมู่Shopeeกลุ่มผลิตภัณฑ์เพื่อสุขภาพอาหารเสริมเพื่อความงามผิวยี่ห้อGlobal White(โกลบอลไวท์)หน้าที่ของอาหารเสริมสำหรับความงามคอลลาเจน, ผม ผิว และเล็บหมายเลขใบอนุญาต/อย.70-1-27160-5-0268จำนวนสินค้า258ส่งจากจังหวัดปทุมธานีรายละเอียดสินค้าหมายเลขใบอนุญาต/อย.🌼70-1-27160-5-0268อายุการเก็บรักษา 24 เดือน'\n          var fda = res.data.fda\n          // console.log(fda);\n          var fdalist = []\n          // console.log(res.data);\n// if (fda.length != 12) {\n//   alert('หมายเลขใบอนุญาตไม่ถูกต้อง')\n// }else{\n  this.url = res.data.url\n          fdalist.push({\n            id: res.data.id,\n            name: res.data.name,\n            detail: detail,\n            fda: fda,\n            cat_name:res.data.cat_name\n          })\n          for (let f = 0; f < fdalist.length; f++) {\n\n            const url = \"https://tawaiforhealth.org/api/oryor/check-product\";\n            const data = { \"number_src\": fdalist[f].fda };\n// console.log(data);\n            const options = {\n              method: \"POST\",\n              headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json;charset=UTF-8\",\n              },\n              body: JSON.stringify(data),\n            };\n\n            fetch(url, options)\n              .then((response) => response.json())\n              .then((data) => {\n                // console.log(data);\n                // productha\n                // console.log(data.message);\n                if (data.message) {\n                  data.produceng = ''\n                  data.productha = ''\n                  data.typepro = ''\n                }\n                if (data.length > 1) {\n                  alert('ไม่พบเลขอย.ในเว็บไซต์ของผลิตภัณฑ์นี้')\n                }\n                  this.checkfdamatch(fdalist[f].name,data.productha+data.produceng)\n\n                // console.log(fdalist[f].detail);\n                var cat = this.findcategory(fdalist[f].detail)\n                // console.log(cat);\n                var fdatype = this.fdatype(data.typepro)\n                fdatype = fdatype.replaceAll(' ','')\n                // console.log(fdatype);    \n                var name = data.productha.replaceAll('ผลิตภัณฑ์','')\n                this.type = fdatype\n                // console.log(this.type);\n                // console.log(data.typepro);\n                if (this.type == '') {\n                  if (data.typepro) {\n                    this.type = data.typepro\n                    fdatype = data.typepro\n                  }\n                }\n                // console.log(fdatype);\n                FDATypesService.getfdatypes(fdatype).then(()=>{\n                  // console.log(res.data);\n                  if (res.data.length == 0) {\n                    var cattype = {\n                      name:fdatype\n                    }\n                    FDATypesService.createfdatype(cattype).then(()=>{\n                      // console.log(res.data);\n                    })\n                  }\n                })\n                this.checkcategorymatch(cat,fdatype)\n                this.gettokenize(res.data.content,fdatype+name+data.produceng)\n                if (!data.lcnno) {\n                  fdalist[f].status = 0\n                  fdalist[f].list = []\n                  fdalist[f].bg = 'background-color:#f9bdbb'\n                } else {\n                  fdalist[f].list = data\n                  fdalist[f].status = 1\n                  fdalist[f].bg = 'background-color:#a3e9a4'\n                  // console.log(data.STATUS_ID.includes(7))\n                  if (data.cncnm == \"คงอยู่\") {\n                    this.statusfda = 1\n                    this.colorfda = \"background-color:#a3e9a4\"\n                    fdalist[f].icon = 'color: green'\n\n                  } else {\n                    fdalist[f].icon = 'color: red'\n                    fdalist[f].bg = 'background-color:#f9bdbb'\n                  }\n                  \n\n                }\n\n                // console.log(f+1, fdalist.length);\n                if (f + 1 == fdalist.length) {\n                  // console.log(fdalist);\n                  this.list = fdalist\n\n                }\n                \n                // console.log(this.list);\n              });\n\n\n          }\n        }\n      // }\n      })\n    },\n    onChangeA1(event) {\n      this.list = []\n      this.file = event.target.files ? event.target.files[0] : null;\n      // var c = '☕️[พร้อมส่ง] Cal s Coffee by Primaya กาแฟแคลเอส โกโก้แคลเอส ชาไทยแคลเอส 1 กล่อง 10 ซองน้ำหนักรักษาสัดส่วนหมายเลขอย./ใบอนุญาต1310176020080ลักษณะผงจำนวนสินค้า392ส่งจากเขตดอนเมือง, จังหวัดกรุงเทพมหานคร'\n      // console.log(this.findfda(c))\n      var fdalist = []\n      if (this.file) {\n        this.status = true\n        readXlsxFile(event.target.files[0]).then(async (excel) => {\n          // console.log(excel);\n          for (let i = 1; i < excel.length; i++) {\n            // console.log(data[i][0]);\n            var detail = excel[i][0]\n            var fda = this.findfda(detail)\n\n            fdalist.push({\n              detail: detail,\n              fda: fda\n            })\n            if (i + 1 == excel.length) {\n              // console.log(fdalist);\n              for (let f = 0; f < fdalist.length; f++) {\n\n                const url = \"https://tawaiforhealth.org/api/oryor/check-product\";\n                const data = { \"number_src\": fdalist[f].fda };\n\n                const options = {\n                  method: \"POST\",\n                  headers: {\n                    Accept: \"application/json\",\n                    \"Content-Type\": \"application/json;charset=UTF-8\",\n                  },\n                  body: JSON.stringify(data),\n                };\n\n                await fetch(url, options)\n                  .then((response) => response.json())\n                  .then((data) => {\n                    // console.log(data);\n                    if (data.message) {\n                      fdalist[f].status = 0\n                      fdalist[f].list = []\n                      fdalist[f].bg = 'background-color:#f9bdbb'\n                    } else {\n                      fdalist[f].list = data\n                      fdalist[f].status = 1\n                      fdalist[f].bg = 'background-color:#a3e9a4'\n                      // console.log(data.STATUS_ID.includes(7))\n                      if (data.cncnm == \"คงอยู่\") {\n                        fdalist[f].icon = 'color: green'\n\n                      } else {\n                        fdalist[f].icon = 'color: red'\n                        fdalist[f].bg = 'background-color:#f9bdbb'\n                      }\n                    }\n\n                    // console.log(f+1, fdalist.length);\n                    if (f + 1 == fdalist.length) {\n                      // console.log(fdalist);\n                      this.list = fdalist\n                      this.status = false\n                    }\n                  });\n\n\n              }\n            }\n          }\n        });\n      }\n      this.file = ''\n    },\n    findcategory(data){\n      // console.log(data);\n      var text = ['หมวดหมู่']\n      var end = ['ยี่ห้อ','ประเทศ']\n      var findfda = data\n      for (let t = 0; t < end.length; t++) {\n        if (findfda.indexOf(end[t]) != -1) {\n          findfda = findfda.substring(findfda.indexOf(text[0]),findfda.indexOf(end[t]));    \n        }\n\n      }\n      // if (findfda == 'อาหาร') {\n      //   findfda = findfda+ findfda+'เสริม'\n      // }\n      // console.log(findfda);\n      return findfda\n    },\n    fdatype(data){\n      // console.log(data);\n      if (data) {\n        var text = ['(']\n      var findfda = data\n      for (let t = 0; t < text.length; t++) {\n        findfda = findfda.substring(findfda.indexOf(0),findfda.indexOf(text[0]));\n\n      }\n      }else{\n        findfda = ''\n      }\n      return findfda\n    },\n    findfda(data) {\n      var text = ['หมายเลขใบอนุญาต/อย.']\n      var end = ['จำนวน']\n      var findfda = data\n      for (let t = 0; t < text.length; t++) {\n        findfda = findfda.substring(findfda.indexOf(text[t]),findfda.indexOf(end[0]));\n\n      }\n      // console.log(findfda);\n\n      findfda = findfda.replaceAll(\"หมายเลขใบอนุญาต/อย.\", \"\");\n      findfda = findfda.replaceAll(\"-\", \"\");\n      findfda = findfda.replaceAll(\"–\", \"\");\n      // console.log(findfda);\n      // var regex = /\\d+/g;\n      // var matches = findfda.match(regex);  // creates array from matches\n      // console.log(matches[0]);\n      return findfda\n    },\n    loaddata(fda) {\n      const url = \"https://tawaiforhealth.org/api/oryor/check-product\";\n      const data = { \"number_src\": fda };\n\n      const options = {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json;charset=UTF-8\",\n        },\n        body: JSON.stringify(data),\n      };\n\n      fetch(url, options)\n        .then((response) => response.json())\n        .then((data) => {\n          // console.log(data);\n          return data\n        });\n    },\n    async checkfda(fda) {\n      window.open(\n        \"/detail/\" + fda,\n        \"_blank\" // <- This is what makes it open in a new window.\n      );\n    }\n  },\n  mounted() {\n    // console.log(this.$route.query.id);\n   \n    if (this.$route.query.id) {\n      this.id = this.$route.query.id\n//       var cuturl = this.$route.query.url.split('/')\n//       var l = this.$route.query.url.split('?')\n//       console.log(l);\n//       console.log(cuturl);\n//       // console.log(encodeURIComponent(cuturl[3]));\n//       var encodeurl = encodeURIComponent(cuturl[3])\n//       var lencode = encodeurl.split('%3Fsp_atk%') \n//       console.log(lencode);\n// this.url = 'https://shopee.co.th/'+encodeURIComponent(lencode[0])+\"?\"+l[1]\n// console.log(this.url);\n      this.searchbyfda()\n    }\n    // console.log(this.findcategory('ข้อมูลจำเพาะของสินค้าหมวดหมู่Shopeeอาหารและเครื่องดื่มเครื่องดื่มกาแฟยี่ห้อBe Easy(บีอีซี่)เครื่องดื่ม3-in-1 และกาแฟสำเร็จรูปอายุการเก็บรักษา24 เดือนน้ำหนัก150gวันหมดอายุ08-12-2023หมายเลขใบอนุญาต/อย.13-2-03657-2-0054จำนวนสินค้า95ส่งจากจังหวัดปทุมธานีรายละเอียดสินค้าBe Easy ที่สุดของกาแฟควบคุมน้ำหนัก เพียง 70 Kcal - กระชับสัดส่วน ไขมันส่วนเกิน - ดีท๊อกซ์ของเสียออกจากร่ายกาย - ผิวพรรณเปล่งปลั่ง กระจ่างใส - บำรุงร่างกาย บำรุงวมอง มีของพร้อมส่งตลอด สั่งได้เลยจ้า อย. เลขที่ 13-2-03657-2-0054 กาแฟบีอีซี่ กลิ่นหอม รสชาติ กลมกล่อม “คาปูชิโน่”นุ่มๆละมุนลิ้น 1 ห่อ มี 10 ซอง ให้ตายเถอะ! กาแฟบ้าอะไรยิ่งดื่มยิ่งหุ่นดี! น้ำหนักลด เอวนี่หดลงทุกวันๆ! โครตหอม โครตอร่อย โครตกลมกล่อม ลองสิแล้วคุณจะติดใจ! #กาแฟบีอีซี่ #กาแฟนางบี #Beeasycappuccino'))\n    // var url = 'file:///Users/ponnipa/Documents/GitHub/shophtml/%F0%9F%8D%92%20(%E0%B8%82%E0%B8%AD%E0%B8%87%E0%B9%81%E0%B8%97%E0%B9%89100%25)%20Jelly%20Fiber%20%E0%B9%80%E0%B8%88%E0%B8%A5%E0%B8%A5%E0%B8%B5%E0%B9%88%E0%B9%84%E0%B8%9F%E0%B9%80%E0%B8%9A%E0%B8%AD%E0%B8%A3%E0%B9%8C%20%E0%B8%A5%E0%B8%94%E0%B8%9E%E0%B8%B8%E0%B8%87%20%E0%B8%A5%E0%B8%94%E0%B8%99%E0%B9%89%E0%B8%B3%E0%B8%AB%E0%B8%99%E0%B8%B1%E0%B8%81%201%E0%B8%81%E0%B8%A5%E0%B9%88%E0%B8%AD%E0%B8%87_5%20%E0%B8%8B%E0%B8%AD%E0%B8%87%20_%20Shopee%20Thailand.html'\n    // ProductsService.scraping(url).then((res)=>{\n    //   console.log(res.data);\n    // })\n  },\n};\n</script>\n\n<style>\nhtml,\nbody {\n  height: 100%;\n  margin: 0px;\n}\n</style>\n"]}]}