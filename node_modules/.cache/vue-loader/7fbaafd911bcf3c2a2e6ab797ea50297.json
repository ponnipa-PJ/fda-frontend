{"remainingRequest":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ponnipa/Documents/GitHub/fda-frontend/src/components/typesproduct.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/src/components/typesproduct.vue","mtime":1701134301180},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1687492401267},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1687492401222},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/babel-loader/lib/index.js","mtime":1687492401655},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1687492401267},{"path":"/Users/ponnipa/Documents/GitHub/fda-frontend/node_modules/vue-loader/lib/index.js","mtime":1687492401738}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgUHJvZHVjdFR5cGVzU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9Qcm9kdWN0VHlwZXNTZXJ2aWNlJwoKY29uc3QgY3VzdG9tTGFiZWxzID0gewogIGZpcnN0OiAiPDwiLAogIGxhc3Q6ICI+PiIsCiAgcHJldmlvdXM6ICI8IiwKICBuZXh0OiAiPiIsCn07CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFwcCIsCiAgY29tcG9uZW50czoge30sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHR5cGU6IDAsCiAgICAgIGxpc3Q6IFtdLAogICAgICB1cmw6JycsCiAgICAgIGZpbGU6JycsCiAgICAgIHN0YXR1czpmYWxzZSwKICAgICAgdXJsUGF0aDonJywKICAgICAgdGl0bGU6JycsCiAgICAgIGRhdGE6e30sCiAgICAgIHByb19pZDowLAogICAgICBjYXRlZ29yeTpbXSwKICAgICAgcGFnZU9mSXRlbXM6IFtdLAogICAgICBjdXN0b21MYWJlbHMsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgb25DaGFuZ2VQYWdlKHBhZ2VPZkl0ZW1zKSB7CiAgICAgIC8vIHVwZGF0ZSBwYWdlIG9mIGl0ZW1zCiAgICAgIHRoaXMucGFnZU9mSXRlbXMgPSBwYWdlT2ZJdGVtczsKICAgICAgd2luZG93LnNjcm9sbFRvKDAsMCk7CiAgICB9LAogICAgZGVsZXRlU2NvcHVzKCl7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucHJvX2lkKTsKICAgICAgUHJvZHVjdFR5cGVzU2VydmljZS5kZWxldGV0eXBlX3Byb2R1Y3QodGhpcy5wcm9faWQpLnRoZW4oKCk9PnsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNsb3NlZERlbGV0ZVNjb3B1cyIpLmNsaWNrKCk7CiAgICAgICAgdGhpcy5nZXRjYXRlZ29yeSgpOwogICAgICAgIGFsZXJ0KCfguJrguLHguJnguJfguLbguIHguKrguLPguYDguKPguYfguIgnKQogICAgICB9KQogICAgfSwKICAgIHNhdmUoKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZGF0YSk7CiAgICAgIGlmICh0aGlzLmRhdGEubmFtZSA9PSBudWxsIHx8IHRoaXMuZGF0YS5jYXRfaWQgPT0gIiIpIHsKICAgICAgICBhbGVydCgi4LiB4Lij4Li44LiT4Liy4LiB4Lij4Lit4LiB4Lib4Lij4Liw4LmA4Lig4LiX4Lic4Lil4Li04LiV4Lig4Lix4LiT4LiR4LmMIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHByb2RhdGEgPSB7CiAgICAgICAgICBuYW1lOiB0aGlzLmRhdGEubmFtZSwKICAgICAgICAgIHN0YXR1czoxLAogICAgICAgIH07CiAgICAgICAgY29uc29sZS5sb2cocHJvZGF0YSk7CiAgICAgICAgaWYgKHRoaXMucHJvX2lkID09IDApIHsKICAgICAgICAgIFByb2R1Y3RUeXBlc1NlcnZpY2UuY3JlYXRldHlwZV9wcm9kdWN0KHByb2RhdGEpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSApOwogICAgICAgICAgICBpZiAocmVzLmRhdGEuZXJyID09IDEwNjIpIHsKICAgICAgICAgICAgICBhbGVydCgn4Lih4Li14LiE4Liz4LiZ4Li14LmJ4LmD4LiZ4Lij4Liw4Lia4Lia4LmB4Lil4LmJ4LinJykKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIC8vIFJ1bGVCYXNlZFNlcnZpY2UuY3JlYXRlZGNvbHVtbnJ1bGVfYmFzZWQocmVzLmRhdGEuaWQpLnRoZW4oKCkgPT4gewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2xvc2VkY2F0ZWdvcnkiKS5jbGljaygpOwogICAgICAgICAgICB0aGlzLmdldGNhdGVnb3J5KCk7CiAgICAgICAgICAgIGFsZXJ0KCfguJrguLHguJnguJfguLbguIHguKrguLPguYDguKPguYfguIgnKQogICAgICAgICAgICAKICAgICAgICAgIC8vIH0pOwogICAgICAgIH0KICAgICAgICAgICAgLy8gICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgIC8vIH0sIDUwMCk7CiAgICAgICAgICAgIC8vIHdpbmRvdy5zY3JvbGxUbygwLCAwKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBQcm9kdWN0VHlwZXNTZXJ2aWNlLnVwZGF0ZXR5cGVfcHJvZHVjdCh0aGlzLnByb19pZCwgcHJvZGF0YSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNsb3NlZGNhdGVnb3J5IikuY2xpY2soKTsKICAgICAgICAgICAgdGhpcy5nZXRjYXRlZ29yeSgpOwogICAgICAgICAgICBhbGVydCgn4Lia4Lix4LiZ4LiX4Li24LiB4Liq4Liz4LmA4Lij4LmH4LiIJykKICAgICAgICAgICAgLy8gICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgIC8vIH0sIDUwMCk7CiAgICAgICAgICAgIC8vIHdpbmRvdy5zY3JvbGxUbygwLCAwKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGdldGNhdGVnb3J5KCl7CiAgICAgIFByb2R1Y3RUeXBlc1NlcnZpY2UuZ2V0dHlwZXNfcHJvZHVjdCgpLnRoZW4oKHJlcyk9PnsKICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgdGhpcy5saXN0ID0gcmVzLmRhdGEKICAgICAgfSkKICAgIH0sCiAgICBnZXRpZChpZCkgewogICAgICAvLyBjb25zb2xlLmxvZyhpZCk7CiAgICAgIHRoaXMucHJvX2lkID0gaWQ7CiAgICAgIGlmICh0aGlzLnByb19pZCAhPSAwKSB7CiAgICAgICAgdGhpcy50aXRsZSA9ICLguYHguIHguYnguYTguILguJvguKPguLDguYDguKDguJfguJzguKXguLTguJXguKDguLHguJPguJHguYwiOwogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudXNlcl9pZCk7CiAgICAgICAgUHJvZHVjdFR5cGVzU2VydmljZS5nZXR0eXBlX3Byb2R1Y3QodGhpcy5wcm9faWQpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAgICAgdGhpcy5kYXRhID0gcmVzLmRhdGE7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy50aXRsZSA9ICLguYDguJ7guLTguYjguKHguJvguKPguLDguYDguKDguJfguJzguKXguLTguJXguKDguLHguJPguJHguYwiOwogICAgICAgIHRoaXMuZGF0YSA9IFtdOwogICAgICB9CiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0Y2F0ZWdvcnkoKQovLyAgICAgdmFyIGNvcnB1cz0KLy8gICAgIHsKLy8gZGljdDEgOiAxCi8vICAgICB9Ci8vICAgICBSdWxlQmFzZWRTZXJ2aWNlLmNyZWF0ZXJ1bGVfYmFzZWQoY29ycHVzKS50aGVuKChyZXMpID0+IHsKLy8gICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwovLyAgICAgfSk7CiAgfSwKfTsK"},{"version":3,"sources":["typesproduct.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyIA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"typesproduct.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container mt-5\">\n    <div style=\"text-align:right\"> <button @click=\"getid(0)\"\n          data-bs-toggle=\"modal\"\n          data-bs-target=\"#AddScopus\"\n           type=\"submit\" class=\"mb-3 btn btn-success\">\n      <i class=\"fa fa-plus\" aria-hidden=\"true\"></i>\n    </button></div>\n      <table class=\"table\" v-if=\"list.length > 0\" width=\"100%\">\n        <thead>\n          <tr>\n            <th scope=\"col\">#</th>\n            <th scope=\"col\">ประเภทผลิตภัณฑ์</th>\n            <th scope=\"col\"></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"(l, i) in pageOfItems\" :key=\"i\">\n            <td :style=\"l.bg\">{{ l.id }}</td>\n            <td :style=\"l.bg\">{{ l.name }}</td>\n            <td>\n            <a @click=\"getid(l.id)\">\n              <button\n                type=\"button\"\n                class=\"btn btn-warning\"\n                data-bs-toggle=\"modal\"\n                data-bs-target=\"#AddScopus\"\n              >\n                <i class=\"fa fa-edit\"></i></button\n            ></a>&nbsp;\n            <a @click=\"getid(l.id)\">\n              <button\n                type=\"button\"\n                class=\"btn btn-danger\"\n                data-bs-toggle=\"modal\"\n                data-bs-target=\"#DeleteScopus\"\n              >\n                <i class=\"fa fa-trash\"></i></button\n            ></a>\n          </td>\n          </tr>\n        </tbody>\n      </table>\n      <div class=\"row\" align=\"right\">\n        <div class=\"col-md-12 mb-5 mt-3\">\n          <jw-pagination\n            :items=\"list\"\n            @changePage=\"onChangePage\"\n            :labels=\"customLabels\"\n            :pageSize=\"20\"\n          ></jw-pagination>\n        </div>\n      </div>\n      <div v-if=\"list.length == 0\" class=\"mt-5\">\n<h3 style=\"text-align:center\">ไม่พบข้อมูล</h3>\n      </div>\n  <!-- Modal -->\n  <div\n      class=\"modal fade\"\n      id=\"AddScopus\"\n      tabindex=\"-1\"\n      aria-labelledby=\"exampleModalLabel\"\n      aria-hidden=\"true\"\n    >\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{ title }}</h5>\n            \n          </div>\n          <div class=\"modal-body\">\n            <form>\n              <div class=\"card-body mt-3\">\n                <div class=\"form-group mt-3\">\n                  <label>ประเภทผลิตภัณฑ์</label>\n                  <input\n                    v-model=\"data.name\"\n                    type=\"text\"\n                    min=\"1\"\n                    class=\"form-control form-control-sm\"\n                  />\n                </div>\n              </div>\n            </form>\n          </div>\n          <div class=\"modal-footer mt-3\">\n            <button type=\"button\" class=\"btn btn-success\" @click=\"save()\">\n              บันทึก\n            </button>\n            <button\n            id=\"closedcategory\"\n              type=\"button\"\n              class=\"btn btn-secondary\"\n              data-bs-dismiss=\"modal\"\n            >\n              ปิด\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- Modal -->\n  <div\n      class=\"modal fade\"\n      id=\"DeleteScopus\"\n      tabindex=\"-1\"\n      aria-labelledby=\"exampleModalLabel\"\n      aria-hidden=\"true\"\n    >\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">ยืนยันการลบประเภทผลิตภัณฑ์</h5>\n            \n          </div>\n         \n          <div class=\"modal-footer mt-3\">\n            <button type=\"button\" class=\"btn btn-success\" @click=\"deleteScopus()\">\n              ยืนยัน\n            </button>\n            <button\n            id=\"closedDeleteScopus\"\n              type=\"button\"\n              class=\"btn btn-secondary\"\n              data-bs-dismiss=\"modal\"\n            >\n              ยกเลิก\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport ProductTypesService from '../services/ProductTypesService'\n\nconst customLabels = {\n  first: \"<<\",\n  last: \">>\",\n  previous: \"<\",\n  next: \">\",\n};\n\nexport default {\n  name: \"App\",\n  components: {},\n  data() {\n    return {\n      type: 0,\n      list: [],\n      url:'',\n      file:'',\n      status:false,\n      urlPath:'',\n      title:'',\n      data:{},\n      pro_id:0,\n      category:[],\n      pageOfItems: [],\n      customLabels,\n    };\n  },\n  methods: {\n    onChangePage(pageOfItems) {\n      // update page of items\n      this.pageOfItems = pageOfItems;\n      window.scrollTo(0,0);\n    },\n    deleteScopus(){\n      // console.log(this.pro_id);\n      ProductTypesService.deletetype_product(this.pro_id).then(()=>{\n        // console.log(res.data);\n        document.getElementById(\"closedDeleteScopus\").click();\n        this.getcategory();\n        alert('บันทึกสำเร็จ')\n      })\n    },\n    save() {\n      console.log(this.data);\n      if (this.data.name == null || this.data.cat_id == \"\") {\n        alert(\"กรุณากรอกประเภทผลิตภัณฑ์\");\n      } else {\n        var prodata = {\n          name: this.data.name,\n          status:1,\n        };\n        console.log(prodata);\n        if (this.pro_id == 0) {\n          ProductTypesService.createtype_product(prodata).then((res) => {\n            console.log(res.data );\n            if (res.data.err == 1062) {\n              alert('มีคำนี้ในระบบแล้ว')\n            }else{\n            // RuleBasedService.createdcolumnrule_based(res.data.id).then(() => {\n            document.getElementById(\"closedcategory\").click();\n            this.getcategory();\n            alert('บันทึกสำเร็จ')\n            \n          // });\n        }\n            //       setTimeout(function () {\n            //   location.reload();\n            // }, 500);\n            // window.scrollTo(0, 0);\n          });\n        } else {\n          ProductTypesService.updatetype_product(this.pro_id, prodata).then(() => {\n            // console.log(res.data);\n            document.getElementById(\"closedcategory\").click();\n            this.getcategory();\n            alert('บันทึกสำเร็จ')\n            //       setTimeout(function () {\n            //   location.reload();\n            // }, 500);\n            // window.scrollTo(0, 0);\n          });\n        }\n      }\n    },\n    getcategory(){\n      ProductTypesService.gettypes_product().then((res)=>{\n        console.log(res.data);\n        this.list = res.data\n      })\n    },\n    getid(id) {\n      // console.log(id);\n      this.pro_id = id;\n      if (this.pro_id != 0) {\n        this.title = \"แก้ไขประเภทผลิตภัณฑ์\";\n        // console.log(this.user_id);\n        ProductTypesService.gettype_product(this.pro_id).then((res) => {\n          // console.log(res.data);\n          this.data = res.data;\n        });\n      } else {\n        this.title = \"เพิ่มประเภทผลิตภัณฑ์\";\n        this.data = [];\n      }\n    },\n  },\n  mounted() {\n    this.getcategory()\n//     var corpus=\n//     {\n// dict1 : 1\n//     }\n//     RuleBasedService.createrule_based(corpus).then((res) => {\n//       console.log(res.data);\n//     });\n  },\n};\n</script>\n\n<style>\nhtml,\nbody {\n  height: 100%;\n  margin: 0px;\n}</style>\n"]}]}