(function(t){function e(e){for(var s,i,o=e[0],l=e[1],u=e[2],m=0,h=[];m<o.length;m++)i=o[m],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&h.push(n[i][0]),n[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);c&&c(e);while(h.length)h.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},n={app:0},r=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;r.push([1,"chunk-vendors"]),a()})({0:function(t,e){},"034f":function(t,e,a){"use strict";a("85ec")},"039a":function(t,e,a){"use strict";a("7174")},"0cdd":function(t,e,a){},"0e11":function(t,e,a){"use strict";a("6782")},"0ea0":function(t,e,a){},1:function(t,e,a){t.exports=a("56d7")},"1d29":function(t,e,a){},2:function(t,e){},2553:function(t,e,a){"use strict";a("1d29")},"2fea":function(t,e,a){"use strict";a("3db2")},3:function(t,e){},3182:function(t,e,a){},"34bd":function(t,e,a){},"3db2":function(t,e,a){},"47b0":function(t,e,a){},4892:function(t,e,a){"use strict";a("0cdd")},4924:function(t,e,a){"use strict";a("4eec")},4940:function(t,e,a){"use strict";a("5652")},"4ca6":function(t,e,a){},"4eec":function(t,e,a){},5249:function(t,e,a){"use strict";a("daac")},5490:function(t,e,a){"use strict";a("a6b6")},5652:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-view")},r=[],i=(a("b0c0"),{name:"app",components:{},data:function(){return{show:!0}},computed:{},methods:{},mounted:function(){"map"!=this.$route.params.name&&"login"!=this.$route.name&&"register"!=this.$route.name||(this.show=!1)}}),o=i,l=(a("034f"),a("2877")),u=Object(l["a"])(o,n,r,!1,null,null,null),c=u.exports,m=a("8c4f"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.show?a("div",{staticStyle:{padding:"20px"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("div",[t._v(t._s(t.data.excise_name))]),a("div",[t._v("ทะเบียนสรรพสามิต "+t._s(t.data.excise_id))]),a("img",{attrs:{src:""}}),a("div",{staticClass:"mt-5",staticStyle:{"border-style":"solid",padding:"10px","text-align":"center"}},[a("label",[t._v("พิกัด "+t._s(t.data.latitude)+" , "+t._s(t.data.longitude))])])]),a("div",{staticClass:"col-6"},[a("div",{staticStyle:{"text-align":"right"}},[t._v("ข้อมูล ณ วันที่ "+t._s(t.date))]),a("div",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s(t.data.industrial_moo)+" "+t._s(t.data.industrial_subdistrict)+" "+t._s(t.data.industrial_district)+" "+t._s(t.data.industrial_province)+" ")]),a("div",{attrs:{id:"chart"}},[a("apexchart",{attrs:{type:"line",height:"350",options:t.chartOptions,series:t.series}})],1),a("table",{staticClass:"table table-bordered"},[a("thead",[t._m(0),a("tr",[a("th",{attrs:{scope:"col"}},[t._v("(ดวง)")]),t._l(t.detail,(function(e){return a("th",{key:e.name,attrs:{scope:"col"}},[t._v(" "+t._s(e.brand_name)+" ")])})),a("th",{staticStyle:{"text-align":"center"},attrs:{rowspan:"4",align:"center",scope:"col"}},[t._v(" รวม ")])],2),a("tr",[a("th",{attrs:{scope:"col"}}),t._l(t.detail,(function(e){return a("th",{key:e.name,staticStyle:{"text-align":"right"},attrs:{scope:"col"}},[t._v(" "+t._s(e.degree)+" ดีกรี ")])}))],2),a("tr",[a("th",{attrs:{scope:"col"}},[t._v("เดือนที่ชำระภาษี")]),t._l(t.detail,(function(e){return a("th",{key:e.name,staticStyle:{"text-align":"right"},attrs:{scope:"col"}},[t._v(" "+t._s(e.size)+" ลิตร ")])}))],2)]),a("tbody",[t._l(t.table,(function(e){return a("tr",{key:e.name},[1==e.month?a("th",[t._v("มกราคม "+t._s(e.year))]):t._e(),2==e.month?a("th",[t._v("กุมภาพันธ์ "+t._s(e.year))]):t._e(),3==e.month?a("th",[t._v("มีนาคม "+t._s(e.year))]):t._e(),4==e.month?a("th",[t._v("เมษายน "+t._s(e.year))]):t._e(),5==e.month?a("th",[t._v("พฤษภาคม "+t._s(e.year))]):t._e(),6==e.month?a("th",[t._v("มิถุนายน "+t._s(e.year))]):t._e(),7==e.month?a("th",[t._v("กรกฎาคม "+t._s(e.year))]):t._e(),8==e.month?a("th",[t._v("สิงหาคม "+t._s(e.year))]):t._e(),9==e.month?a("th",[t._v("กันยายน "+t._s(e.year))]):t._e(),10==e.month?a("th",[t._v("ตุลาคม "+t._s(e.year))]):t._e(),11==e.month?a("th",[t._v("พฤศจิกายน "+t._s(e.year))]):t._e(),12==e.month?a("th",[t._v("ธันวาคม "+t._s(e.year))]):t._e(),t.statusthreethree?a("th",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s(e.threethree)+" ")]):t._e(),t.statussixtwofive?a("th",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s(e.sixtwofive)+" ")]):t._e(),t.statussixthree?a("th",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s(e.sixthree)+" ")]):t._e(),t.statusseven?a("th",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s(e.seven)+" ")]):t._e(),t.statussevenfive?a("th",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s(e.sevenfive)+" ")]):t._e(),a("th",{staticStyle:{"text-align":"right"}},[t._v(t._s(e.sumnumber))])])})),a("tr",[a("th",[t._v("รวม")]),0!=t.sumthreethree?a("th",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s(t.sumthreethree)+" ")]):t._e(),0!=t.sumsixtwofive?a("th",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s(t.sumsixtwofive)+" ")]):t._e(),0!=t.sumsixthree?a("th",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s(t.sumsixthree)+" ")]):t._e(),0!=t.sumseven?a("th",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s(t.sumseven)+" ")]):t._e(),0!=t.sumsevenfive?a("th",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s(t.sumsevenfive)+" ")]):t._e(),0!=t.total?a("th",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.total))]):t._e()])],2)])])])]):t._e(),t.markers?a("longdo-map",{attrs:{zoom:10,location:{lon:100.19,lat:19.22},lastView:!1},on:{load:t.event}},t._l(t.markers,(function(t,e){return a("longdo-map-marker",{key:e,attrs:{id:t.id,location:t.location,title:t.title,icon:t.icon}})})),1):t._e()],1)},d=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{attrs:{scope:"col"}},[t._v("จำนวนดวงแสตมป์")]),a("th",{staticStyle:{"text-align":"center"},attrs:{scope:"col"}},[t._v("รายการสินค้า")])])}],v=a("d4ec"),b=a("bee2"),f=a("bc3a"),_=a.n(f),x=_.a.create({baseURL:"http://localhost:8081/api",headers:{"Content-type":"application/json"}}),g=function(){function t(){Object(v["a"])(this,t)}return Object(b["a"])(t,[{key:"getDetailExcisesByID",value:function(t){return x.get("/detail_excise/getbyID/"+t)}},{key:"getDetailExcises",value:function(){return x.get("/detail_excise")}},{key:"getDetailExcisesByname",value:function(t,e,a,s){return x.get("/detail_excise?name="+t+"&&by="+e+"&&sort="+a+"&&registration_status="+s)}},{key:"getDetailmap",value:function(){return x.get("/detail_excise/getmap")}},{key:"getlExciseNo",value:function(t,e,a){return x.get("/detail_excise/getExciseNo?name="+t+"&lon="+e+"&&lat="+a)}},{key:"getDetailExcise",value:function(t){return x.get("/detail_excise/"+t)}},{key:"getDetailCount",value:function(){return x.get("/detail_excise/count")}},{key:"getDetailCountOpen",value:function(){return x.get("/detail_excise/countall")}},{key:"getByexiseno",value:function(t){return x.get("/detail_excise/exiseno/"+t)}},{key:"createDetailExcise",value:function(t){return x.post("/detail_excise",t)}},{key:"updateDetailExcise",value:function(t,e){return x.put("/detail_excise/".concat(t),e)}},{key:"getDetailExcisesNull",value:function(){return x.get("/detail_excise/latnull/")}},{key:"updateImageDetailExcise",value:function(t,e){return x.put("/detail_excise/image/".concat(t),e)}},{key:"upload",value:function(t){return x.post("/upload",t)}}]),t}(),y=new g,p=function(){function t(){Object(v["a"])(this,t)}return Object(b["a"])(t,[{key:"getMergeLiquorReport",value:function(t,e){return x.get("/merge_liquor_report?month="+t+"&&year="+e)}},{key:"getCountNotTax",value:function(t,e,a){return x.get("/merge_liquor_report/getnottax?month="+t+"&&year="+e+"&&sort="+a)}},{key:"getMergeLiquorReportByCode",value:function(t,e,a){return x.get("/merge_liquor_report?name="+t+"&&startdate="+e+"&&enddate="+a)}},{key:"getMergeLiquorReportSortDate",value:function(t,e){return x.get("/merge_liquor_report/sortdate?startdate="+t+"&&enddate="+e)}},{key:"createMergeLiquorReport",value:function(t){return x.post("/merge_liquor_report",t)}},{key:"getDetailbyfactory_code",value:function(t){return x.get("/merge_liquor_report/graph/"+t)}},{key:"getdatagraph",value:function(t,e,a,s){return x.get("/merge_liquor_report/getdatagraph?name="+t+"&&brand_name="+e+"&&degree="+a+"&&size="+s)}},{key:"getTablebyfactory_code",value:function(t){return x.get("/merge_liquor_report/value/"+t)}},{key:"getType",value:function(){return x.get("/merge_liquor_report/type")}},{key:"getReportLiquorTax",value:function(t){return x.get("/merge_liquor_report/liquortaxdetail?factory_code="+t)}},{key:"getReportLiquorTaxHeader",value:function(t){return x.get("/merge_liquor_report/getheader?factory_code="+t)}},{key:"getReportLiquorTaxDetail",value:function(t,e,a){return x.get("/merge_liquor_report/getfromdate?factory_code="+t+"&&startdate="+e+"&&enddate="+a)}},{key:"getsumall",value:function(t,e,a){return x.get("/merge_liquor_report/getsumall?start="+t+"&&end="+e+"&&code="+a)}},{key:"getvolumetax",value:function(t,e,a){return x.get("/merge_liquor_report/getvolumetax?name="+t+"&&degree="+e+"&&size="+a)}},{key:"getlisttax",value:function(t,e,a){return x.get("/merge_liquor_report/getlisttax?name="+t+"&&degree="+e+"&&size="+a)}},{key:"getabletax",value:function(t,e,a){return x.get("/merge_liquor_report/getabletax?name="+t+"&&degree="+e+"&&size="+a)}},{key:"getaxlist",value:function(t,e,a,s,n,r){return x.get("/merge_liquor_report/getaxlist?name="+t+"&&brand_name="+e+"&&degree="+a+"&&size="+s+"&&month="+n+"&&year="+r)}},{key:"getnettax",value:function(t,e,a){return x.get("/merge_liquor_report/getnettax?name="+t+"&&month="+e+"&&year="+a)}},{key:"getnumber",value:function(t,e,a){return x.get("/merge_liquor_report/getnumber?name="+t+"&&month="+e+"&&year="+a)}},{key:"getvolume",value:function(t,e,a){return x.get("/merge_liquor_report/getvolume?name="+t+"&&month="+e+"&&year="+a)}},{key:"getoverall",value:function(t,e,a,s){return x.get("/merge_liquor_report/getoverall?name="+t+"&&brand_name="+e+"&&degree="+a+"&&size="+s)}},{key:"getnetall",value:function(t){return x.get("/merge_liquor_report/getnetall?name="+t)}}]),t}(),w=new p,C={name:"App",components:{},data:function(){return{show:!1,loncurrent:"",locat:{},locationList:[{lon:99,lat:14},{lon:100,lat:13},{lon:102,lat:13},{lon:103,lat:14}],markers:[],series:[],numthreethree:[],numsixtwofive:[],numsixthree:[],numseven:[],numsevenfive:[],table:[],chartOptions:{},detail:[],month:[],sumthreethree:0,sumsixtwofive:0,sumsixthree:0,sumseven:0,sumsevenfive:0,total:0,checkreport:[]}},methods:{go:function(){},loadMap:function(t){console.log(t.location()),this.loncurrent=t.location().lon,this.latcurrent=t.location().lat},event:function(t){t.Event.bind("overlayClick",(function(t){var e=t.title,a=t.location().lon,s=t.location().lat;y.getlExciseNo(e,a,s).then((function(t){window.open("/map/"+t.data.excise_no+"/map","_blank")}))}))},loadmarker:function(){var t=this;y.getDetailmap().then((function(e){for(var a=e.data,s=0;s<a.length;s++){var n='<iframe src="map/'+a[s].excise_no+'" height="800" width="800" title="Iframe Example"></iframe>';t.markers.push({location:{lon:a[s].longitude,lat:a[s].latitude},title:a[s].excise_name,id:a[s].excise_no,detail:n,excise_no:a[s].excise_no,excise_id:a[s].excise_id,icon:{url:"https://api-excise.siwapreeya.in.th/map_blue.png"},number:a[s].number})}for(var r=0;r<t.markers.length;r++)t.markers[r].number<=200&&(t.markers[r].icon={url:"https://api-excise.siwapreeya.in.th/red.png"})})).catch((function(t){console.log(t)}))},loadDetail:function(){var t=this;w.getTablebyfactory_code(541164).then((function(e){t.table=e.data;for(var a=0;a<t.table.length;a++)t.numthreethree.push(t.table[a].threethree),t.numsixtwofive.push(t.table[a].sixtwofive),t.numsixthree.push(t.table[a].sixthree),t.numseven.push(t.table[a].seven),t.numsevenfive.push(t.table[a].sevenfive),t.total=t.total+t.table[a].sumnumber,t.sumthreethree=t.sumthreethree+t.table[a].threethree,t.sumsixtwofive=t.sumsixtwofive+t.table[a].sixtwofive,t.sumsixthree=t.sumsixthree+t.table[a].sixthree,t.sumseven=t.sumseven+t.table[a].seven,t.sumsevenfive=t.sumsevenfive+t.table[a].sevenfive,1==t.table[a].month?t.month.push("มกราคม"):2==t.table[a].month?t.month.push("กุมภาพันธ์"):3==t.table[a].month?t.month.push("มีนาคม"):4==t.table[a].month?t.month.push("เมษายน"):5==t.table[a].month?t.month.push("พฤษภาคม"):6==t.table[a].month?t.month.push("มิถุนายน"):7==t.table[a].month?t.month.push("กรกฎาคม"):8==t.table[a].month?t.month.push("สิงหาคม"):9==t.table[a].month?t.month.push("กันยายน"):10==t.table[a].month?t.month.push("ตุลาคม"):11==t.table[a].month?t.month.push("พฤศจิกายน"):12==t.table[a].month&&t.month.push("ธันวาคม")})),w.getDetailbyfactory_code(541164).then((function(e){t.detail=e.data;for(var a=0;a<t.detail.length;a++)t.series.push({name:t.detail[a].brand_name+" - "+t.detail[a].degree+" - "+t.detail[a].size,size:t.detail[a].size});for(var s=0;s<t.series.length;s++)"0.33"==t.series[s].size?t.series[s]["data"]=t.numthreethree:"0.625"==t.series[s].size?t.series[s]["data"]=t.numsixtwofive:"0.63"==t.series[s].size?t.series[s]["data"]=t.numsixthree:"0.7"==t.series[s].size?t.series[s]["data"]=t.numseven:"0.75"==t.series[s].size&&(t.series[s]["data"]=t.numsevenfive);t.loadchartOptions()}))},loadchartOptions:function(){this.chartOptions={chart:{height:500,type:"line",dropShadow:{enabled:!0,color:"#000",top:18,left:7,blur:10,opacity:.2},toolbar:{show:!1}},colors:["#77B6EA","#545454"],dataLabels:{enabled:!0},stroke:{curve:"smooth"},title:{text:"จำนวนดวงแสตมป์",align:"left"},grid:{borderColor:"#e7e7e7",row:{colors:["#f3f3f3","transparent"],opacity:.5}},markers:{size:1},xaxis:{categories:this.month,title:{text:"เดือน"}},yaxis:{title:{text:"จำนวนขวด หรือดวง"}},legend:{position:"top",horizontalAlign:"right",floating:!0,offsetY:-25,offsetX:-5}}}},mounted:function(){this.loadmarker(),console.log(this.currentUser)},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn},currentUser:function(){return this.$store.state.auth.user}}},q=C,S=(a("5490"),Object(l["a"])(q,h,d,!1,null,null,null)),z=S.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{height:"600px"}},[a("div",{staticClass:"form-group mt-5"},[a("label",{attrs:{for:"exampleFormControlFile1"}},[t._v("นำเข้าไฟล์ ")]),a("input",{staticClass:"form-control-file",attrs:{type:"file",id:"exampleFormControlFile1"},on:{change:t.onChangeA1}})]),t.list.length>0?a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.list,(function(e,s){return a("tr",{key:s},[a("td",{style:e.bg},[t._v(t._s(s+1))]),a("td",{style:e.bg},[t._v(t._s(e.detail))]),a("td",{style:e.bg},[t._v(t._s(e.fda))]),1==e.status?a("td",{style:e.bg},[a("p",{staticClass:"card-text"},[t._v("สถานะ : "+t._s(e.list.cncnm))]),a("p",{staticClass:"card-text"},[t._v("ประเภทผลิตภัณฑ์ : "+t._s(e.list.typepro))]),a("p",{staticClass:"card-text"},[t._v("ใบสำคัญ/เลขที่อนุญาต : "+t._s(e.list.lcnno))]),a("p",{staticClass:"card-text"},[t._v("ชื่อผลิตภัณฑ์ (TH) : "+t._s(e.list.productha))]),a("p",{staticClass:"card-text"},[t._v("ชื่อผลิตภัณฑ์ (EN) : "+t._s(e.list.produceng))]),a("p",{staticClass:"card-text"},[t._v("ชื่อผู้รับอนุญาต : "+t._s(e.list.licen))]),a("p",{staticClass:"card-text"},[t._v("สถานที่ผลิต : "+t._s(e.list.Addr))]),a("p",{staticClass:"card-text"},[t._v("Newcode : "+t._s(e.list.Newcode))])]):a("td",{style:e.bg},[t._v(" ไม่พบข้อมูล")]),a("td",{style:e.bg},[a("i",{staticClass:"fa fa-circle",style:e.icon,attrs:{"aria-hidden":"true"}})])])})),0)]):t._e()])},I=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),a("th",{attrs:{scope:"col"}},[t._v("ข้อมูล")]),a("th",{attrs:{scope:"col"}},[t._v("FDA")]),a("th",{attrs:{scope:"col"}}),a("th",{attrs:{scope:"col"}})])])}],F=a("1da1"),E=(a("96cf"),a("e9c4"),a("d3b7"),a("3ca3"),a("ddb0"),a("ac1f"),a("5319"),a("5b81"),a("466d"),a("8134")),D=function(){function t(){Object(v["a"])(this,t)}return Object(b["a"])(t,[{key:"getMenu",value:function(){return x.get("/menu")}},{key:"getproduct",value:function(t){return x.get("/menu/getdetailproduct?url=".concat(t))}},{key:"updateMenu",value:function(t,e){return console.log(t,e),x.put("/menu/".concat(t),e)}}]),t}(),N=new D,O={name:"App",components:{},data:function(){return{type:0,list:[],url:"",file:"",status:!1}},methods:{search:function(){var t=this;this.list=[],N.getproduct(this.url).then().then((function(e){console.log(e.data);var a=[],s=e.data,n=t.findfda(s);a.push({detail:s,fda:n});for(var r=function(e){var s="https://tawaiforhealth.org/api/oryor/check-product",n={number_src:a[e].fda},r={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(n)};fetch(s,r).then((function(t){return t.json()})).then((function(s){s.message?(a[e].status=0,a[e].list=[],a[e].bg="background-color:#f9bdbb"):(a[e].list=s,a[e].status=1,a[e].bg="background-color:#a3e9a4","คงอยู่"==s.cncnm?a[e].icon="color: green":(a[e].icon="color: red",a[e].bg="background-color:#f9bdbb")),e+1==a.length&&(console.log(a),t.list=a)}))},i=0;i<a.length;i++)r(i)}))},onChangeA1:function(t){var e=this;this.list=[],this.file=t.target.files?t.target.files[0]:null;var a=[];this.file&&(this.status=!0,Object(E["a"])(t.target.files[0]).then(function(){var t=Object(F["a"])(regeneratorRuntime.mark((function t(s){var n,r,i,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=1;case 1:if(!(n<s.length)){t.next=16;break}if(r=s[n][0],i=e.findfda(r),a.push({detail:r,fda:i}),n+1!=s.length){t.next=13;break}o=regeneratorRuntime.mark((function t(s){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="https://tawaiforhealth.org/api/oryor/check-product",r={number_src:a[s].fda},i={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(r)},t.next=5,fetch(n,i).then((function(t){return t.json()})).then((function(t){t.message?(a[s].status=0,a[s].list=[],a[s].bg="background-color:#f9bdbb"):(a[s].list=t,a[s].status=1,a[s].bg="background-color:#a3e9a4","คงอยู่"==t.cncnm?a[s].icon="color: green":(a[s].icon="color: red",a[s].bg="background-color:#f9bdbb")),s+1==a.length&&(console.log(a),e.list=a,e.status=!1)}));case 5:case"end":return t.stop()}}),t)})),l=0;case 8:if(!(l<a.length)){t.next=13;break}return t.delegateYield(o(l),"t0",10);case 10:l++,t.next=8;break;case 13:n++,t.next=1;break;case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),this.file=""},findfda:function(t){for(var e=["ใบอนุญาติ","ใบอนุญาต"],a=t,s=0;s<e.length;s++)a=a.substring(a.indexOf(e[s]));a=a.replaceAll("-","");var n=/\d+/g,r=a.match(n);return r[0]},loaddata:function(t){var e="https://tawaiforhealth.org/api/oryor/check-product",a={number_src:t},s={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(a)};fetch(e,s).then((function(t){return t.json()})).then((function(t){return console.log(t),t}))},checkfda:function(t){return Object(F["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:window.open("/detail/"+t,"_blank");case 1:case"end":return e.stop()}}),e)})))()}},mounted:function(){}},M=O,j=(a("4892"),Object(l["a"])(M,k,I,!1,null,null,null)),$=j.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello container mt-5"},[a("div",{staticClass:"row"},["ดำเนินกิจการ"==t.registration_status?a("div",{staticClass:"col-md-12",staticStyle:{"text-align":"center"}},[t._v("โรงงานอุตสาหกรรมดำเนินการอยู่ ณ วันที่ "+t._s(t.date)+" จำนวน "+t._s(t.list.length)+" ราย")]):a("div",{staticClass:"col-md-12",staticStyle:{"text-align":"center"}},[t._v("โรงงานอุตสาหกรรมที่ปิดกิจการ ณ วันที่ "+t._s(t.date)+" จำนวน "+t._s(t.list.length)+" ราย")]),a("div",{staticClass:"col-6"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("ชื่อผู้ประกอบอุตสาหกรรม")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.excise_name,expression:"excise_name"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputEmail1","aria-describedby":"emailHelp"},domProps:{value:t.excise_name},on:{input:function(e){e.target.composing||(t.excise_name=e.target.value)}}})]),a("div",{staticClass:"col-6"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("โดย")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.excise_by,expression:"excise_by"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputEmail1","aria-describedby":"emailHelp"},domProps:{value:t.excise_by},on:{input:function(e){e.target.composing||(t.excise_by=e.target.value)}}})]),a("div",{staticClass:"col-6"}),a("div",{staticClass:"col-6 mt-3",staticStyle:{"text-align":"right"}},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.registration_status,expression:"registration_status"}],staticClass:"form-check-input",attrs:{id:"true",value:"ดำเนินกิจการ",type:"radio",name:"true"},domProps:{checked:t._q(t.registration_status,"ดำเนินกิจการ")},on:{change:[function(e){t.registration_status="ดำเนินกิจการ"},function(e){return t.search()}]}}),a("label",{staticClass:"form-check-label",attrs:{for:"true"}},[t._v("ดำเนินกิจการ")])]),t._v("   "),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.registration_status,expression:"registration_status"}],staticClass:"form-check-input",attrs:{id:"false",value:"ปิดกิจการ",type:"radio",name:"false"},domProps:{checked:t._q(t.registration_status,"ปิดกิจการ")},on:{change:[function(e){t.registration_status="ปิดกิจการ"},function(e){return t.search()}]}}),a("label",{staticClass:"form-check-label",attrs:{for:"false"}},[t._v("ปิดกิจการ")])])]),a("div",{staticClass:"col-12",attrs:{align:"center"}},[a("button",{staticClass:"btn btn-primary",staticStyle:{"margin-top":"10px","text-align":"right"},attrs:{type:"submit"},on:{click:function(e){return t.search()}}},[t._v(" ค้นหา ")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 mt-3"},[a("table",{staticClass:"table table-bordered"},[t._m(0),a("tbody",t._l(t.list,(function(e,s){return a("tr",{key:s+1},[a("th",[a("a",{staticStyle:{color:"black","text-decoration":"none"},attrs:{target:"_blank",href:"/edit/"+e.id}},[a("svg",{attrs:{width:"10px",height:"10px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"}})]),t._v(" "+t._s(s+1)+" ")])]),a("td",{attrs:{scope:"row"}},[a("a",{staticStyle:{color:"black","text-decoration":"none"},attrs:{href:"/map/"+e.excise_no+"/map",target:"_blank"}},[t._v(" "+t._s(e.excise_id)+" ")])]),a("td",{attrs:{scope:"row"}},[t._v(t._s(e.excise_no))]),a("td",{attrs:{scope:"row"}},[t._v(t._s(e.excise_name))]),a("td",{attrs:{scope:"row"}},[t._v(t._s(e.excise_by))]),a("td",{attrs:{scope:"row"}},[t._v(t._s(e.industrial_name))]),a("td",{attrs:{scope:"row"}},[t._v(t._s(e.industrial_no))]),a("td",{attrs:{scope:"row"}},[t._v(t._s(e.industrial_moo))]),a("td",{attrs:{scope:"row"}},[t._v(t._s(e.industrial_subdistrict))]),a("td",{attrs:{scope:"row"}},[t._v(t._s(e.industrial_district))]),a("td",{attrs:{scope:"row"}},[t._v(t._s(e.industrial_province))]),a("td",{attrs:{scope:"row"}},[t._v(t._s(e.industrial_zipcode))]),a("td",{attrs:{scope:"row"}},[t._v(t._s(t.convertdatetothai(e.registration_date)))]),a("td",{attrs:{scope:"row"}},[t._v(t._s(t.convertdatetothai(e.status_date)))]),a("td",{attrs:{scope:"row"}},[t._v(t._s(e.registration_status))]),a("td",{attrs:{scope:"row"}},[t._v(t._s(e.latitude))]),a("td",{attrs:{scope:"row"}},[t._v(t._s(e.longitude))]),a("td",{attrs:{scope:"row"}},[a("a",{staticStyle:{color:"black","text-decoration":"none"},attrs:{href:"//"+e.fac_url,target:"_blank"}},[t._v(" "+t._s(e.fac_url)+" ")])]),0==e.coordinate_status?a("td",{attrs:{scope:"row"}},[t._v("ยังไม่ยืนยัน")]):t._e(),1==e.coordinate_status?a("td",{attrs:{scope:"row"}},[t._v("ยืนยันแล้ว")]):t._e(),a("td",{attrs:{scope:"row"}},[a("img",{attrs:{width:"100px",src:e.image,alt:""}})])])})),0)])])])])},T=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("ลำดับที่")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("เลขทะเบียนสรรพสามิต")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("รหัสโรงอุตสาหกรรม")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v(" ชื่อผู้ประกอบอุตสาหกรรม ")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("โดย")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("ชื่อโรงอุตสาหกรรม")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v(" เลขที่ตั้งโรงอุตสาหกรรม ")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("หมู่ที่")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("ตำบล")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("อำเภอ")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("จังหวัด")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("รหัสไปรษณีย์")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("วันที่จดทะเบียน")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("วันที่สถานะ")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("สถานะทะเบียน")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("Latitude")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("Longitude")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("พิกัดที่ตั้ง")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("สถานะพิกัด")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("รูปภาพโรงงาน")])])])}],P=(a("0eb6"),a("b7ef"),a("8bd4"),a("5cc6"),a("907a"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("2b3d"),a("9861"),a("d9e2"),{name:"HelloWorld",data:function(){return{list:[],itemPreviewImage:"",id:"",item:[],img:"",image:"",excise_name:"",excise_by:"",sortid:0,date:"",countall:0,registration_status:"ดำเนินกิจการ"}},props:{msg:String},computed:{dataUrl:function(){return"data:image/jpeg;base64,"+window.btoa(new Uint8Array(this.info.image).reduce((function(t,e){return t+String.fromCharCode(e)}),""))}},mounted:function(){var t=new Date;this.date=t.toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric"}),this.loaddata()},methods:{orderby:function(t){var e=this;this.sortid=t.target.value,y.getDetailExcisesByname("","",this.sortid,this.registration_status).then((function(t){e.list=t.data})).catch((function(t){console.log(t)}))},search:function(){var t=this;y.getDetailExcisesByname(this.excise_name,this.excise_by,"",this.registration_status).then((function(e){t.list=e.data})).catch((function(t){console.log(t)}))},getid:function(t){this.id=t},loaddata:function(){var t=this;y.getDetailExcisesByname("","",this.sortid,this.registration_status).then((function(e){for(var a=0;a<e.data.length;a++)"ปิดกิจการ"!=e.data[a].registration_status&&t.list.push(e.data[a]);t.countall=t.list.length})).catch((function(t){console.log(t)}))},getTypebase64:function(t){return t.substring("data:image/".length,t.indexOf(";base64"))},onFileChange:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&this.createImage(e[0])},createBase64Image:function(t){var e=this,a=new FileReader;a.onload=function(t){e.image=t.target.result,e.uploadImage()},a.readAsDataURL(t)},createImage:function(t){var e=this,a=new FileReader;a.onload=function(t){e.itemPreviewImage=t.target.result,e.item.image=t.target.result;var a=window.URL.createObjectURL(new Blob([e.item.image],{type:"image/jpeg"}));console.log(a);var s={image:e.item.image};console.log(s),y.updateImageDetailExcise(e.id,s).then((function(t){console.log(t.data),e.loaddata()})).catch((function(t){console.log(t)}))},a.readAsDataURL(t)},uploadImage:function(){var t=this,e=this.image;console.log(e),_.a.post("http://127.0.0.1:8080/api/upload",{image:e}).then((function(e){t.remoteUrl=e.data.url,console.log(t.remoteUrl)})).catch((function(t){return new Error(t.message)}))},convertdatetothai:function(t){if(t){var e=new Date(t),a=e.getMonth()+1,s=e.getDate(),n=e.getFullYear(),r=s+"/"+a+"/"+n;return r}}}}),R=P,B=(a("5b60"),Object(l["a"])(R,W,T,!1,null,"de13420a",null)),L=B.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{padding:"5px"}},[t.show?a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",[t._v(t._s(t.data.excise_name)+" โดย "+t._s(t.data.excise_by))]),a("div",[t._v("ทะเบียนสรรพสามิต "+t._s(t.data.excise_id))]),a("img",{attrs:{width:"100%",src:t.data.image}}),a("div",{staticClass:"mt-5",staticStyle:{"border-style":"solid",padding:"10px","text-align":"center"}},[a("div",[t._v("พิกัด"),a("a",{staticStyle:{color:"black","text-decoration":"none"},attrs:{target:"_blank",href:"//"+t.data.fac_url}},[t._v(" "+t._s(t.data.latitude)+" , "+t._s(t.data.longitude))])])]),a("div",[a("div",{staticClass:"mt-5",staticStyle:{width:"150px","background-color":"green",color:"white",padding:"10px","text-align":"center"}},[t._v(" การเข้าเยี่ยมผู้ประกอบการ ")]),0==t.report.length?a("div",{staticClass:"mt-5"},[a("h5",{staticStyle:{"font-size":"10px"}},[t._v("ไม่พบข้อมูลการเข้าเยี่ยมผู้ประกอบการ")])]):t._e(),0!=t.report.length?a("table",{staticClass:"table mt-3"},[t._m(0),a("tbody",t._l(t.report,(function(e){return a("tr",{key:e.id},[a("td",[t._v(" "+t._s(e.plan_no)+" ")]),a("td",[t._v(t._s(t.convertdatetothai(e.report_date)))]),a("td",[t._v(t._s(e.verify))]),a("td",[t._v(t._s(e.period))]),a("td",[t._v(t._s(e.excise_tax))]),a("td",[t._v(t._s(e.fine))]),a("td",[t._v(t._s(e.vat))]),a("td",[t._v(t._s(e.Increased_taxes))]),a("td",[t._v(t._s(e.sum))]),a("td",[t._v(t._s(e.remark))])])})),0)]):t._e()])]),a("div",{staticClass:"col-md-8"},[a("div",{staticStyle:{"text-align":"right"}},[t._v("ข้อมูล ณ วันที่ "+t._s(t.date))]),a("div",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s(t.data.industrial_no)+" ม."+t._s(t.data.industrial_moo)+" ต."+t._s(t.data.industrial_subdistrict)+" อ."+t._s(t.data.industrial_district)+" ")]),a("graphtax"),a("graphvolumnold"),a("ReportTax")],1)])]):a("div",{staticClass:"mt-5",staticStyle:{"text-align":"center"}},[a("h5",{staticStyle:{"font-size":"25px"}},[t._v("ไม่พบข้อมูล")])])])},U=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("เลขแผน")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v(" วันที่รายงานผลการตรวจสอบแล้วเสร็จ ")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("วิธีการตรวจสอบ")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v(" รอบระยะเวลาในการตรวจสอบ ")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("ภาษีสรรพสามิต")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("เบี้ยปรับ")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("เงินเพิ่ม")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v(" ภาษีเพิ่มขึ้นเพื่อราชการส่วนท้องถิ่น ")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("รวม")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("หมายเหตุ")])])])}],A=(a("8ba4"),a("a9e3"),a("a434"),function(){function t(){Object(v["a"])(this,t)}return Object(b["a"])(t,[{key:"getVerifies",value:function(t){return x.get("/report?verify="+t)}},{key:"getVerify",value:function(t){return x.get("/report/"+t)}},{key:"createReport",value:function(t){return x.post("/report",t)}},{key:"getCheckReport",value:function(){return x.get("/report/getreport")}}]),t}()),Y=new A,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{padding:"5px"}},[a("div",[a("div",{staticClass:"row"},[0!=t.current.length?a("div",{staticClass:"col-md-12"},[a("div",{attrs:{id:"chart"}},[a("apexchart",{attrs:{type:"line",height:"350",options:t.chartOptions,series:t.series}})],1),a("table",{staticClass:"table table-bordered"},[a("thead",[a("tr",[a("th",{staticStyle:{"vertical-align":"middle","text-align":"center"},attrs:{scope:"col",rowspan:"2"}},[t._v("ปริมาณการชำระภาษี")]),a("th",{staticStyle:{"text-align":"center"},attrs:{scope:"col",colspan:t.span}},[t._v(" รายการสินค้า ")])]),a("tr",[t._l(t.series,(function(e,s){return a("th",{key:s,staticStyle:{"text-align":"center"},attrs:{colspan:"2",scope:"col"}},[t._v(" "+t._s(e.name)+" ")])})),a("th",{staticStyle:{"text-align":"center"},attrs:{colspan:"2"}},[t._v("รวม")]),a("th",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}})],2),a("tr",t._l(t.headmonthtext,(function(e,s){return a("th",{key:s,staticStyle:{"text-align":"center"},attrs:{scope:"col"}},[t._v(" "+t._s(e)+" ")])})),0)]),a("tbody",[t._l(t.taxdatalist,(function(e,s){return a("tr",{key:s+1},[a("th",[t._v(t._s(e.n))]),t._l(e.data,(function(e,s){return a("th",{key:s,staticStyle:{"text-align":"right"}},[t._v(t._s(e))])})),a("th",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.numberWithCommas(t.sumnumber[s])||0))]),a("th",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.numberWithCommas(t.sumvolume[s])||0))]),a("th",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.numberWithCommas(t.taxsum[s])||0))])],2)})),a("tr",[a("th",{staticClass:"table-secondary",staticStyle:{"font-weight":"bold"}},[t._v("รวม")]),t._l(t.overalltax,(function(e,s){return a("th",{key:s+100,staticClass:"table-secondary",staticStyle:{"text-align":"center","font-weight":"bold"}},[t._v(t._s(t.numberWithCommas(e)))])}))],2)],2)])]):a("div",{staticClass:"col-md-12",staticStyle:{"text-align":"center"}},[t._v("ไม่พบข้อมูลการชำระภาษี")])])])])},V=[],X=(a("99af"),a("b680"),a("159b"),a("25f0"),{name:"App",components:{},data:function(){return{date:"",data:[],excise_no:"",show:!1,series:[],numthreethree:[],numsixtwofive:[],numsixthree:[],numseven:[],numsevenfive:[],numthreethreecurrent:[],numsixtwofivecurrent:[],numsixthreecurrent:[],numsevencurrent:[],numsevenfivecurrent:[],table:[],chartOptions:{},detail:[],month:[],sumthreethree:0,sumsixtwofive:0,sumsixthree:0,sumseven:0,sumsevenfive:0,sumthreethreey:0,sumsixtwofivey:0,sumsixthreey:0,sumseveny:0,sumsevenfivey:0,total:0,statusthreethree:!1,statussixtwofive:!1,statussixthree:!1,statusseven:!1,statussevenfive:!1,tablenew:[{month:10},{month:11},{month:12},{month:1},{month:2},{month:3},{month:4},{month:5},{month:6},{month:7},{month:8},{month:9}],monthlist:["ตุลาคม","พฤศจิกายน","ธันวาคม","มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน"],yearcurrent:"",report:[],excise_id:"",brand_name:[],diff:[],degree:[],span:3,spanbrand:1,current:[],tbsize:[.33,.625,.63,.7,.75],tablecurrent:[],list:[],sumtaxthreethree:0,sumtaxsixthree:0,sumtaxsixtwofive:0,sumtaxseven:0,sumtaxsevenfive:0,sumtaxthreethreec:0,sumtaxsixthreec:0,sumtaxsixtwofivec:0,sumtaxsevenc:0,sumtaxsevenfivec:0,taxlist:[],taxdatacurrent:[],headstamp:[],head:[],size:[],sumall:[],tbmonth:[],category:["ตุลาคม","พฤศจิกายน","ธันวาคม","มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน"],volumnlist:[],sumvolumnlist:{},taxdatalist:[],taxsum:[],headmonthtext:[],overalltax:[],net_tax:0,taxdatalists:[],sumnumber:[],sumvolume:[],allnum:0,allvol:0}},methods:{calsum:function(t,e,a,s,n,r){var i=0;return void 0!==t&&null!=t||(t=0),void 0!==e&&null!=e||(e=0),void 0!==a&&null!=a||(a=0),void 0!==s&&null!=s||(s=0),void 0!==n&&null!=n||(n=0),void 0!==r&&null!=r||(r=0),i=parseInt(parseInt(t)+parseInt(e)+parseInt(a)+parseInt(s)+parseInt(n)+parseInt(r)),void 0!==i&&null!=i||(i=8e4),i},getheader:function(){var t=this;w.getReportLiquorTaxHeader(this.excise_no).then((function(e){t.head=e.data,w.getvolumetax(t.excise_no,"","").then((function(e){t.volumnlist=e.data,t.category=[]})),t.degree.push({a:1});for(var a=0;a<e.data.length;a++)0==a?(t.degree[0].degree=e.data[a].degree,t.size.push({size:e.data[a].size}),t.brand_name.push({brand_name:e.data[a].brand_name+"-"+e.data[a].degree+"-"+e.data[a].size,color:"background-color:#77B6EA"})):1==a?(t.degree[0].degreetwo=e.data[a].degree,t.size.push({size:e.data[a].size}),t.brand_name.push({brand_name:e.data[a].brand_name+"-"+e.data[a].degree+"-"+e.data[a].size,color:"background-color:#EC7C30"})):2==a&&(t.degree[0].degreetwo=e.data[a].degree,t.size.push({size:e.data[a].size}),t.brand_name.push({brand_name:e.data[a].brand_name+"-"+e.data[a].degree+"-"+e.data[a].size,color:"background-color:#AC7C30"}))})),this.loadchartOptions()},uniqurArray:function(t){for(var e=t.concat(),a=0;a<e.length;a++)for(var s=a+1;s<e.length;s++)e[a].month===e[s].month&&e.splice(s--,1);return e},loaddata:function(){var t=this;w.getReportLiquorTaxDetail(this.excise_no,String(this.yearcurrent-1+"-10-01"),String(this.yearcurrent+"-09-30")).then((function(e){t.current=e.data;for(var a=0;a<t.current.length;a++)for(var s=0;s<t.tablenew.length;s++)t.tablenew[s].month==t.current[a].month&&t.tbmonth.push({month:t.current[a].month});t.tablecurrent=t.uniqurArray(t.tbmonth);for(var n=0;n<t.current.length;n++)for(var r=0;r<t.tablecurrent.length;r++)for(var i=0;i<t.tbsize.length;i++)t.tbsize[i]==t.current[n].size&&t.tablecurrent[r].month==t.current[n].month&&(.33==t.tbsize[i]?(t.tablecurrent[r].size=.33,t.tablecurrent[r].status=!0,t.tablecurrent[r].summunber=t.current[n].summunber,t.tablecurrent[r].sumvolume_liquor=t.current[n].sumvolume_liquor):.625==t.tbsize[i]?(t.tablecurrent[r].size=.625,t.tablecurrent[r].status=!0,t.tablecurrent[r].summunbersixtwofive=t.current[n].summunber,t.tablecurrent[r].sumvolume_liquorsixtwofive=t.current[n].sumvolume_liquor):.63==t.tbsize[i]?(t.tablecurrent[r].size=.63,t.tablecurrent[r].status=!0,t.tablecurrent[r].summunbersixthree=t.current[n].summunber,t.tablecurrent[r].sumvolume_liquorsixthree=t.current[n].sumvolume_liquor,35==t.current[n].degree&&"541022"==t.excise_no?(t.tablecurrent[r].moresumvolume_liquorsixthree=t.current[n].sumvolume_liquor,t.tablecurrent[r].moresummunber=t.current[n].summunber):(t.tablecurrent[r].moresumvolume_liquorsixthree=0,t.tablecurrent[r].moresummunber=0)):.7==t.tbsize[i]?(t.tablecurrent[r].size=.7,t.tablecurrent[r].status=!0,t.tablecurrent[r].summunberseven=t.current[n].summunber,t.tablecurrent[r].sumvolume_liquorseven=t.current[n].sumvolume_liquor):.75==t.tbsize[i]&&(t.tablecurrent[r].size=.75,t.tablecurrent[r].status=!0,t.tablecurrent[r].summunbersevenfive=t.current[n].summunber,t.tablecurrent[r].sumvolume_liquorsevenfive=t.current[n].sumvolume_liquor));if(t.summonth(),t.head.length>1)for(var o=0;o<t.tablecurrent.length;o++)for(var l=0;l<t.head.length;l++)t.tablecurrent[o].sumnumberall=0,t.tablecurrent[o].sumvolumeall=0}))},caldif:function(t,e){null==e&&(e=0);var a=t-e,s=Number.isInteger(a);return s||(a=""),a},loadDetail:function(){var t=this;w.getTablebyfactory_code(this.excise_no).then((function(e){t.table=e.data,t.show=!0,y.getDetailExcise(t.excise_no).then((function(e){t.data=e.data,t.excise_id=e.data.excise_id}));for(var a=0;a<t.tablenew.length;a++)for(var s=0;s<t.table.length;s++)t.table[s].month==t.tablenew[a].month&&10==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-2?(t.tablenew[a].degree=t.table[s].degree,t.tablenew[a].seven=t.table[s].seven,t.tablenew[a].sevenfive=t.table[s].sevenfive,t.tablenew[a].sixthree=t.table[s].sixthree,t.tablenew[a].sixtwofive=t.table[s].sixtwofive,t.tablenew[a].size=t.table[s].size,t.tablenew[a].sumnumber=t.table[s].sumnumber,t.tablenew[a].threethree=t.table[s].threethree,t.tablenew[a].year=t.table[s].year,t.sumthreethree=t.sumthreethree+t.table[s].threethree,t.sumsixtwofive=t.sumsixtwofive+t.table[s].sixtwofive,t.sumsixthree=t.sumsixthree+t.table[s].sixthree,t.sumseven=t.sumseven+t.table[s].seven,t.sumsevenfive=t.sumsevenfive+t.table[s].sevenfive):t.table[s].month==t.tablenew[a].month&&11==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-2||t.table[s].month==t.tablenew[a].month&&12==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-2||t.table[s].month==t.tablenew[a].month&&1==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-1||t.table[s].month==t.tablenew[a].month&&2==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-1||t.table[s].month==t.tablenew[a].month&&3==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-1||t.table[s].month==t.tablenew[a].month&&4==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-1||t.table[s].month==t.tablenew[a].month&&5==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-1||t.table[s].month==t.tablenew[a].month&&6==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-1||t.table[s].month==t.tablenew[a].month&&7==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-1||t.table[s].month==t.tablenew[a].month&&8==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-1||t.table[s].month==t.tablenew[a].month&&9==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-1?(t.tablenew[a].degree=t.table[s].degree,t.tablenew[a].seven=t.table[s].seven,t.tablenew[a].sevenfive=t.table[s].sevenfive,t.tablenew[a].sixthree=t.table[s].sixthree,t.tablenew[a].sixtwofive=t.table[s].sixtwofive,t.tablenew[a].size=t.table[s].size,t.tablenew[a].sumnumber=t.table[s].sumnumber,t.tablenew[a].threethree=t.table[s].threethree,t.tablenew[a].year=t.table[s].year,t.sumthreethree=t.sumthreethree+t.table[s].threethree,t.sumsixtwofive=t.sumsixtwofive+t.table[s].sixtwofive,t.sumsixthree=t.sumsixthree+t.table[s].sixthree,t.sumseven=t.sumseven+t.table[s].seven,t.sumsevenfive=t.sumsevenfive+t.table[s].sevenfive,t.sumsevenfive,t.table[s].sevenfive):t.table[s].month==t.tablenew[a].month&&10==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-1?(t.tablenew[a].degreey=t.table[s].degree,t.tablenew[a].seveny=t.table[s].seven,t.tablenew[a].sevenfivey=t.table[s].sevenfive,t.tablenew[a].sixthreey=t.table[s].sixthree,t.tablenew[a].sixtwofivey=t.table[s].sixtwofive,t.tablenew[a].sizey=t.table[s].size,t.tablenew[a].sumnumbery=t.table[s].sumnumber,t.tablenew[a].threethreey=t.table[s].threethree,t.tablenew[a].yeary=t.table[s].year,t.sumthreethreey=t.sumthreethreey+t.table[s].threethree,t.sumsixtwofivey=t.sumsixtwofivey+t.table[s].sixtwofive,t.sumsixthreey=t.sumsixthreey+t.table[s].sixthree,t.sumseveny=t.sumseveny+t.table[s].seven,t.sumsevenfivey=t.sumsevenfivey+t.table[s].sevenfive):t.table[s].month==t.tablenew[a].month&&11==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-1?(t.tablenew[a].degreey=t.table[s].degree,t.tablenew[a].seveny=t.table[s].seven,t.tablenew[a].sevenfivey=t.table[s].sevenfive,t.tablenew[a].sixthreey=t.table[s].sixthree,t.tablenew[a].sixtwofivey=t.table[s].sixtwofive,t.tablenew[a].sizey=t.table[s].size,t.tablenew[a].sumnumbery=t.table[s].sumnumber,t.tablenew[a].threethreey=t.table[s].threethree,t.tablenew[a].yeary=t.table[s].year,t.sumthreethreey=t.sumthreethreey+t.table[s].threethree,t.sumsixtwofivey=t.sumsixtwofivey+t.table[s].sixtwofive,t.sumsixthreey=t.sumsixthreey+t.table[s].sixthree,t.sumseveny=t.sumseveny+t.table[s].seven,t.sumsevenfivey=t.sumsevenfivey+t.table[s].sevenfive,t.sumsevenfive,t.table[s].sevenfive):(t.table[s].month==t.tablenew[a].month&&12==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-1||t.table[s].month==t.tablenew[a].month&&1==t.tablenew[a].month&&t.table[s].year==t.yearcurrent||t.table[s].month==t.tablenew[a].month&&2==t.tablenew[a].month&&t.table[s].year==t.yearcurrent||t.table[s].month==t.tablenew[a].month&&3==t.tablenew[a].month&&t.table[s].year==t.yearcurrent||t.table[s].month==t.tablenew[a].month&&4==t.tablenew[a].month&&t.table[s].year==t.yearcurrent||t.table[s].month==t.tablenew[a].month&&5==t.tablenew[a].month&&t.table[s].year==t.yearcurrent||t.table[s].month==t.tablenew[a].month&&6==t.tablenew[a].month&&t.table[s].year==t.yearcurrent||t.table[s].month==t.tablenew[a].month&&7==t.tablenew[a].month&&t.table[s].year==t.yearcurrent||t.table[s].month==t.tablenew[a].month&&8==t.tablenew[a].month&&t.table[s].year==t.yearcurrent||t.table[s].month==t.tablenew[a].month&&9==t.tablenew[a].month&&t.table[s].year==t.yearcurrent)&&(t.tablenew[a].degreey=t.table[s].degree,t.tablenew[a].seveny=t.table[s].seven,t.tablenew[a].sevenfivey=t.table[s].sevenfive,t.tablenew[a].sixthreey=t.table[s].sixthree,t.tablenew[a].sixtwofivey=t.table[s].sixtwofive,t.tablenew[a].sizey=t.table[s].size,t.tablenew[a].sumnumbery=t.table[s].sumnumber,t.tablenew[a].threethreey=t.table[s].threethree,t.tablenew[a].yeary=t.table[s].year,t.sumthreethreey=t.sumthreethreey+t.table[s].threethree,t.sumsixtwofivey=t.sumsixtwofivey+t.table[s].sixtwofive,t.sumsixthreey=t.sumsixthreey+t.table[s].sixthree,t.sumseveny=t.sumseveny+t.table[s].seven,t.sumsevenfivey=t.sumsevenfivey+t.table[s].sevenfive);for(var n=0;n<t.table.length;n++)10==t.table[n].month&&t.table[n].year==t.yearcurrent-2||11==t.table[n].month&&t.table[n].year==t.yearcurrent-2||12==t.table[n].month&&t.table[n].year==t.yearcurrent-2||1==t.table[n].month&&t.table[n].year==t.yearcurrent-1||2==t.table[n].month&&t.table[n].year==t.yearcurrent-1||3==t.table[n].month&&t.table[n].year==t.yearcurrent-1||4==t.table[n].month&&t.table[n].year==t.yearcurrent-1||5==t.table[n].month&&t.table[n].year==t.yearcurrent-1||6==t.table[n].month&&t.table[n].year==t.yearcurrent-1||7==t.table[n].month&&t.table[n].year==t.yearcurrent-1||8==t.table[n].month&&t.table[n].year==t.yearcurrent-1||9==t.table[n].month&&t.table[n].year==t.yearcurrent-1?(t.numthreethree.push(t.table[n].threethree),t.numsixtwofive.push(t.table[n].sixtwofive),t.numsixthree.push(t.table[n].sixthree),t.numseven.push(t.table[n].seven),t.numsevenfive.push(t.table[n].sevenfive)):(10==t.table[n].month&&t.table[n].year==t.yearcurrent-1||11==t.table[n].month&&t.table[n].year==t.yearcurrent-1||12==t.table[n].month&&t.table[n].year==t.yearcurrent-1||1==t.table[n].month&&t.table[n].year==t.yearcurrent||2==t.table[n].month&&t.table[n].year==t.yearcurrent||3==t.table[n].month&&t.table[n].year==t.yearcurrent||4==t.table[n].month&&t.table[n].year==t.yearcurrent||5==t.table[n].month&&t.table[n].year==t.yearcurrent||6==t.table[n].month&&t.table[n].year==t.yearcurrent||7==t.table[n].month&&t.table[n].year==t.yearcurrent||8==t.table[n].month&&t.table[n].year==t.yearcurrent||9==t.table[n].month&&t.table[n].year==t.yearcurrent)&&(t.numthreethreecurrent.push(t.table[n].threethree),t.numsixtwofivecurrent.push(t.table[n].sixtwofive),t.numsixthreecurrent.push(t.table[n].sixthree),t.numsevencurrent.push(t.table[n].seven),t.numsevenfivecurrent.push(t.table[n].sevenfive));for(var r=0;r<t.tablenew.length;r++)null==t.tablenew[r].year&&(t.numthreethree.splice([r],0,0),t.numsixtwofive.splice([r],0,0),t.numsixthree.splice([r],0,0),t.numseven.splice([r],0,0),t.numsevenfive.splice([r],0,0));w.getDetailbyfactory_code(t.excise_no).then((function(e){t.detail=e.data,t.detail.length>1&&(t.span=2*t.detail.length*2,t.spanbrand=t.detail.length),t.loadchartOptions()}))})).catch((function(e){t.show=!1,alert("ไม่พบข้อมูล"),console.log(e)}))},loadchartOptions:function(){this.chartOptions={chart:{height:500,type:"line",dropShadow:{enabled:!0,color:"#000",top:18,left:7,blur:10,opacity:.2},toolbar:{show:!1}},colors:["#77B6EA","#EC7C30","#9c27b0","#e91e63","#E3DFD6"],dataLabels:{enabled:!0},stroke:{curve:"straight"},title:{text:"กราฟแสดงการชำระภาษีสุรา ปีงบประมาณ "+this.yearcurrent,align:"left",style:{fontSize:"9px"}},grid:{borderColor:"#e7e7e7",row:{colors:["#f3f3f3","transparent"],opacity:.5}},markers:{size:0},xaxis:{categories:this.category,title:{text:"เดือนที่ชำระภาษี",style:{fontSize:"9px"}},labels:{style:{fontSize:"9px"}}},yaxis:{title:{text:"จำนวนดวงแสตมป์ (ดวง)",style:{fontSize:"9px"}},labels:{style:{fontSize:"9px"}}},legend:{position:"top",horizontalAlign:"right",floating:!0,offsetY:-25,offsetX:-5}}},convertdatetothai:function(t){if(t){var e=new Date(t),a=e.getMonth()+1,s=e.getDate(),n=e.getFullYear(),r=s+"/"+a+"/"+n;return r}},cal:function(t,e,a,s){var n=0,r=0,i=0,o=0;return 540002==this.excise_no?(n=10*t/100*e,r=150*a/100*s*t,(n+r).toFixed(2)):(i=2*t/100*e,o=155*a/100*s*t,(i+o).toFixed(2))},loadnet:function(){var t=this;w.getReportLiquorTax(this.excise_no).then((function(e){t.list=e.data,t.taxlist=t.groupBy(t.list,"month")})).catch((function(t){console.log(t)}))},groupBy:function(t,e){var a={};return t.forEach((function(t){a[t[e]]||(a[t[e]]=[]),a[t[e]].push(t)})),a},summonth:function(){for(var t=0;t<this.tablenew.length;t++){this.sumtaxthreethree=0,this.sumtaxsixthree=0,this.sumtaxsixtwofive=0,this.sumtaxseven=0,this.sumtaxsevenfive=0,this.sumtaxthreethreec=0,this.sumtaxsixthreec=0,this.sumtaxsixtwofivec=0,this.sumtaxsevenc=0,this.sumtaxsevenfivec=0;var e=10;if(this.taxlist[t+1])for(var a=0;a<this.taxlist[t+1].length;a++)for(var s=0;s<this.tbsize.length;s++)(10==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||11==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||12==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||1==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||2==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||3==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||4==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||5==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||6==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||7==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||8==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||9==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent)&&this.taxlist[t+1][a].size==this.tbsize[s]&&(e=this.taxlist[t+1][a].month,.33==this.tbsize[s]?(null==this.taxlist[t+1][a].net&&(this.taxlist[t+1][a].net=0),this.sumtaxthreethreec=Math.floor(parseFloat(this.sumtaxthreethreec)+parseFloat(this.taxlist[t+1][a].net))):.63==this.tbsize[s]?(null==this.taxlist[t+1][a].net&&(this.taxlist[t+1][a].net=0),this.sumtaxsixthreec=Math.floor(parseFloat(this.sumtaxsixthreec)+parseFloat(this.taxlist[t+1][a].net))):.625==this.tbsize[s]?(null==this.taxlist[t+1][a].net&&(this.taxlist[t+1][a].net=0),this.sumtaxsixtwofivec=Math.floor(parseFloat(this.sumtaxsixtwofivec)+parseFloat(this.taxlist[t+1][a].net))):.7==this.tbsize[s]?(null==this.taxlist[t+1][a].net&&(this.taxlist[t+1][a].net=0),this.sumtaxsevenc=Math.floor(parseFloat(this.sumtaxsevenc)+parseFloat(this.taxlist[t+1][a].net))):.75==this.tbsize[s]&&(null==this.taxlist[t+1][a].net&&(this.taxlist[t+1][a].net=0),this.sumtaxsevenfivec=Math.floor(parseFloat(this.sumtaxsevenfivec)+parseFloat(this.taxlist[t+1][a].net))));this.sumtaxthreethreec?this.taxdatacurrent.push({month:e,size:.33,sumtaxy:this.sumtaxthreethreec}):this.taxdatacurrent.push({month:e,size:.33,sumtaxy:0}),this.sumtaxsixthreec?this.taxdatacurrent.push({month:e,size:.63,sumtaxy:this.sumtaxsixthreec}):this.taxdatacurrent.push({month:e,size:.63,sumtaxy:0}),this.sumtaxsixtwofivec?this.taxdatacurrent.push({month:e,size:.625,sumtaxy:this.sumtaxsixtwofivec}):this.taxdatacurrent.push({month:e,size:.625,sumtaxy:0}),this.sumtaxsevenfivec?this.taxdatacurrent.push({month:e,size:.75,sumtaxy:this.sumtaxsevenfivec}):this.taxdatacurrent.push({month:e,size:.75,sumtaxy:0}),this.sumtaxsevenc?this.taxdatacurrent.push({month:e,size:.7,sumtaxy:this.sumtaxsevenc}):this.taxdatacurrent.push({month:e,size:.7,sumtaxy:0})}for(var n=0;n<this.tablecurrent.length;n++)for(var r=0;r<this.tbsize.length;r++)for(var i=0,o=0;o<this.taxdatacurrent.length;o++)this.tablecurrent[n].month==this.taxdatacurrent[o].month&&(i+=this.taxdatacurrent[o].sumtaxy,this.tablecurrent[n].tax=i);for(var l=0;l<this.tablecurrent.length;l++)1!=this.tablecurrent[l].status&&this.tablecurrent.splice(l);this.sumtotalall()},sumtotalall:function(){for(var t=0,e=0,a=0,s=0,n=0,r=0,i=0,o=0,l=0,u=0,c=0,m=0,h=0,d=0;d<this.tablecurrent.length;d++)this.tablecurrent[d].summunber&&(t+=this.tablecurrent[d].summunber),this.tablecurrent[d].sumvolume_liquor&&(e+=this.tablecurrent[d].sumvolume_liquor),this.tablecurrent[d].summunbersixtwothree&&(a+=this.tablecurrent[d].summunbersixtwothree),this.tablecurrent[d].sumvolume_liquorsixtwofive&&(s+=this.tablecurrent[d].sumvolume_liquorsixtwofive),this.tablecurrent[d].summunbersixthree&&(n+=this.tablecurrent[d].summunbersixthree),this.tablecurrent[d].sumvolume_liquorsixthree&&(r+=this.tablecurrent[d].sumvolume_liquorsixthree),this.tablecurrent[d].summunberseven&&(i+=this.tablecurrent[d].summunberseven),this.tablecurrent[d].sumvolume_liquorseven&&(o+=this.tablecurrent[d].sumvolume_liquorseven),this.tablecurrent[d].summunbersevenfive&&(l+=this.tablecurrent[d].summunbersevenfive),this.tablecurrent[d].sumvolume_liquorsevenfive&&(u+=this.tablecurrent[d].sumvolume_liquorsevenfive),this.tablecurrent[d].moresumvolume_liquorsixthree&&(m+=this.tablecurrent[d].moresumvolume_liquorsixthree),this.tablecurrent[d].moresummunber&&(h+=this.tablecurrent[d].moresummunber),c+=this.tablecurrent[d].tax;this.sumall.push({allsummunberthreethree:t,sumvolume_liquorthreethree:e,allsummunbersixthree:n,sumvolume_liquorsixthree:r,allsummunbersixtwofive:a,sumvolume_liquorsixtwofive:s,allsummunberseven:i,sumvolume_liquorseven:o,allsummunbersevenfive:l,sumvolume_liquorsevenfive:u,tax:c,moresumvolume_liquorsixthree:m,moresummunber:h})},numberWithCommas:function(t){var e=0;return t=parseInt(t),e=isNaN(t)?"":t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),e},gettax:function(){var t=this,e=new Date,a=e.getFullYear()+543;this.taxdatalist=[{m:10,n:"ตุลาคม",y:a-1},{m:11,n:"พฤศจิกายน",y:a-1},{m:12,n:"ธันวาคม",y:a-1},{m:1,n:"มกราคม",y:a},{m:2,n:"กุมภาพันธ์",y:a},{m:3,n:"มีนาคม",y:a},{m:4,n:"เมษายน",y:a},{m:5,n:"พฤษภาคม",y:a},{m:6,n:"มิถุนายน",y:a}],w.getaxlist(this.excise_no,"","","","","").then((function(e){t.taxdatalist=e.data})),w.getnettax(this.excise_no,"","").then((function(e){t.taxsum=e.data})),w.getnumber(this.excise_no,"","").then((function(e){t.sumnumber=e.data})),w.getvolume(this.excise_no,"","").then((function(e){t.sumvolume=e.data}))}},mounted:function(){var t=this;this.excise_no=this.$route.params.id,w.getnetall(this.excise_no).then((function(e){var a=0,s=0,n=0;a=e.data.net_tax,a=null==a?0:a,s=e.data.number,s=null==s?0:s,n=e.data.volume,n=null==n?0:n,t.net_tax=a,t.allnum=s,t.allvol=n})),w.getDetailbyfactory_code(this.excise_no).then((function(e){t.detail=e.data,t.gettax(),t.detail.length>1&&(t.span=2*t.detail.length*2,t.spanbrand=t.detail.length);for(var a=function(e){w.getoverall(t.excise_no,t.detail[e].brand_name,t.detail[e].degree,t.detail[e].size).then((function(e){var a=0,s=0;a=e.data.num,s=e.data.vol,a=null==a?0:a,s=null==s?0:s,t.overalltax.push(a),t.overalltax.push(s),t.overalltax.length==parseInt(2*t.detail.length)&&(t.overalltax.push(t.allnum),t.overalltax.push(t.allvol),t.overalltax.push(t.net_tax))})),0==e&&t.headmonthtext.push("เดือนที่ชำระภาษี"),t.headmonthtext.push("จำนวนแสตมป์"),t.headmonthtext.push("ปริมาณน้ำสุรา"),w.getdatagraph(t.excise_no,t.detail[e].brand_name,t.detail[e].degree,t.detail[e].size).then((function(a){var s=a.data;t.detail[e].data=s}))},s=0;s<t.detail.length;s++)a(s);for(var n=function(e){w.getdatagraph(t.excise_no,t.detail[e].brand_name,t.detail[e].degree,t.detail[e].size).then((function(a){var s=a.data;t.detail[e].data=s,t.series.push({name:t.detail[e].brand_name+" - "+t.detail[e].degree+" - "+t.detail[e].size,size:t.detail[e].size,brand:t.detail[e].brand_name,style:{fontSize:"9px"},degree:t.detail[e].degree,data:s})}))},r=0;r<t.detail.length;r++)n(r);t.headmonthtext.push("จำนวนแสตมป์"),t.headmonthtext.push("ปริมาณน้ำสุรา"),t.headmonthtext.push("ภาษีสุทธิ")}));var e=new Date;this.date=e.toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric"}),this.loadnet();var a=new Date;this.yearcurrent=parseInt(a.getFullYear()+543),this.getheader(),this.loaddata()},computed:{}}),K=X,G=(a("9aec"),Object(l["a"])(K,J,V,!1,null,null,null)),Q=G.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello mt-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{attrs:{id:"chart"}},[a("apexchart",{attrs:{type:"line",height:"350",options:t.chartOptions,series:t.series}})],1),a("table",{staticClass:"table table-bordered"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}}),t._l(t.monthlist,(function(e,s){return a("th",{key:s,staticStyle:{"text-align":"center"},attrs:{scope:"col"}},[t._v(t._s(e.n))])}))],2)]),a("tbody",t._l(t.taxmonthtable,(function(e,s){return a("tr",{key:s},[a("th",{attrs:{scope:"row"}},[a("span",{staticClass:"apexcharts-legend-marker",style:e.style,attrs:{rel:"1","data:collapsed":"false"}}),t._v(" "+t._s(e.y)+" ")]),t.monthlist.length>0?a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.numberWithCommas(e.oct)||0))]):t._e(),t.monthlist.length>1?a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.numberWithCommas(e.nov)||0))]):t._e(),t.monthlist.length>2?a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.numberWithCommas(e.dec)||0))]):t._e(),t.monthlist.length>3?a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.numberWithCommas(e.jan)||0))]):t._e(),t.monthlist.length>4?a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.numberWithCommas(e.feb)||0))]):t._e(),t.monthlist.length>5?a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.numberWithCommas(e.mar)||0))]):t._e(),t.monthlist.length>6?a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.numberWithCommas(e.apr)||0))]):t._e(),t.monthlist.length>7?a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.numberWithCommas(e.may)||0))]):t._e(),t.monthlist.length>8?a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.numberWithCommas(e.jun)||0))]):t._e(),t.monthlist.length>9?a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.numberWithCommas(e.jul)||0))]):t._e(),t.monthlist.length>10?a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.numberWithCommas(e.aug)||0))]):t._e(),t.monthlist.length>11?a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.numberWithCommas(e.sep)||0))]):t._e()])})),0)]),a("table",{staticClass:"table table-bordered mt-3 mb-5"},[a("thead",[a("tr",[a("th",{staticClass:"table-info",staticStyle:{"text-align":"center","font-weight":"bold"}},[t._v(" ปริมาณการชำระภาษี ")]),a("th",{staticStyle:{"background-color":"#dae2f3","text-align":"center","font-weight":"bold"},attrs:{scope:"col",colspan:"3"}},[t._v(" ปีนี้ (ต.ค. "+t._s(t.yearcurrent-1)+" - ก.ย. "+t._s(t.yearcurrent)+") ")]),a("th",{staticStyle:{"background-color":"#fff1cc","text-align":"center","font-weight":"bold"},attrs:{scope:"col",colspan:"3"}},[t._v(" ปีก่อน (ต.ค. "+t._s(t.yearcurrent-2)+" - ก.ย. "+t._s(t.yearcurrent-1)+") ")]),a("th",{staticStyle:{"background-color":"#e1efd9","text-align":"center","font-weight":"bold"},attrs:{scope:"col",colspan:"4"}},[t._v(" ผลต่าง ")])]),t._m(0)]),a("tbody",[t._l(t.taxmonthlist,(function(e,s){return a("tr",{key:s+10},[a("th",{style:e.colour},[t._v(t._s(e.month))]),a("th",{style:e.style},[t._v(" "+t._s(t.numberWithCommas(e.numbercurrent)||0)+" ")]),a("th",{style:e.style},[t._v(" "+t._s(t.numberWithCommas(e.volumecurrent)||0)+" ")]),e.tax?a("th",{style:e.style},[t._v(t._s(t.numberWithCommas(e.tax))+".00")]):a("th",{style:e.style},[t._v(t._s(t.numberWithCommas(e.tax)))]),a("th",{style:e.styleafter},[t._v(" "+t._s(t.numberWithCommas(e.numberafter)||0)+" ")]),a("th",{style:e.styleafter},[t._v(" "+t._s(t.numberWithCommas(e.volumeafter)||0)+" ")]),e.taxafter?a("th",{style:e.styleafter},[t._v(t._s(t.numberWithCommas(e.taxafter))+".00")]):a("th",{style:e.styleafter},[t._v(t._s(t.numberWithCommas(e.taxafter)))]),e.diffnumber>=0?a("th",{style:e.styledif},[t._v(" "+t._s(t.numberWithCommas(e.diffnumber))+" ")]):a("th",{staticStyle:{color:"red"},style:e.styledif},[t._v(" "+t._s(t.numberWithCommas(e.diffnumber))+" ")]),e.diffvolumecurrent>=0?a("th",{style:e.styledif},[t._v(" "+t._s(t.numberWithCommas(e.diffvolumecurrent))+" ")]):a("th",{staticStyle:{color:"red"},style:e.styledif},[t._v(" "+t._s(t.numberWithCommas(e.diffvolumecurrent))+" ")]),e.difftax&&e.difftax>=0?a("th",{style:e.styledif},[t._v(" "+t._s(t.numberWithCommas(e.difftax))+".00 ")]):a("th",{staticStyle:{color:"red"},style:e.styledif},[t._v(" "+t._s(t.numberWithCommas(e.difftax))+" ")]),e.percent<0?a("th",{staticStyle:{"text-align":"right",color:"red","font-weight":"bold"}},[t._v(" "+t._s(e.percent)+" ")]):a("th",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s(e.percent)+" ")])])})),a("tr",[a("td",{staticClass:"table-info",staticStyle:{"text-align":"center","font-weight":"bold"}},[t._v(" รวม ")]),a("th",{staticClass:"table-info",staticStyle:{"text-align":"right","font-weight":"bold"},attrs:{scope:"col"}},[t._v(" "+t._s(t.numberWithCommas(t.sumlist.summunber)||0)+" ")]),a("th",{staticClass:"table-info",staticStyle:{"text-align":"right","font-weight":"bold"},attrs:{scope:"col"}},[t._v(" "+t._s(t.numberWithCommas(t.sumlist.sumvolume_liquor)||0)+" ")]),a("th",{staticClass:"table-info",staticStyle:{"text-align":"right","font-weight":"bold"},attrs:{scope:"col"}},[t._v(" "+t._s(t.numberWithCommas(t.sumlist.sumtax)||0)+" ")]),a("th",{staticClass:"table-info",staticStyle:{"text-align":"right","font-weight":"bold"},attrs:{scope:"col"}},[t._v(" "+t._s(t.numberWithCommas(t.sumlist.summunbery)||0)+" ")]),a("th",{staticClass:"table-info",staticStyle:{"text-align":"right","font-weight":"bold"},attrs:{scope:"col"}},[t._v(" "+t._s(t.numberWithCommas(t.sumlist.sumvolume_liquory)||0)+" ")]),a("th",{staticClass:"table-info",staticStyle:{"text-align":"right","font-weight":"bold"},attrs:{scope:"col"}},[t._v(" "+t._s(t.numberWithCommas(t.sumlist.sumtaxy)||0)+" ")]),t.sumlist.summunber-t.sumlist.summunbery<0?a("th",{staticClass:"table-info",staticStyle:{"text-align":"right","font-weight":"bold",color:"red"},attrs:{scope:"col"}},[t._v(" "+t._s(t.numberWithCommas(t.sumlist.summunber-t.sumlist.summunbery))+" ")]):a("th",{staticClass:"table-info",staticStyle:{"text-align":"right","font-weight":"bold"},attrs:{scope:"col"}},[t._v(" "+t._s(t.numberWithCommas(t.sumlist.summunber-t.sumlist.summunbery)||0)+" ")]),t.sumlist.sumvolume_liquor-t.sumlist.sumvolume_liquory<0?a("th",{staticClass:"table-info",staticStyle:{"text-align":"right","font-weight":"bold",color:"red"},attrs:{scope:"col"}},[t._v(" "+t._s(t.numberWithCommas(t.sumlist.sumvolume_liquor-t.sumlist.sumvolume_liquory)||0)+" ")]):a("th",{staticClass:"table-info",staticStyle:{"text-align":"right","font-weight":"bold"},attrs:{scope:"col"}},[t._v(" "+t._s(t.numberWithCommas(t.sumlist.sumvolume_liquor-t.sumlist.sumvolume_liquory)||0)+" ")]),t.sumlist.sumtax-t.sumlist.sumtaxy<0?a("th",{staticClass:"table-info",staticStyle:{"text-align":"right","font-weight":"bold",color:"red"},attrs:{scope:"col"}},[t._v(" "+t._s(t.numberWithCommas(t.sumlist.sumtax-t.sumlist.sumtaxy)||0)+" ")]):a("th",{staticClass:"table-info",staticStyle:{"text-align":"right","font-weight":"bold"},attrs:{scope:"col"}},[t._v(" "+t._s(t.numberWithCommas(t.sumlist.sumtax-t.sumlist.sumtaxy)||0)+".00 ")]),t.sumlist.sumtaxy?a("th",{staticClass:"table-info",staticStyle:{"text-align":"right","font-weight":"bold"},attrs:{scope:"col"}},[(t.sumlist.sumtax-t.sumlist.sumtaxy)/t.sumlist.sumtaxy*100>0?a("span",[t._v(t._s(((t.sumlist.sumtax-t.sumlist.sumtaxy)/t.sumlist.sumtaxy*100).toFixed(2)))]):a("span",{staticStyle:{color:"red"}},[t._v(t._s(((t.sumlist.sumtax-t.sumlist.sumtaxy)/t.sumlist.sumtaxy*100).toFixed(2)))])]):t._e(),0==t.sumlist.sumtaxy?a("th",{staticClass:"table-info",staticStyle:{"text-align":"right","font-weight":"bold"},attrs:{scope:"col"}},[t._v(" 100.00 ")]):t._e()])],2)])])])])},tt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{staticClass:"table-info",staticStyle:{"text-align":"center","font-weight":"bold"}},[t._v(" เดือน ")]),a("th",{staticStyle:{"background-color":"#dae2f3","text-align":"center","font-weight":"bold"}},[t._v(" จำนวนแสตมป์ ")]),a("th",{staticStyle:{"background-color":"#dae2f3","text-align":"center","font-weight":"bold"}},[t._v(" ปริมาณน้ำสุรา ")]),a("th",{staticStyle:{"background-color":"#dae2f3","text-align":"center","font-weight":"bold"}},[t._v(" ภาษีสุทธิ ")]),a("th",{staticStyle:{"background-color":"#fff1cc","text-align":"center","font-weight":"bold"}},[t._v(" จำนวนแสตมป์ ")]),a("th",{staticStyle:{"background-color":"#fff1cc","text-align":"center","font-weight":"bold"}},[t._v(" ปริมาณน้ำสุรา ")]),a("th",{staticStyle:{"background-color":"#fff1cc","text-align":"center","font-weight":"bold"}},[t._v(" ภาษีสุทธิ ")]),a("th",{staticStyle:{"background-color":"#e1efd9","text-align":"center","font-weight":"bold"}},[t._v(" จำนวนแสตมป์ ")]),a("th",{staticStyle:{"background-color":"#e1efd9","text-align":"center","font-weight":"bold"}},[t._v(" ปริมาณน้ำสุรา ")]),a("th",{staticStyle:{"background-color":"#e1efd9","text-align":"center","font-weight":"bold"}},[t._v(" ภาษีสุทธิ ")]),a("th",{staticStyle:{"background-color":"#e1efd9","text-align":"center","font-weight":"bold"}},[t._v(" ร้อยละภาษี ")])])}],et=a("ade3"),at={name:"HelloWorld",data:function(){return{list:[],itemPreviewImage:"",id:"",item:[],data:[],img:"",image:"",net_tax:[],startdate:"",enddate:"",factory_code:"",yearcurrent:"",newlist:[],tbmonth:[{month:10},{month:11},{month:12},{month:1},{month:2},{month:3},{month:4},{month:5},{month:6},{month:7},{month:8},{month:9}],tbsize:[.33,.625,.63,.7,.75],header:[],content:[],tbyear:[],before:[],current:[],taxlist:[],summunber:0,summunbery:0,sumvolume_liquor:0,sumvolume_liquory:0,summunbertwo:0,summunberytwo:0,sumvolume_liquortwo:0,sumvolume_liquorytwo:0,difsummunber:0,difsumvolume_liquor:0,difsummunbertwo:0,difsumvolume_liquortwo:0,taxdatabefore:[],sumthreethree:0,sumsixthree:0,sumsixtwofive:0,sumseven:0,sumsevenfive:0,taxdatacurrent:[],sumthreethreec:0,sumsixthreec:0,sumsixtwofivec:0,sumsevenc:0,sumsevenfivec:0,sumtax:0,sumtaxy:0,sumtaxtwo:0,sumtaxytwo:0,difsumtax:0,difsumtaxtwo:0,percentage:0,percentagetwo:0,months:"",chartOptions:{},series:[],volume_liquorbefore:[],volume_liquorcurrent:[],monthtvolumnable:[],sumlist:{},taxmonthlist:[],taxmonthtable:[],monthlist:[]}},props:{msg:String},computed:{},mounted:function(){var t=this,e=new Date;this.yearcurrent=parseInt(e.getFullYear()+543),this.months=parseInt(e.getMonth()),this.factory_code=this.$route.params.id,this.loaddata(),this.getheader(),this.loadchartOptions(),w.getsumall(this.yearcurrent-1+"-10-01",this.yearcurrent+"-09-30",this.factory_code).then((function(e){t.sumlist=e.data})),w.getlisttax(this.factory_code,"","").then((function(e){t.taxmonthlist=e.data;for(var a=0;a<t.taxmonthlist.length;a++)0==t.taxmonthlist[a].difftax?t.taxmonthlist[a].tax&&t.taxmonthlist[a].taxafter&&(t.taxmonthlist[a].percent="-"):""==t.taxmonthlist[a].difftax?(console.log(t.taxmonthlist[a].taxafter),t.taxmonthlist[a].tax&&t.taxmonthlist[a].taxafter&&(t.taxmonthlist[a].percent="-")):0==t.taxmonthlist[a].taxafter?t.taxmonthlist[a].tax&&0==t.taxmonthlist[a].taxafter?t.taxmonthlist[a].percent="100.00":t.taxmonthlist[a].percent="-":t.taxmonthlist[a].percent=(t.taxmonthlist[a].difftax/t.taxmonthlist[a].taxafter*100).toFixed(2)})),w.getabletax(this.factory_code,"","").then((function(e){t.taxmonthtable=e.data,w.getvolumetax(t.excise_no,"","").then((function(e){t.monthlist=e.data;for(var a=0;a<t.taxmonthtable.length;a++)t.series.push(Object(et["a"])({name:String(t.taxmonthtable[a].y),style:{fontSize:"9px"},year:t.taxmonthtable[a].y},"data",[t.taxmonthtable[a].oct,t.taxmonthtable[a].nov,t.taxmonthtable[a].dec,t.taxmonthtable[a].jan,t.taxmonthtable[a].feb,t.taxmonthtable[a].mar,t.taxmonthtable[a].apr,t.taxmonthtable[a].may,t.taxmonthtable[a].jun,t.taxmonthtable[a].jul,t.taxmonthtable[a].aug,t.taxmonthtable[a].sep]));for(var s=0;s<t.series.length;s++)for(var n=0;n<t.series[s].data.length;n++)t.series[s].data[n]||t.series[s].data.splice(t.monthlist.length)}))}))},methods:{caldiff:function(t,e){var a=0;return t==e&&(a=0),a=t-e,a},calpercentage:function(t,e){var a=0,s=Number.isInteger(t);if(s){var n=t/e;a=parseFloat(100*n).toFixed(2),a==1/0&&(a=(0).toFixed(2)),isNaN(a)&&(a=(0).toFixed(2))}else a=(0).toFixed(2);return a},search:function(){var t=this;w.getReportLiquorTax(this.factory_code).then((function(e){t.list=[],console.log(e.data);for(var a=0;a<e.data.length;a++)t.list.push({tax_payment_date:t.convertdatetothai(e.data[a].tax_payment_date),no:e.data[a].no,factory_code:e.data[a].factory_code,brand_name:e.data[a].brand_name,number:e.data[a].number,degree:e.data[a].degree,size:e.data[a].size,per_each:e.data[a].per_each,volume_liquor:e.data[a].volume_liquor,net:e.data[a].liquor_tax,net_tax:e.data[a].net_tax,colour:"table-success"})}))},convertdatesort:function(t){var e=String(t),a=e.substring(0,e.indexOf("-")),s=e.substring(7,e.indexOf("-"));s=s.substring(1,3);var n=e.substring(8,10);a=parseInt(a)+543;var r=a+"-"+s+"-"+n;return r},total:function(t){for(var e=0,a=0;a<t.length;a++)t[a].number,t[a].volume_liquor,parseInt(t[a].net),t[a].net_tax&&(e+=parseFloat(t[a].net_tax));return e},getheader:function(){var t=this;this.tbyear=[this.yearcurrent,this.yearcurrent-1,this.yearcurrent-2],this.show=!0,y.getDetailExcise(this.factory_code).then((function(e){t.data=e.data})),w.getReportLiquorTaxHeader(this.factory_code).then((function(e){t.header=e.data})),w.getReportLiquorTaxDetail(this.factory_code,String(this.yearcurrent-2+"-10-01"),String(this.yearcurrent-1+"-10-01")).then((function(e){t.before=e.data,w.getReportLiquorTaxDetail(t.factory_code,String(t.yearcurrent-1+"-10-01"),String(t.yearcurrent+"-09-01")).then((function(e){t.current=e.data;for(var a=0;a<t.tbmonth.length;a++)for(var s=0;s<t.header.length;s++)t.content.push({month:t.tbmonth[a].month,size:t.header[s].size,degree:t.header[s].degree,brand_name:t.header[s].brand_name,summunber:0,sumvolume_liquor:0,summunbery:0,sumvolume_liquory:0});for(var n=0;n<t.current.length;n++)for(var r=0;r<t.content.length;r++)t.current[n].month==t.content[r].month&&t.current[n].size==t.content[r].size&&(t.content[r].summunbery=t.current[n].summunber,t.content[r].sumvolume_liquory=t.current[n].sumvolume_liquor);for(var i=0;i<t.content.length;i++)for(var o=0;o<t.before.length;o++)t.before[o].month==t.content[i].month&&t.before[o].size==t.content[i].size&&(t.content[i].summunber=t.before[o].summunber,t.content[i].sumvolume_liquor=t.before[o].sumvolume_liquor);if(t.summonth(),3==t.header.length)for(var l=0;l<t.content.length;l++)if(0==l||4==l||7==l||10==l||13==l||16==l||19==l||22==l||25==l||28==l||31==l||34==l||37==l||40==l||43==l||46==l||49==l){var u="";10==t.content[l].month?u="ตุลาคม":11==t.content[l].month?u="พฤศจิกายน":12==t.content[l].month?u="ธันวาคม":1==t.content[l].month?u="มกราคม":2==t.content[l].month?u="กุมภาพันธ์":3==t.content[l].month?u="มีนาคม":4==t.content[l].month?u="เมษายน":5==t.content[l].month?u="พฤษภาคม":6==t.content[l].month?u="มิถุนายน":7==t.content[l].month?u="กรกฎาคม":8==t.content[l].month?u="สิงหาคม":9==t.content[l].month&&(u="กันยายน"),t.content.splice([l],0,{month:u,summunber:t.content[l].summunber+t.content[l+1].summunber,summunbery:t.content[l].summunbery+t.content[l+1].summunbery,sumvolume_liquor:t.content[l].sumvolume_liquor+t.content[l+1].sumvolume_liquor,sumvolume_liquory:t.content[l].sumvolume_liquory+t.content[l+1].sumvolume_liquory,sumtax:t.content[l].sumtax+t.content[l+1].sumtax,sumtaxy:t.content[l].sumtaxy+t.content[l+1].sumtaxy,colour:"font-weight: bold"})}else t.content[l].sumtaxy=0,t.content[l].sumtax=0,t.content[l].statussumtaxy=!0,t.content[l].statussumtax=!0,t.content[l].month=t.content[l].brand_name+"-"+t.content[l].degree+"-"+t.content[l].size;else if(2==t.header.length)for(var c=0;c<t.content.length;c++)if(0==c||3==c||6==c||9==c||12==c||15==c||18==c||21==c||24==c||27==c||30==c||33==c||36==c){var m="";10==t.content[c].month?m="ตุลาคม":11==t.content[c].month?m="พฤศจิกายน":12==t.content[c].month?m="ธันวาคม":1==t.content[c].month?m="มกราคม":2==t.content[c].month?m="กุมภาพันธ์":3==t.content[c].month?m="มีนาคม":4==t.content[c].month?m="เมษายน":5==t.content[c].month?m="พฤษภาคม":6==t.content[c].month?m="มิถุนายน":7==t.content[c].month?m="กรกฎาคม":8==t.content[c].month?m="สิงหาคม":9==t.content[c].month&&(m="กันยายน"),t.content.splice([c],0,{month:m,summunber:t.content[c].summunber+t.content[c+1].summunber,summunbery:t.content[c].summunbery+t.content[c+1].summunbery,sumvolume_liquor:t.content[c].sumvolume_liquor+t.content[c+1].sumvolume_liquor,sumvolume_liquory:t.content[c].sumvolume_liquory+t.content[c+1].sumvolume_liquory,sumtax:t.content[c].sumtax+t.content[c+1].sumtax,sumtaxy:t.content[c].sumtaxy+t.content[c+1].sumtaxy,colour:"font-weight: bold"})}else t.content[c].sumtaxy=0,t.content[c].sumtax=0,t.content[c].statussumtaxy=!0,t.content[c].statussumtax=!0,t.content[c].month=t.content[c].brand_name+"-"+t.content[c].degree+"-"+t.content[c].size;else for(var h=0;h<t.content.length;h++){var d="";10==t.content[h].month?d="ตุลาคม":11==t.content[h].month?d="พฤศจิกายน":12==t.content[h].month?d="ธันวาคม":1==t.content[h].month?d="มกราคม":2==t.content[h].month?d="กุมภาพันธ์":3==t.content[h].month?d="มีนาคม":4==t.content[h].month?d="เมษายน":5==t.content[h].month?d="พฤษภาคม":6==t.content[h].month?d="มิถุนายน":7==t.content[h].month?d="กรกฎาคม":8==t.content[h].month?d="สิงหาคม":9==t.content[h].month&&(d="กันยายน"),t.content[h].month=d,t.content[h].colour="font-weight: bold"}if(2==t.header.length)for(var v=0;v<t.content.length;v++){if(0==v||3==v||6==v||9==v||12==v||15==v||18==v||21==v||24==v||27==v||30==v||33==v){t.summunber=parseInt(t.summunber+t.content[v].summunber);var b=Number.isInteger(t.content[v].sumtaxy);b&&(t.sumtax=parseInt(t.sumtax+t.content[v].sumtaxy));var f=Number.isInteger(t.content[v].sumtaxy);f&&(t.sumtaxy=parseInt(t.sumtaxy+t.content[v].sumtax)),t.sumvolume_liquor=parseInt(t.sumvolume_liquor+t.content[v].sumvolume_liquor);var _=Number.isInteger(t.content[v].summunbery);_&&(t.summunbery=parseInt(t.summunbery+t.content[v].summunbery));var x=Number.isInteger(t.content[v].sumvolume_liquory);x&&(t.sumvolume_liquory=parseInt(t.sumvolume_liquory+t.content[v].sumvolume_liquory));var g=t.content[v].summunbery-t.content[v].summunber,y=Number.isInteger(g);y?(g=t.calpercentage(g,t.content[v].summunber),t.percentage=(parseFloat(t.percentage)+parseFloat(g)).toFixed(2)):g=0}if(1==v||4==v||7==v||10==v||13==v||16==v||19==v||22==v||25==v||28==v||31==v||34==v){t.summunbertwo=parseInt(t.summunbertwo+t.content[v].summunber);var p=Number.isInteger(t.content[v].sumtaxy);p&&(t.sumtaxtwo=parseInt(t.sumtaxtwo+t.content[v].sumtaxy)),t.sumvolume_liquortwo=parseInt(t.sumvolume_liquortwo+t.content[v].sumvolume_liquor);var C=Number.isInteger(t.content[v].summunbery);C&&(t.summunberytwo=parseInt(t.summunberytwo+t.content[v].summunbery));var q=Number.isInteger(t.content[v].sumtax);q&&(t.sumtaxytwo=parseInt(t.sumtaxytwo+t.content[v].sumtax));var S=Number.isInteger(t.content[v].sumvolume_liquory);S&&(t.sumvolume_liquorytwo=parseInt(t.sumvolume_liquorytwo+t.content[v].sumvolume_liquory));var z=t.content[v].summunbery-t.content[v].summunber,k=Number.isInteger(z);k?(z=t.calpercentage(z,t.content[v].summunber),t.percentagetwo=(parseFloat(t.percentagetwo)+parseFloat(z)).toFixed(2)):z=0}}else for(var I=0;I<t.content.length;I++){var F=Number.isInteger(t.content[I].summunbery);F&&(t.summunbery=parseInt(t.summunbery)+parseInt(t.content[I].summunbery));var E=Number.isInteger(t.content[I].sumvolume_liquory);E&&(t.summunber=parseInt(t.summunber+t.content[I].sumvolume_liquory));var D=Number.isInteger(t.content[I].sumtaxy);D&&(t.sumtax=parseInt(t.sumtax)+parseInt(t.content[I].sumtaxy));var N=Number.isInteger(t.content[I].summunber);N&&(t.sumvolume_liquory=parseInt(t.sumvolume_liquory)+parseInt(t.content[I].summunber));var O=Number.isInteger(t.content[I].sumvolume_liquor);O&&(t.sumvolume_liquor=parseInt(t.sumvolume_liquor)+parseInt(t.content[I].sumvolume_liquor));var M=Number.isInteger(t.content[I].sumtax);M&&(t.sumtaxy=parseInt(t.sumtaxy)+parseInt(t.content[I].sumtax));var j=t.content[I].summunbery-t.content[I].summunber,$=Number.isInteger(j);$?(j=t.calpercentage(j,t.content[I].summunber),t.percentage=(parseFloat(t.percentage)+parseFloat(j)).toFixed(2)):j=0}t.sumtaxy=0;for(var W=0;W<t.content.length;W++){var T=Number.isInteger(t.content[W].sumtax);T&&(t.sumtaxy=t.sumtaxy+t.content[W].sumtax)}w.getsumall(t.yearcurrent-2+"-10-01",t.yearcurrent-1+"-09-30",t.factory_code).then((function(e){t.sumlist.summunbery=e.data.summunber,t.sumlist.sumvolume_liquory=e.data.sumvolume_liquor,t.sumlist.sumtaxy=e.data.sumtax})),w.getMergeLiquorReportByCode(t.factory_code,t.yearcurrent-1+"-10-01",t.yearcurrent+"-09-31").then((function(e){for(var a=[],s=0;s<e.data.length;s++)a.push({tax_payment_date:t.convertdatetothai(e.data[s].tax_payment_date),no:e.data[s].no,factory_code:e.data[s].factory_code,brand_name:e.data[s].brand_name+"-"+e.data[s].degree+"-"+e.data[s].size,number:e.data[s].number,degree:e.data[s].degree,size:e.data[s].size,per_each:e.data[s].per_each,volume_liquor:e.data[s].volume_liquor,net:t.cal(e.data[s].factory_code,e.data[s].number,e.data[s].per_each,e.data[s].degree,e.data[s].size),net_tax:e.data[s].net_tax,colour:"table-success",type:e.data[s].type});for(var n=0;n<t.header.length;n++)0==n?(t.header[n].title=t.header[n].brand_name+"-"+t.header[n].degree+"-"+t.header[n].size,t.header[n].summunbery=t.summunbery,t.header[n].summunber=t.summunber,t.header[n].sumvolume_liquor=t.sumvolume_liquor,t.header[n].sumvolume_liquory=t.sumvolume_liquory,t.header[n].sumtax=t.total(a),t.header[n].sumtaxy=t.sumtaxy,t.header[n].percentage=t.percentage):(t.header[n].title=t.header[n].brand_name+"-"+t.header[n].degree+"-"+t.header[n].size,t.header[n].summunbery=t.summunberytwo,t.header[n].summunber=t.summunbertwo,t.header[n].sumvolume_liquor=t.sumvolume_liquortwo,t.header[n].sumvolume_liquory=t.sumvolume_liquorytwo,t.header[n].sumtax=t.sumtaxtwo,t.header[n].sumtaxy=t.sumtaxytwo,t.header[n].percentage=t.percentagetwo);t.loadgraph()}))}))}))},loaddata:function(){var t=this;w.getReportLiquorTax(this.factory_code).then((function(e){t.list=e.data;for(var a=0;a<t.list.length;a++)t.list[a].net=t.cal(e.data[a].number,e.data[a].per_each,e.data[a].degree,e.data[a].size)})).catch((function(t){console.log(t)}))},groupBy:function(t,e){var a={};return t.forEach((function(t){a[t[e]]||(a[t[e]]=[]),a[t[e]].push(t)})),a},summonth:function(){this.taxlist=this.groupBy(this.list,"month");for(var t=0;t<this.tbmonth.length;t++){this.sumthreethree=0,this.sumsixthree=0,this.sumsixtwofive=0,this.sumseven=0,this.sumsevenfive=0,this.sumthreethreec=0,this.sumsixthreec=0,this.sumsixtwofivec=0,this.sumsevenc=0,this.sumsevenfivec=0;var e=10;if(this.taxlist[t+1])for(var a=0;a<this.taxlist[t+1].length;a++){for(var s=0;s<this.tbsize.length;s++)(10==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-2||11==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-2||12==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-2||1==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||2==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||3==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||4==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||5==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||6==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||7==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||8==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||9==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1)&&this.taxlist[t+1][a].size==this.tbsize[s]?(e=this.taxlist[t+1][a].month,.33==this.tbsize[s]?this.sumthreethree=Math.floor(parseFloat(this.sumthreethree)+parseFloat(this.taxlist[t+1][a].net)):.63==this.tbsize[s]?this.sumsixthree=Math.floor(parseFloat(this.sumsixthree)+parseFloat(this.taxlist[t+1][a].net)):.625==this.tbsize[s]?this.sumsixtwofive=Math.floor(parseFloat(this.sumsixtwofive)+parseFloat(this.taxlist[t+1][a].net)):.7==this.tbsize[s]?this.sumseven=Math.floor(parseFloat(this.sumseven)+parseFloat(this.taxlist[t+1][a].net)):.75==this.tbsize[s]&&(this.sumsevenfive=Math.floor(parseFloat(this.sumsevenfive)+parseFloat(this.taxlist[t+1][a].net)))):(10==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||11==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||12==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||1==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||2==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||3==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||4==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||5==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||6==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||7==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||8==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||9==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent)&&this.taxlist[t+1][a].size==this.tbsize[s]&&(e=this.taxlist[t+1][a].month,.33==this.tbsize[s]?this.sumthreethreec=Math.floor(parseFloat(this.sumthreethreec)+parseFloat(this.taxlist[t+1][a].net)):.63==this.tbsize[s]?this.sumsixthreec=Math.floor(parseFloat(this.sumsixthreec)+parseFloat(this.taxlist[t+1][a].net)):.625==this.tbsize[s]?this.sumsixtwofivec=Math.floor(parseFloat(this.sumsixtwofivec)+parseFloat(this.taxlist[t+1][a].net)):.7==this.tbsize[s]?this.sumsevenc=Math.floor(parseFloat(this.sumsevenc)+parseFloat(this.taxlist[t+1][a].net)):.75==this.tbsize[s]&&(this.sumsevenfivec=Math.floor(parseFloat(this.sumsevenfivec)+parseFloat(this.taxlist[t+1][a].net))));this.sumthreethree?this.taxdatabefore.push({month:e,size:.33,sumtax:this.sumthreethree}):this.taxdatabefore.push({month:e,size:.33,sumtax:0}),this.sumsixthree?this.taxdatabefore.push({month:e,size:.63,sumtax:this.sumsixthree}):this.taxdatabefore.push({month:e,size:.63,sumtax:0}),this.sumsixtwofive?this.taxdatabefore.push({month:e,size:.625,sumtax:this.sumsixtwofive}):this.taxdatabefore.push({month:e,size:.625,sumtax:0}),this.sumsevenfive?this.taxdatabefore.push({month:e,size:.75,sumtax:this.sumsevenfive}):this.taxdatabefore.push({month:e,size:.75,sumtax:0}),this.sumseven?this.taxdatabefore.push({month:e,size:.7,sumtax:this.sumseven}):this.taxdatabefore.push({month:e,size:.7,sumtax:0}),this.sumthreethreec?this.taxdatacurrent.push({month:e,size:.33,sumtaxy:this.sumthreethreec}):this.taxdatacurrent.push({month:e,size:.33,sumtaxy:0}),this.sumsixthreec?this.taxdatacurrent.push({month:e,size:.63,sumtaxy:this.sumsixthreec}):this.taxdatacurrent.push({month:e,size:.63,sumtaxy:0}),this.sumsixtwofivec?this.taxdatacurrent.push({month:e,size:.625,sumtaxy:this.sumsixtwofivec}):this.taxdatacurrent.push({month:e,size:.625,sumtaxy:0}),this.sumsevenfivec?this.taxdatacurrent.push({month:e,size:.75,sumtaxy:this.sumsevenfivec}):this.taxdatacurrent.push({month:e,size:.75,sumtaxy:0}),this.sumsevenc?this.taxdatacurrent.push({month:e,size:.7,sumtaxy:this.sumsevenc}):this.taxdatacurrent.push({month:e,size:.7,sumtaxy:0})}}for(var n=0;n<this.taxdatabefore.length;n++)for(var r=0;r<this.content.length;r++)this.taxdatabefore[n].month==this.content[r].month&&this.taxdatabefore[n].size==this.content[r].size&&(this.content[r].sumtax=this.taxdatabefore[n].sumtax);for(var i=0;i<this.content.length;i++)for(var o=0;o<this.taxdatacurrent.length;o++)this.taxdatacurrent[o].month==this.content[i].month&&this.taxdatacurrent[o].size==this.content[i].size&&(this.content[i].sumtaxy=this.taxdatacurrent[o].sumtaxy)},calsum:function(){for(var t=0,e=0,a=0,s=0;s<this.list.length;s++)t=parseInt(t+this.list[s].number),e=parseInt(e+this.list[s].volume_liquor),a=Math.floor(parseFloat(a)+parseFloat(this.list[s].net_tax)),this.list[s].sumnumber=t,this.list[s].sumvolume_liquor=e,this.list[s].sumnet=a},cal_net_tax:function(){for(var t=0;t<this.list.length;t++)0!=t&&this.list[t].no==this.list[t-1].no?this.list[t-1].net_tax=Math.floor(parseFloat(this.list[t].net)+parseFloat(this.list[t-1].net)):this.list[t].net_tax=Math.floor(parseFloat(this.list[t].net))},cal:function(t,e,a,s){var n=0,r=0,i=0,o=0;return 540002==this.factory_code?(n=10*t/100*e,r=150*a/100*s*t,(n+r).toFixed(2)):(i=2*t/100*e,o=155*a/100*s*t,(i+o).toFixed(2))},convertdatetothai:function(t){if(t){var e=new Date(t),a=e.getMonth()+1,s=e.getDate(),n=e.getFullYear(),r=s+"/"+a+"/"+n;return r}},loadchartOptions:function(){this.chartOptions={chart:{height:500,type:"line",dropShadow:{enabled:!0,color:"#000",top:18,left:7,blur:10,opacity:.2},toolbar:{show:!1}},colors:["#77B6EA","#EC7C30"],dataLabels:{enabled:!0},stroke:{curve:"straight"},title:{text:"กราฟแสดงสถิติการชำระภาษี",align:"left",style:{fontSize:"9px"}},grid:{borderColor:"#e7e7e7",row:{colors:["#f3f3f3","transparent"],opacity:.5}},markers:{size:0},xaxis:{categories:["ตุลาคม","พฤศจิกายน","ธันวาคม","มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน"],title:{text:"เดือน",style:{fontSize:"9px"}},labels:{style:{fontSize:"9px"}}},yaxis:{title:{text:"ปริมาณน้ำสุรา (ลิตร)",style:{fontSize:"9px"}},labels:{style:{fontSize:"9px"}}},legend:{position:"top",horizontalAlign:"right",floating:!0,offsetY:-25,offsetX:-5}}},loadvolumnable:function(){this.monthtvolumnable.push({year:this.yearcurrent,style:"background: rgb(119, 182, 234) !important; color: rgb(119, 182, 234); height: 12px; width: 12px; left: 0px; top: 0px; border-width: 0px; border-color: rgb(255, 255, 255); border-radius: 12px;"}),this.monthtvolumnable.push({year:this.yearcurrent-1,style:"background: rgb(236, 124, 48) !important; color: rgb(236, 124, 48); height: 12px; width: 12px; left: 0px; top: 0px; border-width: 0px; border-color: rgb(255, 255, 255); border-radius: 12px;"});for(var t=0;t<this.monthtvolumnable.length;t++){if(0==t)for(var e=0;e<this.volume_liquorcurrent.length;e++)0==e?this.monthtvolumnable[t].oct=this.volume_liquorcurrent[e]:1==e?this.monthtvolumnable[t].nov=this.volume_liquorcurrent[e]:2==e?this.monthtvolumnable[t].dec=this.volume_liquorcurrent[e]:3==e?this.monthtvolumnable[t].jan=this.volume_liquorcurrent[e]:4==e?this.monthtvolumnable[t].feb=this.volume_liquorcurrent[e]:5==e?this.monthtvolumnable[t].mar=this.volume_liquorcurrent[e]:6==e?this.monthtvolumnable[t].apr=this.volume_liquorcurrent[e]:7==e?this.monthtvolumnable[t].may=this.volume_liquorcurrent[e]:8==e?this.monthtvolumnable[t].jun=this.volume_liquorcurrent[e]:9==e?this.monthtvolumnable[t].jul=this.volume_liquorcurrent[e]:10==e?this.monthtvolumnable[t].aug=this.volume_liquorcurrent[e]:11==e&&(this.monthtvolumnable[t].sep=this.volume_liquorcurrent[e]);if(1==t)for(var a=0;a<this.volume_liquorbefore.length;a++)0==a?this.monthtvolumnable[t].oct=this.volume_liquorbefore[a]:1==a?this.monthtvolumnable[t].nov=this.volume_liquorbefore[a]:2==a?this.monthtvolumnable[t].dec=this.volume_liquorbefore[a]:3==a?this.monthtvolumnable[t].jan=this.volume_liquorbefore[a]:4==a?this.monthtvolumnable[t].feb=this.volume_liquorbefore[a]:5==a?this.monthtvolumnable[t].mar=this.volume_liquorbefore[a]:6==a?this.monthtvolumnable[t].apr=this.volume_liquorbefore[a]:7==a?this.monthtvolumnable[t].may=this.volume_liquorbefore[a]:8==a?this.monthtvolumnable[t].jun=this.volume_liquorbefore[a]:9==a?this.monthtvolumnable[t].jul=this.volume_liquorbefore[a]:10==a?this.monthtvolumnable[t].aug=this.volume_liquorbefore[a]:11==a&&(this.monthtvolumnable[t].sep=this.volume_liquorbefore[a])}},loadgraph:function(){if(2==this.header.length)for(var t=0;t<this.content.length;t++)0!=t&&3!=t&&6!=t&&9!=t&&12!=t&&15!=t&&18!=t&&21!=t&&24!=t&&27!=t&&30!=t&&33!=t||(0==this.content[t].sumvolume_liquory?this.volume_liquorcurrent.push(null):this.volume_liquorcurrent.push(this.content[t].sumvolume_liquory),this.volume_liquorbefore.push(this.content[t].sumvolume_liquor));else for(var e=0;e<this.content.length;e++)0==this.content[e].sumvolume_liquory?this.volume_liquorcurrent.push(null):this.volume_liquorcurrent.push(this.content[e].sumvolume_liquory),this.volume_liquorbefore.push(this.content[e].sumvolume_liquor);for(var a=0;a<this.series.length;a++)this.series[a].year==this.yearcurrent-1?this.series[a]["data"]=this.volume_liquorbefore:this.series[a].year==this.yearcurrent&&(this.series[a]["data"]=this.volume_liquorcurrent);this.loadvolumnable()},numberWithCommas:function(t){var e=0;return t=parseInt(t),e=isNaN(t)?"":t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),e}}},st=at,nt=(a("4924"),Object(l["a"])(st,Z,tt,!1,null,"c6c463f4",null)),rt=nt.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello mt-5"},[a("div",{staticClass:"row"},[t._m(0),t._m(1),a("div",{staticClass:"col-12 mb-3",attrs:{align:"center"}},[a("button",{staticClass:"btn btn-success",staticStyle:{"margin-top":"10px","text-align":"right"},attrs:{type:"submit"},on:{click:function(e){return t.search()}}},[t._v(" ค้นหา ")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("table",{staticClass:"table table-bordered"},[t._m(2),a("tbody",[t._l(t.list,(function(e,s){return a("tr",{key:s},[a("td",{staticStyle:{"text-align":"center","background-color":"#eaeef7"}},[t._v(" "+t._s(e.tax_payment_date)+" ")]),a("td",{staticStyle:{"text-align":"center","background-color":"#eaeef7"}},[t._v(" "+t._s(e.brand_name)+" ")]),a("td",{staticStyle:{"text-align":"right","background-color":"#eaeef7"}},[t._v(" "+t._s(e.degree)+" ")]),a("td",{staticStyle:{"text-align":"right","background-color":"#eaeef7"}},[t._v(" "+t._s(e.size)+" ")]),a("td",{staticStyle:{"text-align":"right","background-color":"#eaeef7"}},[t._v(" "+t._s(e.number)+" ")]),a("td",{staticStyle:{"text-align":"right","background-color":"#eaeef7"}},[t._v(" "+t._s(e.volume_liquor)+" ")]),a("td",{staticStyle:{"text-align":"right","background-color":"#eaeef7"}},[t._v(" "+t._s(e.per_each)+" ")]),a("td",{staticStyle:{"text-align":"right","background-color":"#eaeef7"}},[t._v(" "+t._s(t.numberWithCommas(e.net)+".00")+" ")]),e.net_tax?a("td",{staticStyle:{"text-align":"right","background-color":"#eaeef7"}},[t._v(" "+t._s(t.numberWithCommas(e.net_tax)+".00")+" ")]):t._e(),e.net_tax?t._e():a("td",{staticStyle:{"text-align":"right","background-color":"#eaeef7"}})])})),a("tr",[a("td",{staticStyle:{"font-weight":"bold","text-align":"center","background-color":"#eaeef7"},attrs:{colspan:"4"}},[t._v(" รวมทั้งสิ้น ")]),a("td",{staticStyle:{"font-weight":"bold","text-align":"right","background-color":"#eaeef7"}},[t._v(" "+t._s(t.numberWithCommas(t.sumnumber))+" ")]),a("td",{staticStyle:{"font-weight":"bold","text-align":"right","background-color":"#eaeef7"}},[t._v(" "+t._s(t.numberWithCommas(t.sumvolume))+" ")]),a("td",{staticStyle:{"font-weight":"bold","text-align":"right","background-color":"#eaeef7"}}),a("td",{staticStyle:{"font-weight":"bold","text-align":"right","background-color":"#eaeef7"}},[t._v(" "+t._s(t.numberWithCommas(t.sumtax))+" ")]),a("td",{staticStyle:{"font-weight":"bold","text-align":"right","background-color":"#eaeef7"}},[t._v(" "+t._s(t.numberWithCommas(t.sumnettax)+".00")+" ")])])],2)])])])])},ot=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-6"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("วันเริ่มต้น")]),a("input",{staticClass:"form-control",attrs:{id:"start_date"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-6"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("วันสิ้นสุด")]),a("input",{staticClass:"form-control",attrs:{id:"end_date"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{"font-weight":"bold","text-align":"center","background-color":"#deebf7"},attrs:{scope:"col"}},[t._v(" วันที่ ")]),a("th",{staticStyle:{"font-weight":"bold","text-align":"center","background-color":"#deebf7"},attrs:{scope:"col"}},[t._v(" รายการสินค้า ")]),a("th",{staticStyle:{"font-weight":"bold","text-align":"center","background-color":"#deebf7"},attrs:{scope:"col"}},[t._v(" ดีกรี ")]),a("th",{staticStyle:{"font-weight":"bold","text-align":"center","background-color":"#deebf7"},attrs:{scope:"col"}},[t._v(" ขนาดบรรจุ (ลิตร) ")]),a("th",{staticStyle:{"font-weight":"bold","text-align":"center","background-color":"#deebf7"},attrs:{scope:"col"}},[t._v(" จำนวน (ดวง) ")]),a("th",{staticStyle:{"font-weight":"bold","text-align":"center","background-color":"#deebf7"},attrs:{scope:"col"}},[t._v(" ปริมาณน้ำสุรา (ลิตร) ")]),a("th",{staticStyle:{"font-weight":"bold","text-align":"center","background-color":"#deebf7"},attrs:{scope:"col"}},[t._v(" ราคาขายปลีกแนะนำ ")]),a("th",{staticStyle:{"font-weight":"bold","text-align":"center","background-color":"#deebf7"},attrs:{scope:"col"}},[t._v(" ภาษีสุรา (บาท) ")]),a("th",{staticStyle:{"font-weight":"bold","text-align":"center","background-color":"#deebf7"},attrs:{scope:"col"}},[t._v(" ภาษีสุทธิ (บาท) ")])])])}],lt={name:"HelloWorld",data:function(){return{sumnumber:0,sumvolume:0,sumtax:0,list:[],itemPreviewImage:"",id:"",item:[],img:"",image:"",net_tax:[],startdate:"",enddate:"",factory_code:"",monthcurrent:"",yearcurrent:"",sumpereach:0,sumnettax:0}},computed:{},mounted:function(){var t=new Date;this.monthcurrent=parseInt(t.getMonth()),this.yearcurrent=parseInt(t.getFullYear()+543),picker_date(document.getElementById("start_date"),{year_range:"-12:+10"}),picker_date(document.getElementById("end_date"),{year_range:"-12:+10"}),this.factory_code=this.$route.params.id,this.loaddata();var e=new Date,a=new Date(e.getFullYear(),e.getMonth()+1,0);this.startdate=this.yearcurrent-1+"-10-01",1==(this.monthcurrent+1).toString().length?this.enddate=this.yearcurrent+"-0"+parseInt(this.monthcurrent+1)+"-"+a.getDate():this.enddate=this.yearcurrent+"-"+parseInt(this.monthcurrent+1)+"-"+a.getDate(),document.getElementById("start_date").value=this.getdate(this.startdate),document.getElementById("end_date").value=this.getdate(this.enddate)},methods:{getdate:function(t){var e=new Date(t),a=e.getDate(),s=e.getMonth()+1,n=e.getFullYear();return 1==a.toString().length&&(a="0"+a),1==s.toString().length&&(s="0"+s),a+"/"+s+"/"+n},changeyearend:function(){var t=this.enddate.substring(0,2);if(20==t){var e=new Date(this.enddate),a=this.enddate.substring(0,4),s=e.getDate(),n=e.getMonth()+1;1==s.toString().length&&(s="0"+s),1==n.toString().length&&(n="0"+n);var r=parseInt(a)+543+"-"+n+"-"+s;this.enddate=r}},changeyearstart:function(){var t=this.startdate.substring(0,2);if(20==t){var e=new Date(this.startdate),a=this.startdate.substring(0,4),s=e.getDate(),n=e.getMonth()+1;1==s.toString().length&&(s="0"+s),1==n.toString().length&&(n="0"+n);var r=parseInt(a)+543+"-"+n+"-"+s;this.startdate=r}},createddate:function(t){var e=String(t),a=e.substring(0,e.indexOf("/")),s=e.substring(5,e.indexOf("/"));s=s.substring(1,3);var n=e.substring(5),r=s+"/"+a+n,i=new Date(r),o=i.getDate(),l=i.getMonth()+1,u=i.getFullYear();return 1==o.toString().length&&(o="0"+o),1==l.toString().length&&(l="0"+l),u+"-"+l+"-"+o},search:function(){var t=this;this.startdate=this.createddate(document.getElementById("start_date").value),this.enddate=this.createddate(document.getElementById("end_date").value),w.getMergeLiquorReportByCode(this.factory_code,this.startdate,this.enddate).then((function(e){t.list=[];for(var a=0;a<e.data.length;a++)t.list.push({tax_payment_date:t.convertdatetothai(e.data[a].tax_payment_date),no:e.data[a].no,factory_code:e.data[a].factory_code,brand_name:e.data[a].brand_name+"-"+e.data[a].degree+"-"+e.data[a].size,number:e.data[a].number,degree:e.data[a].degree,size:e.data[a].size,per_each:e.data[a].per_each,volume_liquor:e.data[a].volume_liquor,net:t.cal(e.data[a].factory_code,e.data[a].number,e.data[a].per_each,e.data[a].degree,e.data[a].size),net_tax:e.data[a].net_tax,colour:"table-success"});t.cal_net_tax()}))},convertdatesort:function(t){var e=String(t),a=e.substring(0,e.indexOf("-")),s=e.substring(7,e.indexOf("-"));s=s.substring(1,3);var n=e.substring(8,10);a=parseInt(a)+543;var r=a+"-"+s+"-"+n;return r},loaddata:function(){var t=this,e=new Date,a=new Date(e.getFullYear(),e.getMonth()+1,0);w.getMergeLiquorReportByCode(this.factory_code,String(this.yearcurrent-1+"-10-01"),String(this.yearcurrent+"-"+parseInt(this.monthcurrent+1)+"-"+a.getDate())).then((function(e){for(var a=0;a<e.data.length;a++)t.list.push({tax_payment_date:t.convertdatetothai(e.data[a].tax_payment_date),no:e.data[a].no,factory_code:e.data[a].factory_code,brand_name:e.data[a].brand_name+"-"+e.data[a].degree+"-"+e.data[a].size,number:e.data[a].number,degree:e.data[a].degree,size:e.data[a].size,per_each:e.data[a].per_each,volume_liquor:e.data[a].volume_liquor,net:t.cal(e.data[a].factory_code,e.data[a].number,e.data[a].per_each,e.data[a].degree,e.data[a].size),net_tax:e.data[a].net_tax,colour:"table-success",type:e.data[a].type});t.cal_net_tax()})).catch((function(t){console.log(t)}))},cal_net_tax:function(){this.total()},cal:function(t,e,a,s,n){var r=0,i=0,o=0,l=0;return 540002==t?(r=10*e/100*a,i=150*s/100*n*e,(r+i).toFixed(2)):(o=2*e/100*a,l=155*s/100*n*e,(o+l).toFixed(2))},convertdatetothai:function(t){if(t){var e=new Date(t),a=e.getMonth()+1,s=e.getDate(),n=e.getFullYear(),r=s+"/"+a+"/"+n;return r}},numberWithCommas:function(t){var e=0;return t=parseInt(t),e=isNaN(t)?"":t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),e},groupBy:function(t,e){var a={};return t.forEach((function(t){a[t[e]]||(a[t[e]]=[]),a[t[e]].push(t)})),a},total:function(){this.sumnumber=0,this.sumvolume=0,this.sumpereach=0,this.sumtax=0,this.sumnettax=0;for(var t=0;t<this.list.length;t++)this.sumnumber=this.sumnumber+this.list[t].number,this.sumvolume=this.sumvolume+this.list[t].volume_liquor,this.sumpereach=this.sumvolume+this.list[t].per_each,this.sumtax=this.sumtax+parseInt(this.list[t].net),this.list[t].net_tax&&(this.sumnettax=this.sumnettax+parseFloat(this.list[t].net_tax))}}},ut=lt,ct=(a("75bb"),Object(l["a"])(ut,it,ot,!1,null,"7ba41430",null)),mt=ct.exports,ht={name:"App",components:{graphtax:Q,graphvolumnold:rt,ReportTax:mt},data:function(){return{date:"",data:[],excise_no:"",show:!1,series:[],numthreethree:[],numsixtwofive:[],numsixthree:[],numseven:[],numsevenfive:[],numthreethreecurrent:[],numsixtwofivecurrent:[],numsixthreecurrent:[],numsevencurrent:[],numsevenfivecurrent:[],table:[],chartOptions:{},detail:[],month:[],sumthreethree:0,sumsixtwofive:0,sumsixthree:0,sumseven:0,sumsevenfive:0,sumthreethreey:0,sumsixtwofivey:0,sumsixthreey:0,sumseveny:0,sumsevenfivey:0,total:0,statusthreethree:!1,statussixtwofive:!1,statussixthree:!1,statusseven:!1,statussevenfive:!1,tablenew:[{month:10},{month:11},{month:12},{month:1},{month:2},{month:3},{month:4},{month:5},{month:6},{month:7},{month:8},{month:9}],yearcurrent:"",report:[],excise_id:"",brand_name:[],diff:[],degree:[],span:3,spanbrand:1}},methods:{getreport:function(){var t=this;Y.getVerify(this.excise_id).then((function(e){t.report=e.data})).catch((function(){}))},caldif:function(t,e){null==e&&(e=0);var a=t-e,s=Number.isInteger(a);return s||(a=""),a},loadDetail:function(){var t=this;w.getTablebyfactory_code(this.excise_no).then((function(e){t.table=e.data,t.show=!0,y.getDetailExcise(t.excise_no).then((function(e){t.data=e.data,t.excise_id=e.data.excise_id,t.getreport()}));for(var a=0;a<t.tablenew.length;a++)for(var s=0;s<t.table.length;s++)t.table[s].month==t.tablenew[a].month&&10==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-2?(t.tablenew[a].degree=t.table[s].degree,t.tablenew[a].seven=t.table[s].seven,t.tablenew[a].sevenfive=t.table[s].sevenfive,t.tablenew[a].sixthree=t.table[s].sixthree,t.tablenew[a].sixtwofive=t.table[s].sixtwofive,t.tablenew[a].size=t.table[s].size,t.tablenew[a].sumnumber=t.table[s].sumnumber,t.tablenew[a].threethree=t.table[s].threethree,t.tablenew[a].year=t.table[s].year,t.sumthreethree=t.sumthreethree+t.table[s].threethree,t.sumsixtwofive=t.sumsixtwofive+t.table[s].sixtwofive,t.sumsixthree=t.sumsixthree+t.table[s].sixthree,t.sumseven=t.sumseven+t.table[s].seven,t.sumsevenfive=t.sumsevenfive+t.table[s].sevenfive):t.table[s].month==t.tablenew[a].month&&11==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-2||t.table[s].month==t.tablenew[a].month&&12==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-2||t.table[s].month==t.tablenew[a].month&&1==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-1||t.table[s].month==t.tablenew[a].month&&2==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-1||t.table[s].month==t.tablenew[a].month&&3==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-1||t.table[s].month==t.tablenew[a].month&&4==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-1||t.table[s].month==t.tablenew[a].month&&5==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-1?(t.tablenew[a].degree=t.table[s].degree,t.tablenew[a].seven=t.table[s].seven,t.tablenew[a].sevenfive=t.table[s].sevenfive,t.tablenew[a].sixthree=t.table[s].sixthree,t.tablenew[a].sixtwofive=t.table[s].sixtwofive,t.tablenew[a].size=t.table[s].size,t.tablenew[a].sumnumber=t.table[s].sumnumber,t.tablenew[a].threethree=t.table[s].threethree,t.tablenew[a].year=t.table[s].year,t.sumthreethree=t.sumthreethree+t.table[s].threethree,t.sumsixtwofive=t.sumsixtwofive+t.table[s].sixtwofive,t.sumsixthree=t.sumsixthree+t.table[s].sixthree,t.sumseven=t.sumseven+t.table[s].seven,t.sumsevenfive=t.sumsevenfive+t.table[s].sevenfive,t.sumsevenfive,t.table[s].sevenfive):t.table[s].month==t.tablenew[a].month&&6==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-1?(console.log(),t.tablenew[a].degree=t.table[s].degree,t.tablenew[a].seven=t.table[s].seven,t.tablenew[a].sevenfive=t.table[s].sevenfive,t.tablenew[a].sixthree=t.table[s].sixthree,t.tablenew[a].sixtwofive=t.table[s].sixtwofive,t.tablenew[a].size=t.table[s].size,t.tablenew[a].sumnumber=t.table[s].sumnumber,t.tablenew[a].threethree=t.table[s].threethree,t.tablenew[a].year=t.table[s].year,t.sumthreethree=t.sumthreethree+t.table[s].threethree,t.sumsixtwofive=t.sumsixtwofive+t.table[s].sixtwofive,t.sumsixthree=t.sumsixthree+t.table[s].sixthree,t.sumseven=t.sumseven+t.table[s].seven,t.sumsevenfive=t.sumsevenfive+t.table[s].sevenfive,t.sumsevenfive,t.table[s].sevenfive):t.table[s].month==t.tablenew[a].month&&7==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-1||t.table[s].month==t.tablenew[a].month&&8==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-1||t.table[s].month==t.tablenew[a].month&&9==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-1?(t.tablenew[a].degree=t.table[s].degree,t.tablenew[a].seven=t.table[s].seven,t.tablenew[a].sevenfive=t.table[s].sevenfive,t.tablenew[a].sixthree=t.table[s].sixthree,t.tablenew[a].sixtwofive=t.table[s].sixtwofive,t.tablenew[a].size=t.table[s].size,t.tablenew[a].sumnumber=t.table[s].sumnumber,t.tablenew[a].threethree=t.table[s].threethree,t.tablenew[a].year=t.table[s].year,t.sumthreethree=t.sumthreethree+t.table[s].threethree,t.sumsixtwofive=t.sumsixtwofive+t.table[s].sixtwofive,t.sumsixthree=t.sumsixthree+t.table[s].sixthree,t.sumseven=t.sumseven+t.table[s].seven,t.sumsevenfive=t.sumsevenfive+t.table[s].sevenfive,t.sumsevenfive,t.table[s].sevenfive):t.table[s].month==t.tablenew[a].month&&10==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-1?(t.tablenew[a].degreey=t.table[s].degree,t.tablenew[a].seveny=t.table[s].seven,t.tablenew[a].sevenfivey=t.table[s].sevenfive,t.tablenew[a].sixthreey=t.table[s].sixthree,t.tablenew[a].sixtwofivey=t.table[s].sixtwofive,t.tablenew[a].sizey=t.table[s].size,t.tablenew[a].sumnumbery=t.table[s].sumnumber,t.tablenew[a].threethreey=t.table[s].threethree,t.tablenew[a].yeary=t.table[s].year,t.sumthreethreey=t.sumthreethreey+t.table[s].threethree,t.sumsixtwofivey=t.sumsixtwofivey+t.table[s].sixtwofive,t.sumsixthreey=t.sumsixthreey+t.table[s].sixthree,t.sumseveny=t.sumseveny+t.table[s].seven,t.sumsevenfivey=t.sumsevenfivey+t.table[s].sevenfive):t.table[s].month==t.tablenew[a].month&&11==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-1?(t.tablenew[a].degreey=t.table[s].degree,t.tablenew[a].seveny=t.table[s].seven,t.tablenew[a].sevenfivey=t.table[s].sevenfive,t.tablenew[a].sixthreey=t.table[s].sixthree,t.tablenew[a].sixtwofivey=t.table[s].sixtwofive,t.tablenew[a].sizey=t.table[s].size,t.tablenew[a].sumnumbery=t.table[s].sumnumber,t.tablenew[a].threethreey=t.table[s].threethree,t.tablenew[a].yeary=t.table[s].year,t.sumthreethreey=t.sumthreethreey+t.table[s].threethree,t.sumsixtwofivey=t.sumsixtwofivey+t.table[s].sixtwofive,t.sumsixthreey=t.sumsixthreey+t.table[s].sixthree,t.sumseveny=t.sumseveny+t.table[s].seven,t.sumsevenfivey=t.sumsevenfivey+t.table[s].sevenfive,t.sumsevenfive,t.table[s].sevenfive):(t.table[s].month==t.tablenew[a].month&&12==t.tablenew[a].month&&t.table[s].year==t.yearcurrent-1||t.table[s].month==t.tablenew[a].month&&1==t.tablenew[a].month&&t.table[s].year==t.yearcurrent||t.table[s].month==t.tablenew[a].month&&2==t.tablenew[a].month&&t.table[s].year==t.yearcurrent||t.table[s].month==t.tablenew[a].month&&3==t.tablenew[a].month&&t.table[s].year==t.yearcurrent||t.table[s].month==t.tablenew[a].month&&4==t.tablenew[a].month&&t.table[s].year==t.yearcurrent||t.table[s].month==t.tablenew[a].month&&5==t.tablenew[a].month&&t.table[s].year==t.yearcurrent||t.table[s].month==t.tablenew[a].month&&6==t.tablenew[a].month&&t.table[s].year==t.yearcurrent||t.table[s].month==t.tablenew[a].month&&7==t.tablenew[a].month&&t.table[s].year==t.yearcurrent||t.table[s].month==t.tablenew[a].month&&8==t.tablenew[a].month&&t.table[s].year==t.yearcurrent||t.table[s].month==t.tablenew[a].month&&9==t.tablenew[a].month&&t.table[s].year==t.yearcurrent)&&(t.tablenew[a].degreey=t.table[s].degree,t.tablenew[a].seveny=t.table[s].seven,t.tablenew[a].sevenfivey=t.table[s].sevenfive,t.tablenew[a].sixthreey=t.table[s].sixthree,t.tablenew[a].sixtwofivey=t.table[s].sixtwofive,t.tablenew[a].sizey=t.table[s].size,t.tablenew[a].sumnumbery=t.table[s].sumnumber,t.tablenew[a].threethreey=t.table[s].threethree,t.tablenew[a].yeary=t.table[s].year,t.sumthreethreey=t.sumthreethreey+t.table[s].threethree,t.sumsixtwofivey=t.sumsixtwofivey+t.table[s].sixtwofive,t.sumsixthreey=t.sumsixthreey+t.table[s].sixthree,t.sumseveny=t.sumseveny+t.table[s].seven,t.sumsevenfivey=t.sumsevenfivey+t.table[s].sevenfive);for(var n=0;n<t.table.length;n++)10==t.table[n].month&&t.table[n].year==t.yearcurrent-2||11==t.table[n].month&&t.table[n].year==t.yearcurrent-2||12==t.table[n].month&&t.table[n].year==t.yearcurrent-2||1==t.table[n].month&&t.table[n].year==t.yearcurrent-1||2==t.table[n].month&&t.table[n].year==t.yearcurrent-1||3==t.table[n].month&&t.table[n].year==t.yearcurrent-1||4==t.table[n].month&&t.table[n].year==t.yearcurrent-1||5==t.table[n].month&&t.table[n].year==t.yearcurrent-1||6==t.table[n].month&&t.table[n].year==t.yearcurrent-1||7==t.table[n].month&&t.table[n].year==t.yearcurrent-1||8==t.table[n].month&&t.table[n].year==t.yearcurrent-1||9==t.table[n].month&&t.table[n].year==t.yearcurrent-1?(t.numthreethree.push(t.table[n].threethree),t.numsixtwofive.push(t.table[n].sixtwofive),t.numsixthree.push(t.table[n].sixthree),t.numseven.push(t.table[n].seven),t.numsevenfive.push(t.table[n].sevenfive)):(10==t.table[n].month&&t.table[n].year==t.yearcurrent-1||11==t.table[n].month&&t.table[n].year==t.yearcurrent-1||12==t.table[n].month&&t.table[n].year==t.yearcurrent-1||1==t.table[n].month&&t.table[n].year==t.yearcurrent||2==t.table[n].month&&t.table[n].year==t.yearcurrent||3==t.table[n].month&&t.table[n].year==t.yearcurrent||4==t.table[n].month&&t.table[n].year==t.yearcurrent||5==t.table[n].month&&t.table[n].year==t.yearcurrent||6==t.table[n].month&&t.table[n].year==t.yearcurrent||7==t.table[n].month&&t.table[n].year==t.yearcurrent||8==t.table[n].month&&t.table[n].year==t.yearcurrent||9==t.table[n].month&&t.table[n].year==t.yearcurrent)&&(t.numthreethreecurrent.push(t.table[n].threethree),t.numsixtwofivecurrent.push(t.table[n].sixtwofive),t.numsixthreecurrent.push(t.table[n].sixthree),t.numsevencurrent.push(t.table[n].seven),t.numsevenfivecurrent.push(t.table[n].sevenfive));for(var r=0;r<t.tablenew.length;r++)null==t.tablenew[r].year&&(t.numthreethree.splice([r],0,0),t.numsixtwofive.splice([r],0,0),t.numsixthree.splice([r],0,0),t.numseven.splice([r],0,0),t.numsevenfive.splice([r],0,0));w.getDetailbyfactory_code(t.excise_no).then((function(e){t.detail=e.data,t.detail.length>1&&(t.span=2*t.detail.length*2,t.spanbrand=t.detail.length);for(var a=0;a<t.detail.length;a++)1==t.detail.length?(t.brand_name.push({name:t.detail[a].brand_name+" ปี "+String(t.yearcurrent-1),color:"bg-primary"}),t.brand_name.push({name:t.detail[a].brand_name+" ปี "+String(t.yearcurrent),color:"bg-success"}),t.degree.push({degree:t.detail[a].degree,color:"bg-primary"}),t.degree.push({degree:t.detail[a].degree,color:"bg-success"})):0==a?(t.brand_name.push({name:t.detail[a].brand_name+" ปี "+String(t.yearcurrent-1),color:"bg-primary"}),t.degree.push({degree:t.detail[a].degree,color:"bg-primary"}),t.degree.push({degree:t.detail[a].degree,color:"bg-primary"})):(t.brand_name.push({name:t.detail[a].brand_name+" ปี "+String(t.yearcurrent),color:"bg-success"}),t.degree.push({degree:t.detail[a].degree,color:"bg-success"}),t.degree.push({degree:t.detail[a].degree,color:"bg-success"})),.33==t.detail[a].size?(t.detail[a].color="bg-warning",t.diff.push({size:t.detail[a].size,color:"table-warning"})):.63==t.detail[a].size?(t.detail[a].color="table-success",t.diff.push({size:t.detail[a].size,color:"table-info"})):.62==t.detail[a].size?(t.detail[a].color="bg-warning",t.diff.push({size:t.detail[a].size,color:"table-warning"})):(.7==t.detail[a].size||.75==t.detail[a].size)&&(t.detail[a].color="table-success",t.diff.push({size:t.detail[a].size,color:"table-info"})),t.series.push({name:t.detail[a].brand_name+" - "+t.detail[a].degree+" - "+t.detail[a].size+" "+String(t.yearcurrent-1),size:t.detail[a].size,style:{fontSize:"9px"},year:t.yearcurrent-2}),t.series.push({name:t.detail[a].brand_name+" - "+t.detail[a].degree+" - "+t.detail[a].size+" "+String(t.yearcurrent),size:t.detail[a].size,style:{fontSize:"9px"},year:t.yearcurrent-1});for(var s=0;s<t.series.length;s++)t.series[s].year==t.yearcurrent-2?.33==t.series[s].size?(t.statusthreethree=!0,t.series[s]["data"]=t.numthreethree):.625==t.series[s].size?(t.statussixtwofive=!0,t.series[s]["data"]=t.numsixtwofive):.63==t.series[s].size?(t.statussixthree=!0,t.series[s]["data"]=t.numsixthree):.7==t.series[s].size?(t.statusseven=!0,t.series[s]["data"]=t.numseven):.75==t.series[s].size&&(t.statussevenfive=!0,t.series[s]["data"]=t.numsevenfive):t.series[s].year==t.yearcurrent-1&&(.33==t.series[s].size?(t.statusthreethree=!0,t.series[s]["data"]=t.numthreethreecurrent):.625==t.series[s].size?(t.statussixtwofive=!0,t.series[s]["data"]=t.numsixtwofivecurrent):.63==t.series[s].size?(t.statussixthree=!0,t.series[s]["data"]=t.numsixthreecurrent):.7==t.series[s].size?(t.statusseven=!0,t.series[s]["data"]=t.numsevencurrent):.75==t.series[s].size&&(t.statussevenfive=!0,t.series[s]["data"]=t.numsevenfivecurrent));t.loadchartOptions()}))})).catch((function(e){t.show=!1,console.log(e)}))},loadchartOptions:function(){this.chartOptions={chart:{height:500,type:"line",dropShadow:{enabled:!0,color:"#000",top:18,left:7,blur:10,opacity:.2},toolbar:{show:!1}},colors:["#77B6EA","#545454","#77B6EA","#545454"],dataLabels:{enabled:!0},stroke:{curve:"smooth"},title:{text:"กราฟแสดงการชำระภาษีสุรา",align:"left",style:{fontSize:"9px"}},grid:{borderColor:"#e7e7e7",row:{colors:["#f3f3f3","transparent"],opacity:.5}},markers:{size:0},xaxis:{categories:["ตุลาคม","พฤศจิกายน","ธันวาคม","มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน"],title:{text:"เดือน",style:{fontSize:"9px"}},labels:{style:{fontSize:"9px"}}},yaxis:{title:{text:"จำนวนขวด หรือดวง",style:{fontSize:"9px"}},labels:{style:{fontSize:"9px"}}},legend:{position:"top",horizontalAlign:"right",floating:!0,offsetY:-25,offsetX:-5}}},convertdatetothai:function(t){if(t){var e=new Date(t),a=e.getMonth()+1,s=e.getDate(),n=e.getFullYear(),r=s+"/"+a+"/"+n;return r}}},mounted:function(){var t=new Date;this.date=t.toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric"}),this.excise_no=this.$route.params.id;var e=new Date;this.yearcurrent=parseInt(e.getFullYear()+543),this.loadDetail()},computed:{}},dt=ht,vt=(a("6d33"),Object(l["a"])(dt,H,U,!1,null,null,null)),bt=vt.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t._l(t.menu,(function(e){return a("ul",{key:e.id,staticClass:"list-group"},[a("router-link",{attrs:{to:e.link}},[a("li",{staticClass:"list-group-item"},[t._v(t._s(e.name))])])],1)})),a("ul",{staticClass:"list-group"},[a("li",{staticClass:"list-group-item"},[a("a",{staticStyle:{color:"black"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.logOut.apply(null,arguments)}}},[t._v("ออกจากระบบ")])])])],2)},_t=[],xt={name:"app",components:{},data:function(){return{menu:[]}},computed:{},methods:{logOut:function(){this.$store.dispatch("auth/logout"),this.$router.push("/login"),setTimeout((function(){window.location.reload()}),300)},getmenu:function(){var t=this;N.getMenu().then((function(e){t.menu=e.data}))}},mounted:function(){this.getmenu()}},gt=xt,yt=(a("efa6"),Object(l["a"])(gt,ft,_t,!1,null,null,null)),pt=yt.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello container mt-5"},[a("div",{staticClass:"row"},[t._m(0),t._m(1),a("div",{staticClass:"col-12",attrs:{align:"center"}},[a("button",{staticClass:"btn btn-primary",staticStyle:{"margin-top":"10px","text-align":"right"},attrs:{type:"submit"},on:{click:function(e){return t.search()}}},[t._v(" ค้นหา ")])])]),a("div",{staticClass:"col-12",staticStyle:{display:"none"},attrs:{align:"right"}},[a("vue-excel-xlsx",{attrs:{data:t.data,columns:t.columns,"file-name":"filename","file-type":"xlsx","sheet-name":"sheetname"}},[t._v(" Export Excel ")])],1),a("table",{staticClass:"table mt-5"},[t._m(2),a("tbody",t._l(t.list,(function(e,s){return a("tr",{key:s},[a("td",{class:e.colour},[t._v(t._s(e.no))]),a("td",{class:e.colour},[t._v(" "+t._s(e.tax_payment_date)+" ")]),a("td",{class:e.colour},[t._v(t._s(e.factory_code))]),a("td",{class:e.colour},[t._v(t._s(e.brand_name))]),a("td",{class:e.colour},[t._v(t._s(e.number))]),a("td",{class:e.colour},[t._v(t._s(e.degree))]),a("td",{class:e.colour},[t._v(t._s(e.size))]),a("td",{class:e.colour},[t._v(t._s(e.per_each))]),a("td",{class:e.colour},[t._v(t._s(e.volume_liquor))]),a("td",{class:e.colour},[t._v(" "+t._s(t.numberWithCommas(e.net))+" ")]),a("td",{class:e.colour},[t._v(" "+t._s(t.numberWithCommas(e.net_tax))+" ")])])})),0)])])},Ct=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-6"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("วันเริ่มต้น")]),a("input",{staticClass:"form-control",attrs:{id:"start_date"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-6"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("วันสิ้นสุด")]),a("input",{staticClass:"form-control",attrs:{id:"end_date"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("เลขรับที่")]),a("th",{attrs:{scope:"col"}},[t._v("วันที่ชำระภาษี")]),a("th",{attrs:{scope:"col"}},[t._v("รหัสโรงงาน")]),a("th",{attrs:{scope:"col"}},[t._v("ชื่อยี่ห้อ")]),a("th",{attrs:{scope:"col"}},[t._v("จำนวน (ดวง)")]),a("th",{attrs:{scope:"col"}},[t._v("ดีกรี")]),a("th",{attrs:{scope:"col"}},[t._v("ขนาด")]),a("th",{attrs:{scope:"col"}},[t._v("ราคาขายปลีกแนะนำ")]),a("th",{attrs:{scope:"col"}},[t._v("ปริมาณน้ำสุรา")]),a("th",{attrs:{scope:"col"}},[t._v("จำนวนเงิน")]),a("th",{attrs:{scope:"col"}},[t._v("ภาษีสุทธิ")])])])}],qt={name:"HelloWorld",data:function(){return{list:[],itemPreviewImage:"",id:"",item:[],img:"",image:"",net_tax:[],startdate:"",enddate:"",columns:[],data:[]}},props:{msg:String},computed:{},mounted:function(){this.loaddata(),this.generateexcel(),picker_date(document.getElementById("start_date"),{year_range:"-12:+10"}),picker_date(document.getElementById("end_date"),{year_range:"-12:+10"})},methods:{createddate:function(t){var e=String(t),a=e.substring(0,e.indexOf("/")),s=e.substring(5,e.indexOf("/"));s=s.substring(1,3);var n=e.substring(5),r=s+"/"+a+n,i=new Date(r),o=i.getDate(),l=i.getMonth()+1,u=i.getFullYear();return 1==o.toString().length&&(o="0"+o),1==l.toString().length&&(l="0"+l),u+"-"+l+"-"+o},search:function(){var t=this;if(""==document.getElementById("start_date").value||""==document.getElementById("end_date").value)this.loaddata();else{var e=this.createddate(document.getElementById("start_date").value),a=this.createddate(document.getElementById("end_date").value);console.log(a),w.getMergeLiquorReportSortDate(e,a).then((function(e){t.list=[];for(var a=0;a<e.data.length;a++)console.log(e.data),t.list.push({tax_payment_date:t.convertdatetothai(e.data[a].tax_payment_date),no:e.data[a].no,factory_code:e.data[a].factory_code,brand_name:e.data[a].brand_name,number:e.data[a].number,degree:e.data[a].degree,size:e.data[a].size,per_each:e.data[a].per_each,volume_liquor:e.data[a].volume_liquor,net:e.data[a].liquor_tax,net_tax:e.data[a].net_tax,colour:"table-success"});t.cal_net_tax()}))}},groupBy:function(t,e){var a={};return t.forEach((function(t){a[t[e]]||(a[t[e]]=[]),a[t[e]].push(t)})),a},convertdatesort:function(t){var e=String(t),a=e.substring(0,e.indexOf("-")),s=e.substring(7,e.indexOf("-"));s=s.substring(1,3);var n=e.substring(8,10);a=parseInt(a)+543;var r=a+"-"+s+"-"+n;return r},loaddata:function(){var t=this;this.list=[];var e=new Date,a=e.getMonth()+1,s=e.getFullYear()+543;console.log(s),w.getMergeLiquorReport(a,s).then((function(e){for(var a=0;a<e.data.length;a++)t.list.push({tax_payment_date:t.convertdatetothai(e.data[a].tax_payment_date),no:e.data[a].no,factory_code:e.data[a].factory_code,brand_name:e.data[a].brand_name,number:e.data[a].number,degree:e.data[a].degree,size:e.data[a].size,per_each:e.data[a].per_each,volume_liquor:e.data[a].volume_liquor,net:e.data[a].liquor_tax,net_tax:e.data[a].net_tax,colour:"table-success",type:e.data[a].type});t.cal_net_tax()})).catch((function(t){console.log(t)}))},cal_net_tax:function(){console.log(this.list);for(var t=0;t<this.list.length;t++){0!=t&&(this.list[t].tax_payment_date==this.list[t-1].tax_payment_date&&this.list[t].factory_code==this.list[t-1].factory_code&&"table-success"==this.list[t-2].colour?(this.list[t].colour="table-white",this.list[t-1].colour="table-white"):this.list[t].factory_code==this.list[t-1].factory_code&&this.list[t].tax_payment_date==this.list[t-1].tax_payment_date&&"table-white"==this.list[t-1].colour?(this.list[t].colour="table-success",this.list[t-1].colour="table-success"):this.list[t].factory_code!=this.list[t-1].factory_code&&"table-white"==this.list[t-1].colour?this.list[t].colour="table-success":this.list[t].factory_code!=this.list[t-1].factory_code&&"table-success"==this.list[t-1].colour&&(this.list[t].colour="table-white"));for(var e=0;e<this.list.length;e++)null==this.list[e].net_tax&&(this.list[e].colour=this.list[e-1].colour)}},cal:function(t,e,a,s,n){var r=0,i=0,o=0,l=0;return 540002==t?(r=10*e/100*a,i=150*s/100*n*e,(r+i).toFixed(2)):(o=2*e/100*a,l=155*s/100*n*e,(o+l).toFixed(2))},convertdatetothai:function(t){if(t){var e=new Date(t),a=e.getMonth()+1,s=e.getDate(),n=e.getFullYear(),r=s+"/"+a+"/"+n;return r}},numberWithCommas:function(t){var e=0;return t=parseInt(t),e=isNaN(t)?"":t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),e},generateexcel:function(){this.columns.push({label:"วันที่ชำระภาษี",field:"tax_payment_date"},{label:"รหัสโรงงาน",field:"factory_code"},{label:"ชื่อยี่ห้อ",field:"brand_name"},{label:"จำนวน (ดวง)",field:"number"},{label:"ดีกรี",field:"degree"},{label:"ขนาด",field:"size"},{label:"ราคาขายปลีกแนะนำ",field:"per_each"},{label:"ปริมาณน้ำสุรา",field:"volume_liquor"},{label:"จำนวนเงิน",field:"net"},{label:"ภาษีสุทธิ",field:"net_tax"}),this.data=this.list}}},St=qt,zt=(a("5afb"),Object(l["a"])(St,wt,Ct,!1,null,"3e4a5af6",null)),kt=zt.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello container mt-5"},[a("h5",{staticStyle:{"text-align":"center"}}),a("table",{staticClass:"table"},[a("tbody",[t._m(0),t._m(1),a("tr",[a("td",{staticStyle:{"text-align":"center"},on:{click:function(e){return t.loaddata(0)}}},[a("a",{attrs:{href:"#"}},[t._v(t._s(t.countzero)+" ")])]),a("td",{staticStyle:{"text-align":"center"},on:{click:function(e){return t.loaddata(1)}}},[a("a",{attrs:{href:"#"}},[t._v(t._s(t.countone)+" ")])]),a("td",{staticStyle:{"text-align":"center"},on:{click:function(e){return t.loaddata(2)}}},[a("a",{attrs:{href:"#"}},[t._v(t._s(t.counttwo))])]),a("td",{staticStyle:{"text-align":"center"},on:{click:function(e){return t.loaddata(3)}}},[a("a",{attrs:{href:"#"}},[t._v(t._s(t.countthree))])])])])]),0!=t.round?a("h5",{staticClass:"mt-5",staticStyle:{"text-align":"center"}},[t._v(" รายชื่อโรงอุตสาหกรรมที่ได้รับการตรวจ จำนวน "+t._s(t.round)+" ครั้ง ")]):t._e(),0==t.round?a("h5",{staticClass:"mt-5",staticStyle:{"text-align":"center"}},[t._v(" รายชื่อโรงอุตสาหกรรมที่ไม่เคยได้รับการตรวจ ")]):t._e(),a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("ลำดับที่")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("เลขทะเบียนสรรพสามิต")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("รหัสโรงงาน")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("ชื่อโรงอุตสาหกรรม")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("อำเภอ")]),0!=t.round?a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v(" วันที่ตรวจสอบ ")]):t._e()])]),a("tbody",t._l(t.list,(function(e,s){return a("tr",{key:e.id},[a("td",[t._v(" "+t._s(s+1)+" ")]),a("td",[a("a",{staticStyle:{color:"black","text-decoration":"none"},attrs:{href:"/verifyhistory/"+e.excise_id,target:"_blank"}},[t._v(" "+t._s(e.excise_id)+" ")])]),a("td",[a("a",{staticStyle:{color:"black","text-decoration":"none"},attrs:{href:"/verifyhistory/"+e.excise_id,target:"_blank"}},[t._v(" "+t._s(e.excise_no)+" ")])]),a("td",[a("a",{staticStyle:{color:"black","text-decoration":"none"},attrs:{href:"/verifyhistory/"+e.excise_id,target:"_blank"}},[t._v(" "+t._s(e.excise_name)+" ")])]),a("td",[a("a",{staticStyle:{color:"black","text-decoration":"none"},attrs:{href:"/verifyhistory/"+e.excise_id,target:"_blank"}},[t._v(" "+t._s(e.industrial_district)+" ")])]),0!=t.round?a("td",{staticStyle:{"text-align":"right"}},[a("a",{staticStyle:{color:"black","text-decoration":"none"},attrs:{href:"/verifyhistory/"+e.excise_id,target:"_blank"}},[t._v(" "+t._s(t.convertdatetothai(e.report_date))+" ")])]):t._e()])})),0)])])},Ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"4"}},[t._v(" จำนวนโรงอุตสาหกรรมที่ออกตรวจ ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("0 ครั้ง")]),a("td",{staticStyle:{"text-align":"center"}},[t._v("1 ครั้ง")]),a("td",{staticStyle:{"text-align":"center"}},[t._v("2 ครั้ง")]),a("td",{staticStyle:{"text-align":"center"}},[t._v("3 ครั้งขึ้นไป")])])}],Et={name:"HelloWorld",components:{},data:function(){return{list:[],itemPreviewImage:"",id:"",item:[],img:"",image:"",count:"",countzero:0,countone:0,counttwo:0,countthree:0,round:1,reportlist:[]}},props:{msg:String},computed:{},mounted:function(){this.loaddata(1),this.getcountopen()},methods:{getcountopen:function(){var t=this;y.getDetailCountOpen().then((function(e){t.count=e.data.count})),y.getDetailCount().then((function(e){for(var a=0;a<e.data.length;a++)0==e.data[a].count?t.countzero=e.data[a].countexcise:1==e.data[a].count?t.countone+=1:2==e.data[a].count?t.counttwo+=1:3==e.data[a].count&&(t.countthree+=1)}))},groupBy:function(t,e){var a={};return t.forEach((function(t){a[t[e]]||(a[t[e]]=[]),a[t[e]].push(t)})),a},loaddata:function(t){var e=this;this.round=t,0==this.round?Y.getVerifies(0).then((function(t){e.list=t.data})):Y.getVerifies("").then((function(t){e.list=t.data,e.reportlist=e.groupBy(t.data,"count"),e.list=e.reportlist[e.round]})).catch((function(t){console.log(t)}))},convertdatetothai:function(t){if(t){var e=new Date(t),a=e.getMonth()+1,s=e.getDate(),n=e.getFullYear(),r=s+"/"+a+"/"+n;return r}}}},Dt=Et,Nt=(a("2fea"),Object(l["a"])(Dt,It,Ft,!1,null,"48735888",null)),Ot=Nt.exports,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello container mt-5",staticStyle:{height:"600px"}},[a("h5",{staticStyle:{"text-align":"center"}},[t._v("ประวัติการตรวจสอบภาษี")]),a("h5",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.data.industrial_name)+" โดย "+t._s(t.data.excise_by))]),a("a",{staticStyle:{color:"black","text-decoration":"none"},attrs:{href:"/map/"+t.data.excise_no+"/map",target:"_blank"}},[a("h5",{staticStyle:{"text-align":"center"}},[t._v("ทะเบียนสรรพสามิต "+t._s(t.data.excise_id))])]),a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.list,(function(e){return a("tr",{key:e.id},[a("td",[t._v(" "+t._s(e.plan_no)+" ")]),a("td",[t._v(t._s(t.convertdatetothai(e.report_date)))]),a("td",[t._v(t._s(e.verify))]),a("td",[t._v(t._s(e.period))]),e.excise_tax?a("td",[t._v(t._s(e.excise_tax))]):t._e(),e.excise_tax?t._e():a("td",[t._v("-")]),e.fine?a("td",[t._v(t._s(e.fine.toFixed(2)))]):t._e(),e.fine?t._e():a("td",[t._v("-")]),e.vat?a("td",[t._v(t._s(e.vat.toFixed(2)))]):t._e(),e.vat?t._e():a("td",[t._v("-")]),e.Increased_taxes?a("td",[t._v(t._s(e.Increased_taxes.toFixed(2)))]):t._e(),e.Increased_taxes?t._e():a("td",[t._v("-")]),e.sum?a("td",[t._v(t._s(e.sum.toFixed(2)))]):t._e(),e.sum?t._e():a("td",[t._v("-")]),a("td",[t._v(t._s(e.remark))])])})),0)])])},jt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("เลขแผน")]),a("th",{attrs:{scope:"col"}},[t._v("วันที่รายงานผลการตรวจสอบแล้วเสร็จ")]),a("th",{attrs:{scope:"col"}},[t._v("วิธีการตรวจสอบ")]),a("th",{attrs:{scope:"col"}},[t._v("รอบระยะเวลาในการตรวจสอบ")]),a("th",{attrs:{scope:"col"}},[t._v("ภาษีสรรพสามิต")]),a("th",{attrs:{scope:"col"}},[t._v("เบี้ยปรับ")]),a("th",{attrs:{scope:"col"}},[t._v("เงินเพิ่ม")]),a("th",{attrs:{scope:"col"}},[t._v("ภาษีเพิ่มขึ้นเพื่อราชการส่วนท้องถิ่น")]),a("th",{attrs:{scope:"col"}},[t._v("รวม")]),a("th",{attrs:{scope:"col"}},[t._v("หมายเหตุ")])])])}],$t={name:"HelloWorld",data:function(){return{list:[],excise_no:"",data:[]}},props:{msg:String},computed:{},mounted:function(){this.excise_no=this.$route.params.id,this.loaddata(),this.getdetail()},methods:{convertdatetothai:function(t){if(t){var e=new Date(t),a=e.getMonth()+1,s=e.getDate(),n=e.getFullYear(),r=s+"/"+a+"/"+n;return r}},loaddata:function(){var t=this;Y.getVerify(this.excise_no).then((function(e){t.list=e.data})).catch((function(t){console.log(t)}))},getdetail:function(){var t=this;y.getByexiseno(this.excise_no).then((function(e){t.data=e.data,console.log(e.data)}))}}},Wt=$t,Tt=(a("b702"),Object(l["a"])(Wt,Mt,jt,!1,null,"d8032ff6",null)),Pt=Tt.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello container mt-5"},[a("table",{staticClass:"table table-bordered"},[a("tbody",[t._m(0),t._m(1),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.convertnamemonth(t.threeno)))]),a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.convertnamemonth(t.twono)))]),a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.convertnamemonth(t.oneno)))])]),a("tr",[a("td",{staticStyle:{"text-align":"center"},on:{click:function(e){return t.loaddata(t.threeno)}}},[a("a",{attrs:{href:"#"}},[t._v(t._s(t.marcount.length)+" ")])]),a("td",{staticStyle:{"text-align":"center"},on:{click:function(e){return t.loaddata(t.twono)}}},[a("a",{attrs:{href:"#"}},[t._v(t._s(t.febcount.length))])]),a("td",{staticStyle:{"text-align":"center"},on:{click:function(e){return t.loaddata(t.oneno)}}},[a("a",{attrs:{href:"#"}},[t._v(t._s(t.jancount.length))])])])])]),a("h5",{staticClass:"mt-5",staticStyle:{"text-align":"center"}},[t._v(" รายชื่อโรงอุตสาหกรรมที่ไม่ได้ชำระภาษี เดือน"+t._s(t.monthname)+" "),"ธันวาคม"!=t.monthname?a("span",[t._v(t._s(t.yearcurrent))]):a("span",[t._v(t._s(t.yearcurrent-1))])]),a("div",{staticClass:"row"}),a("table",{staticClass:"table mb-5"},[t._m(2),a("tbody",t._l(t.list,(function(e,s){return a("tr",{key:e.id},[a("td",[t._v(" "+t._s(s+1)+" ")]),a("td",[a("a",{staticStyle:{color:"black","text-decoration":"none"},attrs:{href:"/map/"+e.excise_no+"/map",target:"_blank"}},[t._v(" "+t._s(e.excise_id)+" ")])]),a("td",[a("a",{staticStyle:{color:"black","text-decoration":"none"},attrs:{href:"/map/"+e.excise_no+"/map",target:"_blank"}},[t._v(" "+t._s(e.excise_no)+" ")])]),a("td",[a("a",{staticStyle:{color:"black","text-decoration":"none"},attrs:{href:"/map/"+e.excise_no+"/map",target:"_blank"}},[t._v(" "+t._s(e.excise_name)+" ")])]),a("td",[a("a",{staticStyle:{color:"black","text-decoration":"none"},attrs:{href:"/map/"+e.excise_no+"/map",target:"_blank"}},[t._v(" "+t._s(e.industrial_district)+" ")])])])})),0)])])},Bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v(" จำนวนโรงอุตสาหกรรมที่ไม่ชำระภาษี ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticStyle:{"text-align":"center"}}),a("td",{staticStyle:{"text-align":"center"}}),a("td",{staticStyle:{"text-align":"center"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("ลำดับที่")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("เลขทะเบียนสรรพสามิต")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("รหัสโรงงาน")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("ชื่อโรงอุตสาหกรรม")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("อำเภอ")])])])}],Lt={name:"HelloWorld",data:function(){return{list:[],itemPreviewImage:"",id:"",item:[],img:"",image:"",no:"",jancount:[],febcount:[],marcount:[],yearcurrent:"",monthname:"",onename:"",twoname:"",threename:"",oneno:"",twono:"",threeno:"",count:1,sortid:0}},props:{msg:String},computed:{},mounted:function(){var t=new Date;this.yearcurrent=parseInt(t.getFullYear()+543),this.oneno=parseInt(t.getMonth()+1),this.twono=parseInt(t.getMonth()+1-1),this.threeno=parseInt(t.getMonth()+1-2),0==this.oneno&&(this.oneno=12),0==this.twono&&(this.twono=12),0==this.threeno&&(this.threeno=12),this.count=this.oneno,this.monthname=this.convertnamemonth(this.oneno),this.getcount()},methods:{convertnamemonth:function(t){return 1==t?"มกราคม":2==t?"กุมภาพันธ์":3==t?"มีนาคม":4==t?"เมษายน":5==t?"พฤษภาคม":6==t?"มิถุนายน":7==t?"กรกฎาคม":8==t?"สิงหาคม":9==t?"กันยายน":10==t?"ตุลาคม":11==t?"พฤศจิกายน":12==t?"ธันวาคม":void 0},orderby:function(t){this.sortid=t.target.value,this.loaddata(this.count)},mergenottax:function(t,e){console.log(e);for(var a=[],s=0;s<t.length;s++)"ปิดกิจการ"==t[s].registration_status?1:1,a.push({excise_name:t[s].excise_name,excise_id:t[s].excise_id,excise_no:t[s].excise_no,industrial_district:t[s].industrial_district});return a},getcount:function(){var t=this,e=this.yearcurrent,a=this.yearcurrent,s=this.yearcurrent;12==this.oneno&&(e=this.yearcurrent-1),12==this.twono&&(a=this.yearcurrent-1),12==this.threeno&&(s=this.yearcurrent-1),console.log(this.oneno,this.twono,this.threeno),console.log(e,a,s),w.getCountNotTax(this.oneno,e,this.sortid).then((function(e){t.jancount=t.mergenottax(e.data,t.oneno),t.list=t.jancount})),w.getCountNotTax(this.twono,a,this.sortid).then((function(e){t.febcount=t.mergenottax(e.data,t.twono)})),w.getCountNotTax(this.threeno,s,this.sortid).then((function(e){t.marcount=t.mergenottax(e.data,t.threeno)}))},loaddata:function(t){var e=this;this.count=t;var a=this.yearcurrent;12==this.count&&(a=this.yearcurrent-1),this.monthname=this.convertnamemonth(t),w.getCountNotTax(this.count,a,this.sortid).then((function(t){e.list=e.mergenottax(t.data,e.count)}))},convertdatetothai:function(t){if(t){var e=new Date(t),a=e.getMonth()+1,s=e.getDate(),n=e.getFullYear(),r=s+"/"+a+"/"+n;return r}}}},Ht=Lt,Ut=(a("68a7"),Object(l["a"])(Ht,Rt,Bt,!1,null,"0fef152f",null)),At=Ut.exports,Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello container mt-5"},[a("h2",[t._v("แก้ไขข้อมูล")]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("เลขทะเบียนสรรพสามิต")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.excise_id,expression:"data.excise_id"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputEmail1","aria-describedby":"emailHelp"},domProps:{value:t.data.excise_id},on:{input:function(e){e.target.composing||t.$set(t.data,"excise_id",e.target.value)}}})]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("รหัสโรงอุตสาหกรรม")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.excise_no,expression:"data.excise_no"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputEmail1","aria-describedby":"emailHelp"},domProps:{value:t.data.excise_no},on:{input:function(e){e.target.composing||t.$set(t.data,"excise_no",e.target.value)}}})]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("ชื่อผู้ประกอบอุตสาหกรรม")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.excise_name,expression:"data.excise_name"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputEmail1","aria-describedby":"emailHelp"},domProps:{value:t.data.excise_name},on:{input:function(e){e.target.composing||t.$set(t.data,"excise_name",e.target.value)}}})]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("โดย")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.excise_by,expression:"data.excise_by"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputEmail1","aria-describedby":"emailHelp"},domProps:{value:t.data.excise_by},on:{input:function(e){e.target.composing||t.$set(t.data,"excise_by",e.target.value)}}})]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("ชื่อโรงอุตสาหกรรม")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.industrial_name,expression:"data.industrial_name"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputEmail1","aria-describedby":"emailHelp"},domProps:{value:t.data.industrial_name},on:{input:function(e){e.target.composing||t.$set(t.data,"industrial_name",e.target.value)}}})]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("เลขที่ตั้งโรงอุตสาหกรรม")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.industrial_no,expression:"data.industrial_no"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputEmail1","aria-describedby":"emailHelp"},domProps:{value:t.data.industrial_no},on:{input:function(e){e.target.composing||t.$set(t.data,"industrial_no",e.target.value)}}})]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("หมู่ที่")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.industrial_moo,expression:"data.industrial_moo"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputEmail1","aria-describedby":"emailHelp"},domProps:{value:t.data.industrial_moo},on:{input:function(e){e.target.composing||t.$set(t.data,"industrial_moo",e.target.value)}}})]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("ตำบล")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.industrial_subdistrict,expression:"data.industrial_subdistrict"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputEmail1","aria-describedby":"emailHelp"},domProps:{value:t.data.industrial_subdistrict},on:{input:function(e){e.target.composing||t.$set(t.data,"industrial_subdistrict",e.target.value)}}})]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("อำเภอ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.industrial_district,expression:"data.industrial_district"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputEmail1","aria-describedby":"emailHelp"},domProps:{value:t.data.industrial_district},on:{input:function(e){e.target.composing||t.$set(t.data,"industrial_district",e.target.value)}}})]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("จังหวัด")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.industrial_province,expression:"data.industrial_province"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputEmail1","aria-describedby":"emailHelp"},domProps:{value:t.data.industrial_province},on:{input:function(e){e.target.composing||t.$set(t.data,"industrial_province",e.target.value)}}})]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("รหัสไปรษณีย์")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.industrial_zipcode,expression:"data.industrial_zipcode"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputEmail1","aria-describedby":"emailHelp"},domProps:{value:t.data.industrial_zipcode},on:{input:function(e){e.target.composing||t.$set(t.data,"industrial_zipcode",e.target.value)}}})]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("วันที่จดทะเบียน")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.registration_date,expression:"data.registration_date"}],staticClass:"form-control",attrs:{type:"date",id:"exampleInputEmail1","aria-describedby":"emailHelp"},domProps:{value:t.data.registration_date},on:{input:function(e){e.target.composing||t.$set(t.data,"registration_date",e.target.value)}}})]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("วันที่สถานะ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.status_date,expression:"data.status_date"}],staticClass:"form-control",attrs:{type:"date",id:"exampleInputEmail1","aria-describedby":"emailHelp"},domProps:{value:t.data.status_date},on:{input:function(e){e.target.composing||t.$set(t.data,"status_date",e.target.value)}}})]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("สถานะทะเบียน")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.data.registration_status,expression:"data.registration_status"}],staticClass:"form-select form-select-sm",attrs:{"aria-label":".form-select-sm example"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.data,"registration_status",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"ดำเนินกิจการ"}},[t._v("ดำเนินกิจการ")]),a("option",{attrs:{value:"ปิดกิจการ"}},[t._v(" ปิดกิจการ ")])])]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("Latitude")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.latitude,expression:"data.latitude"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputEmail1","aria-describedby":"emailHelp"},domProps:{value:t.data.latitude},on:{input:function(e){e.target.composing||t.$set(t.data,"latitude",e.target.value)}}})]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("Longitude")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.longitude,expression:"data.longitude"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputEmail1","aria-describedby":"emailHelp"},domProps:{value:t.data.longitude},on:{input:function(e){e.target.composing||t.$set(t.data,"longitude",e.target.value)}}})]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("พิกัดที่ตั้ง")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.fac_url,expression:"data.fac_url"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputEmail1","aria-describedby":"emailHelp"},domProps:{value:t.data.fac_url},on:{input:function(e){e.target.composing||t.$set(t.data,"fac_url",e.target.value)}}})]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("สถานะพิกัด")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.data.coordinate_status,expression:"data.coordinate_status"}],staticClass:"form-select form-select-sm",attrs:{"aria-label":".form-select-sm example"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.data,"coordinate_status",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("ยังไม่ยืนยัน")]),a("option",{attrs:{value:"1"}},[t._v("ยืนยัน")])])]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("รูปภาพโรงงาน ")]),a("input",{staticClass:"form-control",attrs:{id:"file",type:"file",accept:"image/*"},on:{change:t.onFileChange}}),t.itemPreviewImage?a("img",{staticClass:"form-control",attrs:{width:"50px",src:t.itemPreviewImage}}):t._e()]),a("button",{staticClass:"mb-3 btn btn-success",attrs:{type:"submit"},on:{click:function(e){return t.save()}}},[t._v(" บันทึก ")])])},Jt=[],Vt={name:"HelloWorld",data:function(){return{list:[],itemPreviewImage:"",id:"",item:[],img:"",image:"",data:[]}},props:{msg:String},computed:{dataUrl:function(){return"data:image/jpeg;base64,"+window.btoa(new Uint8Array(this.info.image).reduce((function(t,e){return t+String.fromCharCode(e)}),""))}},mounted:function(){this.id=this.$route.params.id,this.loaddata()},methods:{save:function(){var t={excise_id:this.data.excise_id,excise_no:this.data.excise_no,excise_name:this.data.excise_name,excise_by:this.data.excise_by,industrial_name:this.data.industrial_name,industrial_no:this.data.industrial_no,industrial_moo:this.data.industrial_moo,industrial_subdistrict:this.data.industrial_subdistrict,industrial_district:this.data.industrial_district,industrial_province:this.data.industrial_province,industrial_zipcode:this.data.industrial_zipcode,registration_date:this.convertdateb2(this.data.registration_date),status_date:this.convertdateb2(this.data.status_date),registration_status:this.data.registration_status,latitude:this.data.latitude,longitude:this.data.longitude,coordinate_status:this.data.coordinate_status,image:this.itemPreviewImage,fac_url:this.data.fac_url};console.log(t),y.updateDetailExcise(this.id,t).then((function(t){console.log(t.data),alert("บันทึกสำเร็จ")}))},convertdateb2:function(t){var e=String(t),a=e.substring(0,e.indexOf("-")),s=e.substring(7,e.indexOf("-"));s=s.substring(1,3);var n=e.substring(8,10);a=parseInt(a)+543;var r=s+"/"+n+"/"+a,i=Date.parse(r),o=new Date(i);return o.setDate(o.getDate()+1),o},loaddata:function(){var t=this;y.getDetailExcisesByID(this.id).then((function(e){console.log(e.data),t.data=e.data,t.data.registration_date=t.convertdatetothai(t.data.registration_date),t.data.status_date=t.convertdatetothai(t.data.status_date),t.itemPreviewImage=t.data.image})).catch((function(t){console.log(t)}))},getTypebase64:function(t){return t.substring("data:image/".length,t.indexOf(";base64"))},onFileChange:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&this.createImage(e[0])},createBase64Image:function(t){var e=this,a=new FileReader;a.onload=function(t){e.image=t.target.result,e.uploadImage()},a.readAsDataURL(t)},createImage:function(t){var e=this,a=new FileReader;a.onload=function(t){e.itemPreviewImage=t.target.result,e.item.image=t.target.result;var a=window.URL.createObjectURL(new Blob([e.item.image],{type:"image/jpeg"}));console.log(a)},a.readAsDataURL(t)},convertdatetothai:function(t){if(t){var e=new Date(t),a=e.getMonth()+1,s=e.getDate(),n=e.getFullYear();1==String(s).length&&(s="0"+s),1==String(a).length&&(a="0"+a);var r=parseInt(n-543)+"-"+a+"-"+s;return String(r)}}}},Xt=Vt,Kt=(a("2553"),Object(l["a"])(Xt,Yt,Jt,!1,null,"1db4aa3c",null)),Gt=Kt.exports,Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello container mt-5"},[a("h2",[t._v("แก้ไขชื่อเมนู")]),t._l(t.menu,(function(e,s){return a("div",{key:e.id,staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("เมนูที่ "+t._s(s+1))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"m.name"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputEmail1","aria-describedby":"emailHelp"},domProps:{value:e.name},on:{input:function(a){a.target.composing||t.$set(e,"name",a.target.value)}}})])})),a("button",{staticClass:"btn btn-primary mb-5",staticStyle:{"margin-top":"10px"},attrs:{type:"submit"},on:{click:function(e){return t.save()}}},[t._v(" บันทึก ")])],2)},Zt=[],te={name:"app",components:{},data:function(){return{menu:[]}},computed:{},methods:{getmenu:function(){var t=this;N.getMenu().then((function(e){t.menu=e.data}))},save:function(){for(var t=0;t<this.menu.length;t++){var e={name:this.menu[t].name};N.updateMenu(this.menu[t].id,e).then((function(){})).catch((function(t){console.log(t)}))}setTimeout((function(){window.location.reload()}),300)}},mounted:function(){this.getmenu()}},ee=te,ae=(a("7f68"),Object(l["a"])(ee,Qt,Zt,!1,null,null,null)),se=ae.exports,ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello container mt-5"},[a("h5",{staticStyle:{"text-align":"center"}},[t._v("รายละเอียดการชำระภาษีสุรา")]),a("h5",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(t.data.excise_name)+" โดย "+t._s(t.data.excise_by)+" ")]),a("h5",{staticStyle:{"text-align":"center"}},[t._v("ทะเบียนสรรพสามิต "+t._s(t.data.excise_id))]),a("h5",{staticStyle:{"text-align":"center"}},[t._v("ปีงบประมาณ "+t._s(t.yearcurrent))]),a("table",{staticClass:"table table-bordered mt-3"},[t._m(0),a("tbody",[t._l(t.content,(function(e,s){return a("tr",{key:s},[1==e.month?a("th",[t._v("มกราคม")]):t._e(),2==e.month?a("th",[t._v("กุมภาพันธ์")]):t._e(),3==e.month?a("th",[t._v("มีนาคม")]):t._e(),4==e.month?a("th",[t._v("เมษายน")]):t._e(),5==e.month?a("th",[t._v("พฤษภาคม")]):t._e(),6==e.month?a("th",[t._v("มิถุนายน")]):t._e(),7==e.month?a("th",[t._v("กรกฎาคม")]):t._e(),8==e.month?a("th",[t._v("สิงหาคม")]):t._e(),9==e.month?a("th",[t._v("กันยายน")]):t._e(),10==e.month?a("th",[t._v("ตุลาคม")]):t._e(),11==e.month?a("th",[t._v("พฤศจิกายน")]):t._e(),12==e.month?a("th",[t._v("ธันวาคม")]):t._e(),""==e.month?a("th"):t._e(),"รวม"==e.month?a("th",{style:e.colour},[t._v(" "+t._s(e.month)+" ")]):t._e(),a("th",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.brand_name))]),a("th",{staticStyle:{"text-align":"center"},attrs:{scope:"col"}},[t._v(" "+t._s(e.degree)+" ")]),a("th",{staticStyle:{"text-align":"center"},attrs:{scope:"col"}},[t._v(" "+t._s(e.size)+" ")]),a("th",{style:e.colour+";text-align: right",attrs:{scope:"col"}},[t._v(" "+t._s(e.summunbery||"")+" ")]),a("th",{style:e.colour+";text-align: right",attrs:{scope:"col"}},[t._v(" "+t._s(e.sumvolume_liquory||"")+" ")]),a("th",{style:e.colour+";text-align: right",attrs:{scope:"col"}},[t._v(" "+t._s(e.sumtaxy||"")+" ")]),a("th",{style:e.colour+";text-align: right",attrs:{scope:"col"}},[t._v(" "+t._s(e.summunber)+" ")]),a("th",{style:e.colour+";text-align: right",attrs:{scope:"col"}},[t._v(" "+t._s(e.sumvolume_liquor)+" ")]),a("th",{style:e.colour+";text-align: right",attrs:{scope:"col"}},[t._v(" "+t._s(e.sumtax||0)+" ")]),a("th",{style:e.colour+";text-align: right",attrs:{scope:"col"}},[t._v(" "+t._s(t.caldiff(e.summunbery,e.summunber))+" ")]),a("th",{style:e.colour+";text-align: right",attrs:{scope:"col"}},[t._v(" "+t._s(t.caldiff(e.sumvolume_liquory,e.sumvolume_liquor))+" ")]),a("th",{style:e.colour+";text-align: right",attrs:{scope:"col"}},[t._v(" "+t._s(t.caldiff(e.sumtaxy,e.sumtax))+" ")]),a("th",{style:e.colour+";text-align: right",attrs:{scope:"col"}},[t._v(" "+t._s(t.calpercentage(e.summunbery-e.summunber,e.summunber))+" ")])])})),t._l(t.header,(function(e){return a("tr",{key:e.size},[a("td",{staticClass:"table-info",staticStyle:{"text-align":"center","font-weight":"bold"}},[t._v(" "+t._s(e.title)+" ")]),a("th",{staticClass:"table-info",staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{scope:"col"}},[t._v(" "+t._s(e.brand_name)+" ")]),a("th",{staticClass:"table-info",staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{scope:"col"}},[t._v(" "+t._s(e.degree)+" ")]),a("th",{staticClass:"table-info",staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{scope:"col"}},[t._v(" "+t._s(e.size)+" ")]),a("th",{staticClass:"table-info",staticStyle:{"text-align":"right","font-weight":"bold"},attrs:{scope:"col"}},[t._v(" "+t._s(e.summunbery)+" ")]),a("th",{staticClass:"table-info",staticStyle:{"text-align":"right","font-weight":"bold"},attrs:{scope:"col"}},[t._v(" "+t._s(e.summunber)+" ")]),a("th",{staticClass:"table-info",staticStyle:{"text-align":"right","font-weight":"bold"},attrs:{scope:"col"}},[t._v(" "+t._s(e.sumtax)+" ")]),a("th",{staticClass:"table-info",staticStyle:{"text-align":"right","font-weight":"bold"},attrs:{scope:"col"}},[t._v(" "+t._s(e.sumvolume_liquory)+" ")]),a("th",{staticClass:"table-info",staticStyle:{"text-align":"right","font-weight":"bold"},attrs:{scope:"col"}},[t._v(" "+t._s(e.sumvolume_liquor)+" ")]),a("th",{staticClass:"table-info",staticStyle:{"text-align":"right","font-weight":"bold"}},[t._v(" "+t._s(e.sumtaxy)+" ")]),a("th",{staticClass:"table-info",staticStyle:{"text-align":"right","font-weight":"bold"},attrs:{scope:"col"}},[t._v(" "+t._s(e.summunbery-e.sumvolume_liquory)+" ")]),a("th",{staticClass:"table-info",staticStyle:{"text-align":"right","font-weight":"bold"},attrs:{scope:"col"}},[t._v(" "+t._s(e.summunber-e.sumvolume_liquor)+" ")]),a("th",{staticClass:"table-info",staticStyle:{"text-align":"right","font-weight":"bold"},attrs:{scope:"col"}},[t._v(" "+t._s(e.sumtax-e.sumtaxy)+" ")]),a("th",{staticClass:"table-info",staticStyle:{"text-align":"right","font-weight":"bold"},attrs:{scope:"col"}},[t._v(" "+t._s(e.percentage)+" ")])])}))],2)])])},re=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{rowspan:"2"}},[t._v("เดือน")]),a("th",{staticClass:"table-secondary",staticStyle:{"text-align":"center"},attrs:{scope:"col",rowspan:"2"}},[t._v(" ยี่ห้อ ")]),a("th",{staticClass:"table-secondary",staticStyle:{"text-align":"center"},attrs:{scope:"col",rowspan:"2"}},[t._v(" ดีกรี ")]),a("th",{staticClass:"table-secondary",staticStyle:{"text-align":"center"},attrs:{scope:"col",rowspan:"2"}},[t._v(" ขนาดบรรจุ ")]),a("th",{staticStyle:{"text-align":"center"},attrs:{scope:"col",colspan:"3"}},[t._v(" ปีนี้ (ต.ค. 64 - ก.ย. 65) ")]),a("th",{staticStyle:{"text-align":"center"},attrs:{scope:"col",colspan:"3"}},[t._v(" ปีก่อน (ต.ค. 63 - ก.ย. 64) ")]),a("th",{staticStyle:{"text-align":"center"},attrs:{scope:"col",colspan:"4"}},[t._v("ผลต่าง")])]),a("tr",[a("th",{staticClass:"table-secondary",staticStyle:{"text-align":"center"}},[t._v(" จำนวนแสตมป์ ")]),a("th",{staticClass:"table-secondary",staticStyle:{"text-align":"center"}},[t._v(" ปริมาณน้ำสุรา ")]),a("th",{staticClass:"table-secondary",staticStyle:{"text-align":"center"}},[t._v("ภาษีสุรา")]),a("th",{staticClass:"table-secondary",staticStyle:{"text-align":"center"}},[t._v(" จำนวนแสตมป์ ")]),a("th",{staticClass:"table-secondary",staticStyle:{"text-align":"center"}},[t._v(" ปริมาณน้ำสุรา ")]),a("th",{staticClass:"table-secondary",staticStyle:{"text-align":"center"}},[t._v("ภาษีสุรา")]),a("th",{staticClass:"table-secondary",staticStyle:{"text-align":"center"}},[t._v(" จำนวนแสตมป์ ")]),a("th",{staticClass:"table-secondary",staticStyle:{"text-align":"center"}},[t._v(" ปริมาณน้ำสุรา ")]),a("th",{staticClass:"table-secondary",staticStyle:{"text-align":"center"}},[t._v("ภาษีสุรา")]),a("th",{staticClass:"table-secondary",staticStyle:{"text-align":"center"}},[t._v("ร้อยละ")])])])}],ie={name:"HelloWorld",data:function(){return{list:[],itemPreviewImage:"",id:"",item:[],data:[],img:"",image:"",net_tax:[],startdate:"",enddate:"",factory_code:"",yearcurrent:"",newlist:[],tbmonth:[{month:10},{month:11},{month:12},{month:1},{month:2},{month:3},{month:4},{month:5},{month:6},{month:7},{month:8},{month:9}],tbsize:[.33,.625,.63,.7,.75],header:[],content:[],tbyear:[],before:[],current:[],taxlist:[],summunber:0,summunbery:0,sumvolume_liquor:0,sumvolume_liquory:0,summunbertwo:0,summunberytwo:0,sumvolume_liquortwo:0,sumvolume_liquorytwo:0,difsummunber:0,difsumvolume_liquor:0,difsummunbertwo:0,difsumvolume_liquortwo:0,taxdatabefore:[],sumthreethree:0,sumsixthree:0,sumsixtwofive:0,sumseven:0,sumsevenfive:0,taxdatacurrent:[],sumthreethreec:0,sumsixthreec:0,sumsixtwofivec:0,sumsevenc:0,sumsevenfivec:0,sumtax:0,sumtaxy:0,sumtaxtwo:0,sumtaxytwo:0,difsumtax:0,difsumtaxtwo:0,percentage:0,percentagetwo:0,months:""}},props:{msg:String},computed:{},mounted:function(){var t=new Date;this.yearcurrent=parseInt(t.getFullYear()+543),this.months=parseInt(t.getMonth()),this.factory_code=this.$route.params.id,this.loaddata(),this.getheader()},methods:{caldiff:function(t,e){var a=0,s=Number.isInteger(t);return s?(a=t-e,a=="-"+e&&(a="")):a="",a},calpercentage:function(t,e){var a=0,s=Number.isInteger(t);if(s){var n=t/e;a=parseFloat(100*n).toFixed(2),a==1/0&&(a=0)}else a="";return a},search:function(){var t=this;w.getReportLiquorTax(this.factory_code).then((function(e){t.list=[],console.log(e.data);for(var a=0;a<e.data.length;a++)t.list.push({tax_payment_date:t.convertdatetothai(e.data[a].tax_payment_date),no:e.data[a].no,factory_code:e.data[a].factory_code,brand_name:e.data[a].brand_name,number:e.data[a].number,degree:e.data[a].degree,size:e.data[a].size,per_each:e.data[a].per_each,volume_liquor:e.data[a].volume_liquor,net:t.cal(e.data[a].factory_code,e.data[a].number,e.data[a].per_each,e.data[a].degree,e.data[a].size),colour:"table-success"});t.cal_net_tax()}))},convertdatesort:function(t){var e=String(t),a=e.substring(0,e.indexOf("-")),s=e.substring(7,e.indexOf("-"));s=s.substring(1,3);var n=e.substring(8,10);a=parseInt(a)+543;var r=a+"-"+s+"-"+n;return r},getheader:function(){var t=this;this.tbyear=[this.yearcurrent,this.yearcurrent-1,this.yearcurrent-2],this.show=!0,y.getDetailExcise(this.factory_code).then((function(e){t.data=e.data})),w.getReportLiquorTaxHeader(this.factory_code).then((function(e){t.header=e.data})),w.getReportLiquorTaxDetail(this.factory_code,String(this.yearcurrent-2+"-10-01"),String(this.yearcurrent-1+"-10-01")).then((function(e){t.before=e.data,w.getReportLiquorTaxDetail(t.factory_code,String(t.yearcurrent-1+"-10-01"),String(t.yearcurrent+"-09-01")).then((function(e){t.current=e.data;for(var a=0;a<t.tbmonth.length;a++)for(var s=0;s<t.header.length;s++)t.content.push({month:t.tbmonth[a].month,size:t.header[s].size,degree:t.header[s].degree,brand_name:t.header[s].brand_name,summunber:0,sumvolume_liquor:0,summunbery:0,sumvolume_liquory:0});for(var n=0;n<t.current.length;n++)for(var r=0;r<t.content.length;r++)t.current[n].month==t.content[r].month&&t.current[n].size==t.content[r].size&&(t.content[r].summunbery=t.current[n].summunber,t.content[r].sumvolume_liquory=t.current[n].sumvolume_liquor);for(var i=0;i<t.content.length;i++)for(var o=0;o<t.before.length;o++)t.before[o].month==t.content[i].month&&t.before[o].size==t.content[i].size&&(t.content[i].summunber=t.before[o].summunber,t.content[i].sumvolume_liquor=t.before[o].sumvolume_liquor);if(console.log(t.content),t.summonth(),2==t.header.length)for(var l=0;l<t.content.length;l++)2!=l&&5!=l&&8!=l&&11!=l&&14!=l&&17!=l&&20!=l&&23!=l&&26!=l&&29!=l&&32!=l||t.content.splice([l],0,{month:"รวม",summunber:t.content[l-1].summunber+t.content[l-2].summunber,summunbery:t.content[l-1].summunbery+t.content[l-2].summunbery,sumvolume_liquor:t.content[l-1].sumvolume_liquor+t.content[l-2].sumvolume_liquor,sumvolume_liquory:t.content[l-1].sumvolume_liquory+t.content[l-2].sumvolume_liquory,sumtax:t.content[l-1].sumtax+t.content[l-2].sumtax,sumtaxy:t.content[l-1].sumtaxy+t.content[l-2].sumtaxy,colour:"font-weight: bold"}),1!=l&&4!=l&&7!=l&&10!=l&&13!=l&&16!=l&&19!=l&&22!=l&&25!=l&&28!=l&&31!=l&&34!=l||(t.content[l].month=""),34==l&&t.content.splice([l+1],0,{month:"รวม",summunber:t.content[l-1].summunber+t.content[l].summunber,summunbery:t.content[l-1].summunbery+t.content[l].summunbery,sumvolume_liquor:t.content[l-1].sumvolume_liquor+t.content[l].sumvolume_liquor,sumvolume_liquory:t.content[l-1].sumvolume_liquory+t.content[l].sumvolume_liquory,sumtax:t.content[l-1].sumtax+t.content[l].sumtax,sumtaxy:t.content[l-1].sumtaxy+t.content[l].sumtaxy,colour:"font-weight: bold"});if(2==t.header.length)for(var u=0;u<t.content.length;u++){if(0==u||3==u||6==u||9==u||12==u||15==u||18==u||21==u||24==u||27==u||30==u||33==u){t.summunber=parseInt(t.summunber+t.content[u].summunber);var c=Number.isInteger(t.content[u].sumtaxy);c&&(t.sumtax=parseInt(t.sumtax+t.content[u].sumtaxy));var m=Number.isInteger(t.content[u].sumtaxy);m&&(t.sumtaxy=parseInt(t.sumtaxy+t.content[u].sumtax)),t.sumvolume_liquor=parseInt(t.sumvolume_liquor+t.content[u].sumvolume_liquor);var h=Number.isInteger(t.content[u].summunbery);h&&(t.summunbery=parseInt(t.summunbery+t.content[u].summunbery));var d=Number.isInteger(t.content[u].sumvolume_liquory);d&&(t.sumvolume_liquory=parseInt(t.sumvolume_liquory+t.content[u].sumvolume_liquory));var v=t.content[u].summunbery-t.content[u].summunber,b=Number.isInteger(v);b?(v=t.calpercentage(v,t.content[u].summunber),t.percentage=(parseFloat(t.percentage)+parseFloat(v)).toFixed(2)):v=0}if(1==u||4==u||7==u||10==u||13==u||16==u||19==u||22==u||25==u||28==u||31==u||34==u){t.summunbertwo=parseInt(t.summunbertwo+t.content[u].summunber);var f=Number.isInteger(t.content[u].sumtaxy);f&&(t.sumtaxtwo=parseInt(t.sumtaxtwo+t.content[u].sumtaxy)),t.sumvolume_liquortwo=parseInt(t.sumvolume_liquortwo+t.content[u].sumvolume_liquor);var _=Number.isInteger(t.content[u].summunbery);_&&(t.summunberytwo=parseInt(t.summunberytwo+t.content[u].summunbery));var x=Number.isInteger(t.content[u].sumtax);x&&(t.sumtaxytwo=parseInt(t.sumtaxytwo+t.content[u].sumtax));var g=Number.isInteger(t.content[u].sumvolume_liquory);g&&(t.sumvolume_liquorytwo=parseInt(t.sumvolume_liquorytwo+t.content[u].sumvolume_liquory));var y=t.content[u].summunbery-t.content[u].summunber,p=Number.isInteger(y);p?(y=t.calpercentage(y,t.content[u].summunber),t.percentagetwo=(parseFloat(t.percentagetwo)+parseFloat(y)).toFixed(2)):y=0}}else for(var w=0;w<t.content.length;w++){var C=Number.isInteger(t.content[w].summunbery);C&&(t.summunbery=parseInt(t.summunbery)+parseInt(t.content[w].summunbery));var q=Number.isInteger(t.content[w].sumvolume_liquory);q&&(t.summunber=parseInt(t.summunber+t.content[w].sumvolume_liquory));var S=Number.isInteger(t.content[w].sumtaxy);S&&(t.sumtax=parseInt(t.sumtax)+parseInt(t.content[w].sumtaxy));var z=Number.isInteger(t.content[w].summunber);z&&(t.sumvolume_liquory=parseInt(t.sumvolume_liquory)+parseInt(t.content[w].summunber));var k=Number.isInteger(t.content[w].sumvolume_liquor);k&&(t.sumvolume_liquor=parseInt(t.sumvolume_liquor)+parseInt(t.content[w].sumvolume_liquor));var I=Number.isInteger(t.content[w].sumtax);I&&(t.sumtaxy=parseInt(t.sumtaxy)+parseInt(t.content[w].sumtax));var F=t.content[w].summunbery-t.content[w].summunber,E=Number.isInteger(F);E?(F=t.calpercentage(F,t.content[w].summunber),t.percentage=(parseFloat(t.percentage)+parseFloat(F)).toFixed(2)):F=0}for(var D=0;D<t.header.length;D++)0==D?(t.header[D].title="รวมทั้งสิ้น",t.header[D].summunbery=t.summunbery,t.header[D].summunber=t.summunber,t.header[D].sumvolume_liquor=t.sumvolume_liquor,t.header[D].sumvolume_liquory=t.sumvolume_liquory,t.header[D].sumtax=t.sumtax,t.header[D].sumtaxy=t.sumtaxy,t.header[D].percentage=t.percentage):(t.header[D].summunbery=t.summunberytwo,t.header[D].summunber=t.summunbertwo,t.header[D].sumvolume_liquor=t.sumvolume_liquortwo,t.header[D].sumvolume_liquory=t.sumvolume_liquorytwo,t.header[D].sumtax=t.sumtaxtwo,t.header[D].sumtaxy=t.sumtaxytwo,t.header[D].percentage=t.percentagetwo)}))}))},loaddata:function(){var t=this;w.getReportLiquorTax(this.factory_code).then((function(e){t.list=e.data;for(var a=0;a<t.list.length;a++)t.list[a].net=t.cal(e.data[a].number,e.data[a].per_each,e.data[a].degree,e.data[a].size)})).catch((function(t){console.log(t)}))},groupBy:function(t,e){var a={};return t.forEach((function(t){a[t[e]]||(a[t[e]]=[]),a[t[e]].push(t)})),a},summonth:function(){this.taxlist=this.groupBy(this.list,"month");for(var t=0;t<this.tbmonth.length;t++){this.sumthreethree=0,this.sumsixthree=0,this.sumsixtwofive=0,this.sumseven=0,this.sumsevenfive=0,this.sumthreethreec=0,this.sumsixthreec=0,this.sumsixtwofivec=0,this.sumsevenc=0,this.sumsevenfivec=0;var e=10;if(this.taxlist[t+1])for(var a=0;a<this.taxlist[t+1].length;a++)for(var s=0;s<this.tbsize.length;s++)(10==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-2||11==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-2||12==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-2||1==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||2==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||3==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||4==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||5==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||6==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||7==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||8==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||9==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1)&&this.taxlist[t+1][a].size==this.tbsize[s]?(e=this.taxlist[t+1][a].month,.33==this.tbsize[s]?this.sumthreethree=Math.floor(parseFloat(this.sumthreethree)+parseFloat(this.taxlist[t+1][a].net)):.63==this.tbsize[s]?this.sumsixthree=Math.floor(parseFloat(this.sumsixthree)+parseFloat(this.taxlist[t+1][a].net)):.625==this.tbsize[s]?this.sumsixtwofive=Math.floor(parseFloat(this.sumsixtwofive)+parseFloat(this.taxlist[t+1][a].net)):.7==this.tbsize[s]?this.sumseven=Math.floor(parseFloat(this.sumseven)+parseFloat(this.taxlist[t+1][a].net)):.75==this.tbsize[s]&&(this.sumsevenfive=Math.floor(parseFloat(this.sumsevenfive)+parseFloat(this.taxlist[t+1][a].net)))):(10==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||11==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||12==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||1==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||2==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||3==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||4==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||5==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||6==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||7==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||8==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||9==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent)&&this.taxlist[t+1][a].size==this.tbsize[s]&&(e=this.taxlist[t+1][a].month,.33==this.tbsize[s]?this.sumthreethreec=Math.floor(parseFloat(this.sumthreethreec)+parseFloat(this.taxlist[t+1][a].net)):.63==this.tbsize[s]?this.sumsixthreec=Math.floor(parseFloat(this.sumsixthreec)+parseFloat(this.taxlist[t+1][a].net)):.625==this.tbsize[s]?this.sumsixtwofivec=Math.floor(parseFloat(this.sumsixtwofivec)+parseFloat(this.taxlist[t+1][a].net)):.7==this.tbsize[s]?this.sumsevenc=Math.floor(parseFloat(this.sumsevenc)+parseFloat(this.taxlist[t+1][a].net)):.75==this.tbsize[s]&&(this.sumsevenfivec=Math.floor(parseFloat(this.sumsevenfivec)+parseFloat(this.taxlist[t+1][a].net))));this.sumthreethree?this.taxdatabefore.push({month:e,size:.33,sumtax:this.sumthreethree}):this.taxdatabefore.push({month:e,size:.33,sumtax:0}),this.sumsixthree?this.taxdatabefore.push({month:e,size:.63,sumtax:this.sumsixthree}):this.taxdatabefore.push({month:e,size:.63,sumtax:0}),this.sumsixtwofive?this.taxdatabefore.push({month:e,size:.625,sumtax:this.sumsixtwofive}):this.taxdatabefore.push({month:e,size:.625,sumtax:0}),this.sumsevenfive?this.taxdatabefore.push({month:e,size:.75,sumtax:this.sumsevenfive}):this.taxdatabefore.push({month:e,size:.75,sumtax:0}),this.sumseven?this.taxdatabefore.push({month:e,size:.7,sumtax:this.sumseven}):this.taxdatabefore.push({month:e,size:.7,sumtax:0}),this.sumthreethreec?this.taxdatacurrent.push({month:e,size:.33,sumtaxy:this.sumthreethreec}):this.taxdatacurrent.push({month:e,size:.33,sumtaxy:0}),this.sumsixthreec?this.taxdatacurrent.push({month:e,size:.63,sumtaxy:this.sumsixthreec}):this.taxdatacurrent.push({month:e,size:.63,sumtaxy:0}),this.sumsixtwofivec?this.taxdatacurrent.push({month:e,size:.625,sumtaxy:this.sumsixtwofivec}):this.taxdatacurrent.push({month:e,size:.625,sumtaxy:0}),this.sumsevenfivec?this.taxdatacurrent.push({month:e,size:.75,sumtaxy:this.sumsevenfivec}):this.taxdatacurrent.push({month:e,size:.75,sumtaxy:0}),this.sumsevenc?this.taxdatacurrent.push({month:e,size:.7,sumtaxy:this.sumsevenc}):this.taxdatacurrent.push({month:e,size:.7,sumtaxy:0})}for(var n=0;n<this.taxdatabefore.length;n++)for(var r=0;r<this.content.length;r++)this.taxdatabefore[n].month==this.content[r].month&&this.taxdatabefore[n].size==this.content[r].size&&(this.content[r].sumtax=this.taxdatabefore[n].sumtax);for(var i=0;i<this.content.length;i++)for(var o=0;o<this.taxdatacurrent.length;o++)this.taxdatacurrent[o].month==this.content[i].month&&this.taxdatacurrent[o].size==this.content[i].size&&(this.content[i].sumtaxy=this.taxdatacurrent[o].sumtaxy)},calsum:function(){for(var t=0,e=0,a=0,s=0;s<this.list.length;s++)t=parseInt(t+this.list[s].number),e=parseInt(e+this.list[s].volume_liquor),a=Math.floor(parseFloat(a)+parseFloat(this.list[s].net)),this.list[s].sumnumber=t,this.list[s].sumvolume_liquor=e,this.list[s].sumnet=a;console.log(this.newlist)},cal_net_tax:function(){for(var t=0;t<this.list.length;t++)0!=t&&this.list[t].no==this.list[t-1].no?this.list[t-1].net_tax=Math.floor(parseFloat(this.list[t].net)+parseFloat(this.list[t-1].net)):this.list[t].net_tax=Math.floor(parseFloat(this.list[t].net))},cal:function(t,e,a,s){var n=0,r=0,i=0,o=0;return 540002==this.factory_code?(n=10*t/100*e,r=150*a/100*s*t,(n+r).toFixed(2)):(i=2*t/100*e,o=155*a/100*s*t,(i+o).toFixed(2))},convertdatetothai:function(t){if(t){var e=new Date(t),a=e.getMonth()+1,s=e.getDate(),n=e.getFullYear(),r=s+"/"+a+"/"+n;return r}}}},oe=ie,le=(a("5249"),Object(l["a"])(oe,ne,re,!1,null,"75dd5e82",null)),ue=le.exports,ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello mt-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("table",{staticClass:"table table-bordered mt-3 mb-5"},[a("thead",[a("tr",[a("th",{staticClass:"table-info",staticStyle:{"text-align":"center","font-weight":"bold"}},[t._v(" ปริมาณการชำระภาษี ")]),a("th",{staticStyle:{"background-color":"#dae2f3","text-align":"center","font-weight":"bold"},attrs:{scope:"col",colspan:"3"}},[t._v(" ปีนี้ (ต.ค. "+t._s(t.yearcurrent-1)+" - ก.ย. "+t._s(t.yearcurrent)+") ")]),a("th",{staticStyle:{"background-color":"#fff1cc","text-align":"center","font-weight":"bold"},attrs:{scope:"col",colspan:"3"}},[t._v(" ปีก่อน (ต.ค. "+t._s(t.yearcurrent-2)+" - ก.ย. "+t._s(t.yearcurrent-1)+") ")]),a("th",{staticStyle:{"background-color":"#e1efd9","text-align":"center","font-weight":"bold"},attrs:{scope:"col",colspan:"4"}},[t._v(" ผลต่าง ")])]),t._m(0)]),a("tbody",t._l(t.content,(function(e,s){return a("tr",{key:s},[a("th",{style:e.colour},[t._v(t._s(e.month))]),a("th",{style:e.colour+";background-color: #dae2f3; text-align: right",attrs:{scope:"col"}},[t._v(" "+t._s(t.numberWithCommas("",e.summunbery)||"")+" ")]),a("th",{style:e.colour+";background-color: #dae2f3; text-align: right",attrs:{scope:"col"}},[t._v(" "+t._s(t.numberWithCommas("",e.sumvolume_liquory)||"")+" ")]),e.sumtaxy?a("th",{style:e.colour+";background-color: #dae2f3; text-align: right",attrs:{scope:"col"}},[t._v(" "+t._s(t.numberWithCommas("tax",e.sumtaxy)+".00")+" ")]):t._e(),e.sumtaxy?t._e():a("th",{style:e.colour+";background-color: #dae2f3; text-align: right",attrs:{scope:"col"}},[t._v("0.00")]),a("th",{style:e.colour+";background-color: #fff1cc; text-align: right",attrs:{scope:"col"}},[t._v(" "+t._s(t.numberWithCommas("",e.summunber))+" ")]),a("th",{style:e.colour+";background-color: #fff1cc; text-align: right",attrs:{scope:"col"}},[t._v(" "+t._s(t.numberWithCommas("",e.sumvolume_liquor))+" ")]),a("th",{style:e.colour+";background-color: #fff1cc; text-align: right",attrs:{scope:"col"}},[t._v(" "+t._s(t.numberWithCommas("",e.sumtax)+".00")+" ")]),a("th",{style:e.colour+";background-color: #e1efd9; text-align: right",attrs:{scope:"col"}},[t.caldiff(e.summunbery,e.summunber)<0?a("div",{staticStyle:{color:"red"}},[t._v(" "+t._s(t.numberWithCommas("",t.caldiff(e.summunbery,e.summunber))||0)+" ")]):t._e(),t.caldiff(e.summunbery,e.summunber)>=0?a("div",[t._v(" "+t._s(t.numberWithCommas("",t.caldiff(e.summunbery,e.summunber))||0)+" ")]):t._e()]),a("th",{style:e.colour+";background-color: #e1efd9; text-align: right",attrs:{scope:"col"}},[t.caldiff(e.sumvolume_liquory,e.sumvolume_liquor)<0?a("div",{staticStyle:{color:"red"}},[t._v(" "+t._s(t.numberWithCommas("",t.caldiff(e.sumvolume_liquory,e.sumvolume_liquor)))+" ")]):t._e(),t.caldiff(e.sumvolume_liquory,e.sumvolume_liquor)>=0?a("div",[t._v(" "+t._s(t.numberWithCommas("",t.caldiff(e.sumvolume_liquory,e.sumvolume_liquor))||0)+" ")]):t._e()]),a("th",{style:e.colour+";background-color: #e1efd9; text-align: right",attrs:{scope:"col"}},[t.caldiff(e.sumtaxy,e.sumtax)<0?a("div",{staticStyle:{color:"red"}},[t._v(" "+t._s(t.numberWithCommas("",t.caldiff(e.sumtaxy,e.sumtax))+".00"||!1)+" ")]):t._e(),t.caldiff(e.sumtaxy,e.sumtax)>0?a("div",[t._v(" "+t._s(t.numberWithCommas("",t.caldiff(e.sumtaxy,e.sumtax))+".00"||!1)+" ")]):t._e(),0==t.caldiff(e.sumtaxy,e.sumtax)?a("div",[t._v("0")]):t._e()]),a("th",{style:e.colour+";text-align: right",attrs:{scope:"col"}},[t.calpercentage(e.sumtaxy-e.sumtax,e.sumtax)<0?a("div",{staticStyle:{color:"red"}},[t._v(" "+t._s(t.numberWithCommas("",t.calpercentage(e.sumtaxy-e.sumtax,e.sumtax)))+" ")]):t._e(),t.calpercentage(e.sumtaxy-e.sumtax,e.sumtax)>=0?a("div",[t._v(" "+t._s(t.numberWithCommas("",t.calpercentage(e.sumtaxy-e.sumtax,e.sumtax))+".00")+" ")]):t._e()])])})),0)])])])])},me=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{staticClass:"table-info",staticStyle:{"text-align":"center","font-weight":"bold"}},[t._v(" เดือน ")]),a("th",{staticStyle:{"background-color":"#dae2f3","text-align":"center","font-weight":"bold"}},[t._v(" จำนวนแสตมป์ ")]),a("th",{staticStyle:{"background-color":"#dae2f3","text-align":"center","font-weight":"bold"}},[t._v(" ปริมาณน้ำสุรา ")]),a("th",{staticStyle:{"background-color":"#dae2f3","text-align":"center","font-weight":"bold"}},[t._v(" ภาษีสุทธิ ")]),a("th",{staticStyle:{"background-color":"#fff1cc","text-align":"center","font-weight":"bold"}},[t._v(" จำนวนแสตมป์ ")]),a("th",{staticStyle:{"background-color":"#fff1cc","text-align":"center","font-weight":"bold"}},[t._v(" ปริมาณน้ำสุรา ")]),a("th",{staticStyle:{"background-color":"#fff1cc","text-align":"center","font-weight":"bold"}},[t._v(" ภาษีสุทธิ ")]),a("th",{staticStyle:{"background-color":"#e1efd9","text-align":"center","font-weight":"bold"}},[t._v(" จำนวนแสตมป์ ")]),a("th",{staticStyle:{"background-color":"#e1efd9","text-align":"center","font-weight":"bold"}},[t._v(" ปริมาณน้ำสุรา ")]),a("th",{staticStyle:{"background-color":"#e1efd9","text-align":"center","font-weight":"bold"}},[t._v(" ภาษีสุทธิ ")]),a("th",{staticStyle:{"background-color":"#e1efd9","text-align":"center","font-weight":"bold"}},[t._v(" ร้อยละภาษี ")])])}],he={name:"HelloWorld",data:function(){return{list:[],itemPreviewImage:"",id:"",item:[],data:[],img:"",image:"",net_tax:[],startdate:"",enddate:"",factory_code:"",yearcurrent:"",newlist:[],tbmonth:[{month:10},{month:11},{month:12},{month:1},{month:2},{month:3},{month:4},{month:5},{month:6},{month:7},{month:8},{month:9}],tbsize:[.33,.625,.63,.7,.75],header:[],content:[],tbyear:[],before:[],current:[],taxlist:[],summunber:0,summunbery:0,sumvolume_liquor:0,sumvolume_liquory:0,summunbertwo:0,summunberytwo:0,sumvolume_liquortwo:0,sumvolume_liquorytwo:0,difsummunber:0,difsumvolume_liquor:0,difsummunbertwo:0,difsumvolume_liquortwo:0,taxdatabefore:[],sumthreethree:0,sumsixthree:0,sumsixtwofive:0,sumseven:0,sumsevenfive:0,taxdatacurrent:[],sumthreethreec:0,sumsixthreec:0,sumsixtwofivec:0,sumsevenc:0,sumsevenfivec:0,sumtax:0,sumtaxy:0,sumtaxtwo:0,sumtaxytwo:0,difsumtax:0,difsumtaxtwo:0,percentage:0,percentagetwo:0,months:"",chartOptions:{},series:[],volume_liquorbefore:[],volume_liquorcurrent:[],monthtvolumnable:[]}},props:{msg:String},computed:{},mounted:function(){var t=new Date;this.yearcurrent=parseInt(t.getFullYear()+543),this.months=parseInt(t.getMonth()),this.factory_code=this.$route.params.id,this.loaddata(),this.getheader(),this.loadchartOptions()},methods:{caldiff:function(t,e){isNaN(t)&&(t=0),isNaN(e)&&(e=0);var a=0;return t==e&&(a=0),a=t-e,a},calpercentage:function(t,e){var a=0,s=Number.isInteger(t);if(s){var n=t/e;a=parseFloat(100*n).toFixed(2),a==1/0&&(a=0),isNaN(a)&&(a="")}else a="";return a},search:function(){var t=this;w.getReportLiquorTax(this.factory_code).then((function(e){t.list=[],console.log(e.data);for(var a=0;a<e.data.length;a++)t.list.push({tax_payment_date:t.convertdatetothai(e.data[a].tax_payment_date),no:e.data[a].no,factory_code:e.data[a].factory_code,brand_name:e.data[a].brand_name,number:e.data[a].number,degree:e.data[a].degree,size:e.data[a].size,per_each:e.data[a].per_each,volume_liquor:e.data[a].volume_liquor,net:t.cal(e.data[a].factory_code,e.data[a].number,e.data[a].per_each,e.data[a].degree,e.data[a].size),colour:"table-success"});t.cal_net_tax()}))},convertdatesort:function(t){var e=String(t),a=e.substring(0,e.indexOf("-")),s=e.substring(7,e.indexOf("-"));s=s.substring(1,3);var n=e.substring(8,10);a=parseInt(a)+543;var r=a+"-"+s+"-"+n;return r},getheader:function(){var t=this;this.tbyear=[this.yearcurrent,this.yearcurrent-1,this.yearcurrent-2],this.show=!0,y.getDetailExcise(this.factory_code).then((function(e){t.data=e.data})),w.getReportLiquorTaxHeader(this.factory_code).then((function(e){t.header=e.data})),w.getReportLiquorTaxDetail(this.factory_code,String(this.yearcurrent-2+"-10-01"),String(this.yearcurrent-1+"-10-01")).then((function(e){t.before=e.data,w.getReportLiquorTaxDetail(t.factory_code,String(t.yearcurrent-1+"-10-01"),String(t.yearcurrent+"-09-01")).then((function(e){t.current=e.data;for(var a=0;a<t.tbmonth.length;a++)for(var s=0;s<t.header.length;s++)t.content.push({month:t.tbmonth[a].month,size:t.header[s].size,degree:t.header[s].degree,brand_name:t.header[s].brand_name,summunber:0,sumvolume_liquor:0,summunbery:0,sumvolume_liquory:0});for(var n=0;n<t.current.length;n++)for(var r=0;r<t.content.length;r++)t.current[n].month==t.content[r].month&&t.current[n].size==t.content[r].size&&(t.content[r].summunbery=t.current[n].summunber,t.content[r].sumvolume_liquory=t.current[n].sumvolume_liquor);for(var i=0;i<t.content.length;i++)for(var o=0;o<t.before.length;o++)t.before[o].month==t.content[i].month&&t.before[o].size==t.content[i].size&&(t.content[i].summunber=t.before[o].summunber,t.content[i].sumvolume_liquor=t.before[o].sumvolume_liquor);if(t.summonth(),2==t.header.length){for(var l=0;l<t.content.length;l++)if(0==l||3==l||6==l||9==l||12==l||15==l||18==l||21==l||24==l||27==l||30==l||33==l||36==l){var u="";10==t.content[l].month?u="ตุลาคม":11==t.content[l].month?u="พฤศจิกายน":12==t.content[l].month?u="ธันวาคม":1==t.content[l].month?u="มกราคม":2==t.content[l].month?u="กุมภาพันธ์":3==t.content[l].month?u="มีนาคม":4==t.content[l].month?u="เมษายน":5==t.content[l].month?u="พฤษภาคม":6==t.content[l].month?u="มิถุนายน":7==t.content[l].month?u="กรกฎาคม":8==t.content[l].month?u="สิงหาคม":9==t.content[l].month&&(u="กันยายน"),t.content.splice([l],0,{month:u,summunber:t.content[l].summunber+t.content[l+1].summunber,summunbery:t.content[l].summunbery+t.content[l+1].summunbery,sumvolume_liquor:t.content[l].sumvolume_liquor+t.content[l+1].sumvolume_liquor,sumvolume_liquory:t.content[l].sumvolume_liquory+t.content[l+1].sumvolume_liquory,sumtax:t.content[l].sumtax+t.content[l+1].sumtax,sumtaxy:t.content[l].sumtaxy+t.content[l+1].sumtaxy,colour:"font-weight: bold"})}}else for(var c=0;c<t.content.length;c++){var m="";10==t.content[c].month?m="ตุลาคม":11==t.content[c].month?m="พฤศจิกายน":12==t.content[c].month?m="ธันวาคม":1==t.content[c].month?m="มกราคม":2==t.content[c].month?m="กุมภาพันธ์":3==t.content[c].month?m="มีนาคม":4==t.content[c].month?m="เมษายน":5==t.content[c].month?m="พฤษภาคม":6==t.content[c].month?m="มิถุนายน":7==t.content[c].month?m="กรกฎาคม":8==t.content[c].month?m="สิงหาคม":9==t.content[c].month&&(m="กันยายน"),t.content[c].month=m}if(console.log(t.content),2==t.header.length)for(var h=0;h<t.content.length;h++){if(0==h||3==h||6==h||9==h||12==h||15==h||18==h||21==h||24==h||27==h||30==h||33==h){t.summunber=parseInt(t.summunber+t.content[h].summunber);var d=Number.isInteger(t.content[h].sumtaxy);d&&(t.sumtax=parseInt(t.sumtax+t.content[h].sumtaxy));var v=Number.isInteger(t.content[h].sumtaxy);v&&(t.sumtaxy=parseInt(t.sumtaxy+t.content[h].sumtax)),t.sumvolume_liquor=parseInt(t.sumvolume_liquor+t.content[h].sumvolume_liquor);var b=Number.isInteger(t.content[h].summunbery);b&&(t.summunbery=parseInt(t.summunbery+t.content[h].summunbery));var f=Number.isInteger(t.content[h].sumvolume_liquory);f&&(t.sumvolume_liquory=parseInt(t.sumvolume_liquory+t.content[h].sumvolume_liquory));var _=t.content[h].summunbery-t.content[h].summunber,x=Number.isInteger(_);x?(_=t.calpercentage(_,t.content[h].summunber),t.percentage=(parseFloat(t.percentage)+parseFloat(_)).toFixed(2)):_=0}if(1==h||4==h||7==h||10==h||13==h||16==h||19==h||22==h||25==h||28==h||31==h||34==h){t.summunbertwo=parseInt(t.summunbertwo+t.content[h].summunber);var g=Number.isInteger(t.content[h].sumtaxy);g&&(t.sumtaxtwo=parseInt(t.sumtaxtwo+t.content[h].sumtaxy)),t.sumvolume_liquortwo=parseInt(t.sumvolume_liquortwo+t.content[h].sumvolume_liquor);var y=Number.isInteger(t.content[h].summunbery);y&&(t.summunberytwo=parseInt(t.summunberytwo+t.content[h].summunbery));var p=Number.isInteger(t.content[h].sumtax);p&&(t.sumtaxytwo=parseInt(t.sumtaxytwo+t.content[h].sumtax));var w=Number.isInteger(t.content[h].sumvolume_liquory);w&&(t.sumvolume_liquorytwo=parseInt(t.sumvolume_liquorytwo+t.content[h].sumvolume_liquory));var C=t.content[h].summunbery-t.content[h].summunber,q=Number.isInteger(C);q?(C=t.calpercentage(C,t.content[h].summunber),t.percentagetwo=(parseFloat(t.percentagetwo)+parseFloat(C)).toFixed(2)):C=0}}else for(var S=0;S<t.content.length;S++){var z=Number.isInteger(t.content[S].summunbery);z&&(t.summunbery=parseInt(t.summunbery)+parseInt(t.content[S].summunbery));var k=Number.isInteger(t.content[S].sumvolume_liquory);k&&(t.summunber=parseInt(t.summunber+t.content[S].sumvolume_liquory));var I=Number.isInteger(t.content[S].sumtaxy);I&&(t.sumtax=parseInt(t.sumtax)+parseInt(t.content[S].sumtaxy));var F=Number.isInteger(t.content[S].summunber);F&&(t.sumvolume_liquory=parseInt(t.sumvolume_liquory)+parseInt(t.content[S].summunber));var E=Number.isInteger(t.content[S].sumvolume_liquor);E&&(t.sumvolume_liquor=parseInt(t.sumvolume_liquor)+parseInt(t.content[S].sumvolume_liquor));var D=Number.isInteger(t.content[S].sumtax);D&&(t.sumtaxy=parseInt(t.sumtaxy)+parseInt(t.content[S].sumtax));var N=t.content[S].summunbery-t.content[S].summunber,O=Number.isInteger(N);O?(N=t.calpercentage(N,t.content[S].summunber),t.percentage=(parseFloat(t.percentage)+parseFloat(N)).toFixed(2)):N=0}for(var M=0;M<t.header.length;M++)0==M?(t.header[M].title=t.header[M].brand_name+"-"+t.header[M].degree+"-"+t.header[M].size,t.header[M].summunbery=t.summunbery,t.header[M].summunber=t.summunber,t.header[M].sumvolume_liquor=t.sumvolume_liquor,t.header[M].sumvolume_liquory=t.sumvolume_liquory,t.header[M].sumtax=t.sumtax,t.header[M].sumtaxy=t.sumtaxy,t.header[M].percentage=t.percentage):(t.header[M].title=t.header[M].brand_name+"-"+t.header[M].degree+"-"+t.header[M].size,t.header[M].summunbery=t.summunberytwo,t.header[M].summunber=t.summunbertwo,t.header[M].sumvolume_liquor=t.sumvolume_liquortwo,t.header[M].sumvolume_liquory=t.sumvolume_liquorytwo,t.header[M].sumtax=t.sumtaxtwo,t.header[M].sumtaxy=t.sumtaxytwo,t.header[M].percentage=t.percentagetwo);t.loadgraph()}))}))},loaddata:function(){var t=this;w.getReportLiquorTax(this.factory_code).then((function(e){t.list=e.data;for(var a=0;a<t.list.length;a++)t.list[a].net=t.cal(e.data[a].number,e.data[a].per_each,e.data[a].degree,e.data[a].size)})).catch((function(t){console.log(t)}))},groupBy:function(t,e){var a={};return t.forEach((function(t){a[t[e]]||(a[t[e]]=[]),a[t[e]].push(t)})),a},summonth:function(){this.taxlist=this.groupBy(this.list,"month");for(var t=0;t<this.tbmonth.length;t++){this.sumthreethree=0,this.sumsixthree=0,this.sumsixtwofive=0,this.sumseven=0,this.sumsevenfive=0,this.sumthreethreec=0,this.sumsixthreec=0,this.sumsixtwofivec=0,this.sumsevenc=0,this.sumsevenfivec=0;var e=10;if(this.taxlist[t+1])for(var a=0;a<this.taxlist[t+1].length;a++)for(var s=0;s<this.tbsize.length;s++)(10==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-2||11==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-2||12==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-2||1==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||2==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||3==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||4==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||5==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||6==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||7==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||8==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||9==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1)&&this.taxlist[t+1][a].size==this.tbsize[s]?(e=this.taxlist[t+1][a].month,.33==this.tbsize[s]?this.sumthreethree=Math.floor(parseFloat(this.sumthreethree)+parseFloat(this.taxlist[t+1][a].net)):.63==this.tbsize[s]?this.sumsixthree=Math.floor(parseFloat(this.sumsixthree)+parseFloat(this.taxlist[t+1][a].net)):.625==this.tbsize[s]?this.sumsixtwofive=Math.floor(parseFloat(this.sumsixtwofive)+parseFloat(this.taxlist[t+1][a].net)):.7==this.tbsize[s]?this.sumseven=Math.floor(parseFloat(this.sumseven)+parseFloat(this.taxlist[t+1][a].net)):.75==this.tbsize[s]&&(this.sumsevenfive=Math.floor(parseFloat(this.sumsevenfive)+parseFloat(this.taxlist[t+1][a].net)))):(10==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||11==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||12==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent-1||1==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||2==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||3==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||4==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||5==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||6==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||7==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||8==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent||9==this.taxlist[t+1][a].month&&this.taxlist[t+1][a].year==this.yearcurrent)&&this.taxlist[t+1][a].size==this.tbsize[s]&&(e=this.taxlist[t+1][a].month,.33==this.tbsize[s]?this.sumthreethreec=Math.floor(parseFloat(this.sumthreethreec)+parseFloat(this.taxlist[t+1][a].net)):.63==this.tbsize[s]?this.sumsixthreec=Math.floor(parseFloat(this.sumsixthreec)+parseFloat(this.taxlist[t+1][a].net)):.625==this.tbsize[s]?this.sumsixtwofivec=Math.floor(parseFloat(this.sumsixtwofivec)+parseFloat(this.taxlist[t+1][a].net)):.7==this.tbsize[s]?this.sumsevenc=Math.floor(parseFloat(this.sumsevenc)+parseFloat(this.taxlist[t+1][a].net)):.75==this.tbsize[s]&&(this.sumsevenfivec=Math.floor(parseFloat(this.sumsevenfivec)+parseFloat(this.taxlist[t+1][a].net))));this.sumthreethree?this.taxdatabefore.push({month:e,size:.33,sumtax:this.sumthreethree}):this.taxdatabefore.push({month:e,size:.33,sumtax:0}),this.sumsixthree?this.taxdatabefore.push({month:e,size:.63,sumtax:this.sumsixthree}):this.taxdatabefore.push({month:e,size:.63,sumtax:0}),this.sumsixtwofive?this.taxdatabefore.push({month:e,size:.625,sumtax:this.sumsixtwofive}):this.taxdatabefore.push({month:e,size:.625,sumtax:0}),this.sumsevenfive?this.taxdatabefore.push({month:e,size:.75,sumtax:this.sumsevenfive}):this.taxdatabefore.push({month:e,size:.75,sumtax:0}),this.sumseven?this.taxdatabefore.push({month:e,size:.7,sumtax:this.sumseven}):this.taxdatabefore.push({month:e,size:.7,sumtax:0}),this.sumthreethreec?this.taxdatacurrent.push({month:e,size:.33,sumtaxy:this.sumthreethreec}):this.taxdatacurrent.push({month:e,size:.33,sumtaxy:0}),this.sumsixthreec?this.taxdatacurrent.push({month:e,size:.63,sumtaxy:this.sumsixthreec}):this.taxdatacurrent.push({month:e,size:.63,sumtaxy:0}),this.sumsixtwofivec?this.taxdatacurrent.push({month:e,size:.625,sumtaxy:this.sumsixtwofivec}):this.taxdatacurrent.push({month:e,size:.625,sumtaxy:0}),this.sumsevenfivec?this.taxdatacurrent.push({month:e,size:.75,sumtaxy:this.sumsevenfivec}):this.taxdatacurrent.push({month:e,size:.75,sumtaxy:0}),this.sumsevenc?this.taxdatacurrent.push({month:e,size:.7,sumtaxy:this.sumsevenc}):this.taxdatacurrent.push({month:e,size:.7,sumtaxy:0})}for(var n=0;n<this.taxdatabefore.length;n++)for(var r=0;r<this.content.length;r++)this.taxdatabefore[n].month==this.content[r].month&&this.taxdatabefore[n].size==this.content[r].size&&(this.content[r].sumtax=this.taxdatabefore[n].sumtax);for(var i=0;i<this.content.length;i++)for(var o=0;o<this.taxdatacurrent.length;o++)this.taxdatacurrent[o].month==this.content[i].month&&this.taxdatacurrent[o].size==this.content[i].size&&(this.content[i].sumtaxy=this.taxdatacurrent[o].sumtaxy)},calsum:function(){for(var t=0,e=0,a=0,s=0;s<this.list.length;s++)t=parseInt(t+this.list[s].number),e=parseInt(e+this.list[s].volume_liquor),a=Math.floor(parseFloat(a)+parseFloat(this.list[s].net)),this.list[s].sumnumber=t,this.list[s].sumvolume_liquor=e,this.list[s].sumnet=a;console.log(this.newlist)},cal_net_tax:function(){for(var t=0;t<this.list.length;t++)0!=t&&this.list[t].no==this.list[t-1].no?this.list[t-1].net_tax=Math.floor(parseFloat(this.list[t].net)+parseFloat(this.list[t-1].net)):this.list[t].net_tax=Math.floor(parseFloat(this.list[t].net))},cal:function(t,e,a,s){var n=0,r=0,i=0,o=0;return 540002==this.factory_code?(n=10*t/100*e,r=150*a/100*s*t,(n+r).toFixed(2)):(i=2*t/100*e,o=155*a/100*s*t,(i+o).toFixed(2))},convertdatetothai:function(t){if(t){var e=new Date(t),a=e.getMonth()+1,s=e.getDate(),n=e.getFullYear(),r=s+"/"+a+"/"+n;return r}},loadchartOptions:function(){this.chartOptions={chart:{height:500,type:"line",dropShadow:{enabled:!0,color:"#000",top:18,left:7,blur:10,opacity:.2},toolbar:{show:!1}},colors:["#77B6EA","#EC7C30"],dataLabels:{enabled:!0},stroke:{curve:"straight"},title:{text:"กราฟแสดงสถิติปริมาณน้ำสุรา",align:"left",style:{fontSize:"9px"}},grid:{borderColor:"#e7e7e7",row:{colors:["#f3f3f3","transparent"],opacity:.5}},markers:{size:0},xaxis:{categories:["ตุลาคม","พฤศจิกายน","ธันวาคม","มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน"],title:{text:"เดือน",style:{fontSize:"9px"}},labels:{style:{fontSize:"9px"}}},yaxis:{title:{text:"ปริมาณน้ำสุรา (ลิตร)",style:{fontSize:"9px"}},labels:{style:{fontSize:"9px"}}},legend:{position:"top",horizontalAlign:"right",floating:!0,offsetY:-25,offsetX:-5}}},loadvolumnable:function(){for(var t=0;t<this.content.length;t++)10!=this.content[t].month&&11!=this.content[t].month&&12!=this.content[t].month&&1!=this.content[t].month&&2!=this.content[t].month&&3!=this.content[t].month&&4!=this.content[t].month&&5!=this.content[t].month&&6!=this.content[t].month&&7!=this.content[t].month&&8!=this.content[t].month&&9!=this.content[t].month||this.content.splice(t,1);for(var e=0;e<this.content.length;e++)10!=this.content[e].month&&11!=this.content[e].month&&12!=this.content[e].month&&1!=this.content[e].month&&2!=this.content[e].month&&3!=this.content[e].month&&4!=this.content[e].month&&5!=this.content[e].month&&6!=this.content[e].month&&7!=this.content[e].month&&8!=this.content[e].month&&9!=this.content[e].month||this.content.splice(e,1);this.monthtvolumnable.push({year:this.yearcurrent,style:"background: rgb(119, 182, 234) !important; color: rgb(119, 182, 234); height: 12px; width: 12px; left: 0px; top: 0px; border-width: 0px; border-color: rgb(255, 255, 255); border-radius: 12px;"}),this.monthtvolumnable.push({year:this.yearcurrent-1,style:"background: rgb(236, 124, 48) !important; color: rgb(236, 124, 48); height: 12px; width: 12px; left: 0px; top: 0px; border-width: 0px; border-color: rgb(255, 255, 255); border-radius: 12px;"});for(var a=0;a<this.monthtvolumnable.length;a++){if(0==a)for(var s=0;s<this.volume_liquorcurrent.length;s++)0==s?this.monthtvolumnable[a].oct=this.volume_liquorcurrent[s]:1==s?this.monthtvolumnable[a].nov=this.volume_liquorcurrent[s]:2==s?this.monthtvolumnable[a].dec=this.volume_liquorcurrent[s]:3==s?this.monthtvolumnable[a].jan=this.volume_liquorcurrent[s]:4==s?this.monthtvolumnable[a].feb=this.volume_liquorcurrent[s]:5==s?this.monthtvolumnable[a].mar=this.volume_liquorcurrent[s]:6==s?this.monthtvolumnable[a].apr=this.volume_liquorcurrent[s]:7==s?this.monthtvolumnable[a].may=this.volume_liquorcurrent[s]:8==s?this.monthtvolumnable[a].jun=this.volume_liquorcurrent[s]:9==s?this.monthtvolumnable[a].jul=this.volume_liquorcurrent[s]:10==s?this.monthtvolumnable[a].aug=this.volume_liquorcurrent[s]:11==s&&(this.monthtvolumnable[a].sep=this.volume_liquorcurrent[s]);if(1==a)for(var n=0;n<this.volume_liquorbefore.length;n++)0==n?this.monthtvolumnable[a].oct=this.volume_liquorbefore[n]:1==n?this.monthtvolumnable[a].nov=this.volume_liquorbefore[n]:2==n?this.monthtvolumnable[a].dec=this.volume_liquorbefore[n]:3==n?this.monthtvolumnable[a].jan=this.volume_liquorbefore[n]:4==n?this.monthtvolumnable[a].feb=this.volume_liquorbefore[n]:5==n?this.monthtvolumnable[a].mar=this.volume_liquorbefore[n]:6==n?this.monthtvolumnable[a].apr=this.volume_liquorbefore[n]:7==n?this.monthtvolumnable[a].may=this.volume_liquorbefore[n]:8==n?this.monthtvolumnable[a].jun=this.volume_liquorbefore[n]:9==n?this.monthtvolumnable[a].jul=this.volume_liquorbefore[n]:10==n?this.monthtvolumnable[a].aug=this.volume_liquorbefore[n]:11==n&&(this.monthtvolumnable[a].sep=this.volume_liquorbefore[n])}},loadgraph:function(){if(this.series.push({name:String(this.yearcurrent),style:{fontSize:"9px"},year:this.yearcurrent}),this.series.push({name:String(this.yearcurrent-1),style:{fontSize:"9px"},year:this.yearcurrent-1}),2==this.header.length)for(var t=0;t<this.content.length;t++)0!=t&&3!=t&&6!=t&&9!=t&&12!=t&&15!=t&&18!=t&&21!=t&&24!=t&&27!=t&&30!=t&&33!=t||(0==this.content[t].sumvolume_liquory?this.volume_liquorcurrent.push(null):this.volume_liquorcurrent.push(this.content[t].sumvolume_liquory),this.volume_liquorbefore.push(this.content[t].sumvolume_liquor));else for(var e=0;e<this.content.length;e++)0==this.content[e].sumvolume_liquory?this.volume_liquorcurrent.push(null):this.volume_liquorcurrent.push(this.content[e].sumvolume_liquory),this.volume_liquorbefore.push(this.content[e].sumvolume_liquor);for(var a=0;a<this.series.length;a++)this.series[a].year==this.yearcurrent-1?this.series[a]["data"]=this.volume_liquorbefore:this.series[a].year==this.yearcurrent&&(this.series[a]["data"]=this.volume_liquorcurrent);this.loadvolumnable()},numberWithCommas:function(t,e){var a=0;return e=parseInt(e),a=isNaN(e)?"":e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),a}}},de=he,ve=(a("6e70"),Object(l["a"])(de,ce,me,!1,null,"895b7964",null)),be=ve.exports,fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello container mt-5"},[0!=t.count?a("h5",{staticStyle:{"text-align":"center"}},[t._v(" รายชื่อโรงอุตสาหกรรมที่ได้รับการตรวจ จำนวน "+t._s(t.count)+" ครั้ง ")]):t._e(),0==t.count?a("h5",{staticStyle:{"text-align":"center"}},[t._v(" รายชื่อโรงอุตสาหกรรมที่ได้รับการตรวจ ")]):t._e(),a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.list,(function(e,s){return a("tr",{key:e.id},[a("td",[t._v(" "+t._s(s+1)+" ")]),a("td",[a("router-link",{staticStyle:{color:"black","text-decoration":"none"},attrs:{to:"/verifyhistory/"+e.excise_id}},[t._v(" "+t._s(e.excise_id)+" ")])],1),a("td",[a("router-link",{staticStyle:{color:"black","text-decoration":"none"},attrs:{to:"/verifyhistory/"+e.excise_id}},[t._v(" "+t._s(e.excise_no)+" ")])],1),a("td",[a("router-link",{staticStyle:{color:"black","text-decoration":"none"},attrs:{to:"/verifyhistory/"+e.excise_id}},[t._v(" "+t._s(e.excise_name)+" ")])],1),a("td",[a("router-link",{staticStyle:{color:"black","text-decoration":"none"},attrs:{to:"/verifyhistory/"+e.excise_id}},[t._v(" "+t._s(e.industrial_district)+" ")])],1),a("td",[a("router-link",{staticStyle:{color:"black","text-decoration":"none"},attrs:{to:"/verifyhistory/"+e.excise_id}},[t._v(" "+t._s(t.convertdatetothai(e.report_date))+" ")])],1)])})),0)])])},_e=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("ลำดับที่")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("เลขทะเบียนสรรพสามิต")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("รหัสโรงงาน")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("ชื่อโรงอุตสาหกรรม")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("อำเภอ")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("วันที่ตรวจสอบ")])])])}],xe={name:"HelloWorld",data:function(){return{list:[],itemPreviewImage:"",id:"",item:[],img:"",image:"",no:"",reportlist:[],count:""}},props:{msg:String},computed:{},mounted:function(){this.count=this.$route.params.id,this.loaddata()},methods:{loaddata:function(){var t=this;Y.getVerifies("").then((function(e){0==t.count?t.list=e.data:(t.reportlist=t.groupBy(e.data,"count"),t.list=t.reportlist[t.count])})).catch((function(t){console.log(t)}))},groupBy:function(t,e){var a={};return t.forEach((function(t){a[t[e]]||(a[t[e]]=[]),a[t[e]].push(t)})),a},convertdatetothai:function(t){if(t){var e=new Date(t),a=e.getMonth()+1,s=e.getDate(),n=e.getFullYear(),r=s+"/"+a+"/"+n;return r}}}},ge=xe,ye=(a("4940"),Object(l["a"])(ge,fe,_e,!1,null,"53c965ba",null)),pe=ye.exports,we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card mt-5",staticStyle:{width:"500px"}},[a("div",{staticClass:"card-body login-card-body"},[a("h3",{staticClass:"login-box-msg"},[t._v("เข้าสู่ระบบ")]),a("form",[a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[t._v("ชื่อผู้ใช้งาน")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text",min:"1",id:"username",placeholder:"กรุณากรอกชื่อผู้ใช้งาน"},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[t._v("รหัสผ่าน")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"กรุณากรอกรหัสผ่าน"},domProps:{value:t.user.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.signIn()},input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),a("div",{staticClass:"social-auth-links text-center mb-3 mt-5"},[a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.signIn()}}},[t._v("เข้าสู่ระบบ")])])])])])])},Ce=[],qe={name:"login",components:{},data:function(){return{user:[]}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn},currentUser:function(){return this.$store.state.auth.user}},methods:{signIn:function(){var t=this;if(""==this.user.username||null==this.user.username)alert("กรุณากรอกชื่อผู้ใช้งาน");else if(""==this.user.password||null==this.user.password)alert("กรุณากรอกรหัสผ่าน");else{var e={username:this.user.username,password:this.user.password};this.$store.dispatch("auth/login",e).then((function(){t.loading=!0,setTimeout((function(){location.reload(),this.$router.push("/maps")}),500)}),(function(t){alert("ชื่อหรือรหัสผ่านไม่ถูกต้อง"),console.log(t)}))}}},mounted:function(){this.currentUser&&this.$router.push("/maps")}},Se=qe,ze=(a("039a"),Object(l["a"])(Se,we,Ce,!1,null,null,null)),ke=ze.exports,Ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card mt-5",staticStyle:{width:"500px"}},[a("div",{staticClass:"card-body login-card-body"},[a("h3",{staticClass:"login-box-msg",staticStyle:{"text-align":"center"}},[t._v("สมัครสมาชิก")]),a("form",[a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[t._v("รหัสเริ่มต้นการใช้งาน")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.key,expression:"user.key"}],staticClass:"form-control",attrs:{type:"text",id:"username",placeholder:"กรุณากรอกรหัสเริ่มต้นการใช้งาน"},domProps:{value:t.user.key},on:{input:function(e){e.target.composing||t.$set(t.user,"key",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[t._v("ชื่อผู้ใช้งาน")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text",id:"username",placeholder:"กรุณากรอกชื่อผู้ใช้งาน"},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[t._v("รหัสผ่าน")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"กรุณากรอกรหัสผ่าน"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),a("div",{staticClass:"social-auth-links text-center mb-3 mt-5"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.register()}}},[t._v(" สมัครสมาชิก ")])])])])])])},Fe=[],Ee=function(){function t(){Object(v["a"])(this,t)}return Object(b["a"])(t,[{key:"getUsers",value:function(){return x.get("/user")}},{key:"getUser",value:function(t){return x.get("/user/findKey/?key="+t)}},{key:"createUser",value:function(t){return x.post("/user",t)}},{key:"updateUser",value:function(t,e){return x.put("/user/".concat(t),e)}}]),t}(),De=new Ee,Ne=a("500b"),Oe={name:"login",components:{},data:function(){return{user:[],key:""}},computed:{},methods:{signIn:function(){""==this.user.id_card||null==this.user.id_card?alert("กรุณากรอกชื่อผู้ใช้งาน"):""!=this.user.password&&null!=this.user.password||alert("กรุณากรอกรหัสผ่าน")},getDeviceType:function(){var t=(new Ne["DeviceUUID"]).get();return t},getOS:function(){var t=(new Ne["DeviceUUID"]).parse();return t.platform},makeid:function(t){for(var e="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=a.length,n=0;n<t;n++)e+=a.charAt(Math.floor(Math.random()*s));return e},register:function(){var t=this;console.log(this.user.key),null==this.user.key?alert("กรุณากรอกรหัสเริ่มต้น"):null==this.user.username?alert("กรุณากรอกชื่อผู้ใช้งาน"):null==this.user.password?alert("กรุณากรอกรหัสผ่าน"):De.getUser(this.user.key).then((function(e){if(console.log(e.data),0==e.data.length)alert("รหัสเริ่มต้นการใช้งานไม่ถูกต้อง");else if(1==e.data.status)alert("รหัสเริ่มต้นการใช้งานถูกใช้แล้ว");else{var a={username:t.user.username,password:t.user.password,device:t.getOS(),u_id:t.getDeviceType(),status:1,created_by:1,updated_by:1};De.updateUser(e.data.user_id,a).then((function(e){console.log(e.data),t.$router.push("/login")}))}}))}},mounted:function(){}},Me=Oe,je=(a("f30e"),Object(l["a"])(Me,Ie,Fe,!1,null,null,null)),$e=je.exports,We=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello container mt-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12",staticStyle:{"text-align":"center"}},[t._v("รายการผู้ใช้")]),a("div",{staticClass:"col-md-10",staticStyle:{"text-align":"center"}}),a("div",{staticClass:"col-md-2",staticStyle:{"text-align":"center"}},[a("button",{staticClass:"btn btn-success",staticStyle:{"margin-top":"10px","text-align":"right"},attrs:{type:"submit"},on:{click:function(e){return t.generate()}}},[t._v(" สร้างรหัสเริ่มต้นการใช้งาน ")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 mt-3"},[a("table",{staticClass:"table table-bordered"},[t._m(0),a("tbody",t._l(t.list,(function(e,s){return a("tr",{key:s+1},[a("td",{attrs:{scope:"row"}},[t._v(t._s(s+1))]),a("td",{attrs:{scope:"row"}},[t._v(t._s(e.user_key))])])})),0)])])])])},Te=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("ลำดับที่")]),a("th",{staticClass:"table-secondary",attrs:{scope:"col"}},[t._v("รหัสเริ่มต้น")])])])}],Pe={name:"HelloWorld",data:function(){return{list:[],itemPreviewImage:"",id:"",item:[],img:"",image:"",excise_name:"",excise_by:"",sortid:0,date:"",countall:0}},props:{msg:String},computed:{},mounted:function(){this.loaddata()},methods:{loaddata:function(){var t=this;De.getUsers().then((function(e){t.list=e.data}))},makeid:function(t){for(var e="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=a.length,n=0;n<t;n++)e+=a.charAt(Math.floor(Math.random()*s));return e},generate:function(){var t=this,e={user_key:this.makeid(5),status:0,created_by:1,updated_by:1};De.createUser(e).then((function(e){console.log(e.data),t.loaddata()}))}}},Re=Pe,Be=(a("0e11"),Object(l["a"])(Re,We,Te,!1,null,"641508d9",null)),Le=Be.exports,He=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello mt-5"},[a("h3",{staticClass:"card-title",staticStyle:{"text-align":"center"}},[t._v("เลขที่ใบอนุญาต "+t._s(t.fda))]),a("br"),t.status?a("div",{staticClass:"card",staticStyle:{width:"80%"}},[a("div",{staticClass:"card-body"},[a("p",{staticClass:"card-text"},[t._v("สถานะ : "+t._s(t.data.cncnm))]),a("p",{staticClass:"card-text"},[t._v("ประเภทผลิตภัณฑ์ : "+t._s(t.data.typepro))]),a("p",{staticClass:"card-text"},[t._v("ใบสำคัญ/เลขที่อนุญาต : "+t._s(t.data.lcnno))]),a("p",{staticClass:"card-text"},[t._v("ชื่อผลิตภัณฑ์ (TH) : "+t._s(t.data.productha))]),a("p",{staticClass:"card-text"},[t._v("ชื่อผลิตภัณฑ์ (EN) : "+t._s(t.data.produceng))]),a("p",{staticClass:"card-text"},[t._v("ชื่อผู้รับอนุญาต : "+t._s(t.data.licen))]),a("p",{staticClass:"card-text"},[t._v("สถานที่ผลิต : "+t._s(t.data.Addr))]),a("p",{staticClass:"card-text"},[t._v("Newcode : "+t._s(t.data.Newcode))]),a("a",{attrs:{href:t.data.URLs,target:"_blank"}},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("ข้อมูลเพิ่มเติม")])])])]):a("div",{staticClass:"card",staticStyle:{width:"80%"}},[a("div",{staticClass:"card-body"},[t.statusnot?a("div",[a("h5",{staticClass:"card-title",staticStyle:{"text-align":"center"}},[t._v("ไม่พบข้อมูลเลขที่ใบอนุญาต "+t._s(t.fda))]),a("br")]):a("div",[a("h5",{staticClass:"card-title",staticStyle:{"text-align":"center"}},[t._v("กำลังโหลดข้อมูล")]),a("br")])])])])},Ue=[],Ae={name:"HelloWorld",data:function(){return{data:[],fda:"",status:!1,statusnot:!1}},props:{msg:String},computed:{},mounted:function(){this.fda=this.$route.params.fda,this.loaddata()},methods:{loaddata:function(){var t=this,e="https://tawaiforhealth.org/api/oryor/check-product",a={number_src:this.fda},s={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(a)};fetch(e,s).then((function(t){return t.json()})).then((function(e){console.log(e),e.message?t.statusnot=!0:(t.data=e,t.status=!0)}))}}},Ye=Ae,Je=(a("64e7"),Object(l["a"])(Ye,He,Ue,!1,null,"bee6af6a",null)),Ve=Je.exports;s["a"].use(m["a"]);var Xe=new m["a"]({mode:"history",routes:[{path:"/maps",alias:"/maps",name:"map",component:z},{path:"/",alias:"/import",name:"import",component:$},{path:"/list",alias:"/list",name:"list",component:L},{path:"/map/:id/:name",alias:"/map",name:"map",component:bt},{path:"/menu",alias:"/menu",name:"menu",component:pt},{path:"/report",alias:"/report",name:"report",component:kt},{path:"/verify",alias:"/verify",name:"verify",component:Ot},{path:"/verifyhistory/:id",alias:"/verifyhistory",name:"verifyhistory",component:Pt},{path:"/verifylist",alias:"/verifylist",name:"verifylist",component:At},{path:"/edit/:id",alias:"/edit",name:"edit",component:Gt},{path:"/editmenu",alias:"/editmenu",name:"editmenu",component:se},{path:"/liquortaxdetail/:id/:name",alias:"/liquortaxdetail",name:"liquortaxdetail",component:ue},{path:"/graphtax/:id",alias:"/graphtax",name:"graphtax",component:Q},{path:"/graphvolumn/:id",alias:"/graphvolumn",name:"graphvolumn",component:be},{path:"/reporttax/:id",alias:"/reporttax",name:"reporttax",component:mt},{path:"/verifylist/:id",alias:"/verifylist",name:"verifylist",component:pe},{path:"/login",alias:"/login",name:"login",component:ke},{path:"/user",alias:"/user",name:"user",component:Le},{path:"/register",alias:"/register",name:"register",component:$e},{path:"/detail/:fda",alias:"/detail",name:"detail",component:Ve}]}),Ke=Xe,Ge=a("1321"),Qe=a.n(Ge),Ze=a("3dc6"),ta=a("2f62"),ea=function(){function t(){Object(v["a"])(this,t)}return Object(b["a"])(t,[{key:"getUUID",value:function(){var t=(new Ne["DeviceUUID"]).get();return t}},{key:"login",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark((function t(e){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",x.post("user/signin",e).then((function(t){return console.log(t.data),t.data.accessToken&&localStorage.setItem("users",JSON.stringify(t.data)),t.data}),(function(t){console.log(t),a.$router.push("/login"),alert("ชื่อหรือรหัสผ่านไม่ถูกต้อง")})));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"logout",value:function(){localStorage.removeItem("users")}},{key:"role",value:function(){return x.get("role")}},{key:"getpage",value:function(t){return x.get("menu/menubyuserid/"+t)}},{key:"getname",value:function(t){return x.get("user/"+t)}}]),t}(),aa=new ea,sa=JSON.parse(localStorage.getItem("users")),na=sa?{status:{loggedIn:!0},user:sa}:{status:{loggedIn:!1},user:null},ra={namespaced:!0,state:na,actions:{login:function(t,e){var a=t.commit;return aa.login(e).then((function(t){return console.log(t),a("loginSuccess",t),Promise.resolve(t)}),(function(t){return a("loginFailure"),Promise.reject(t)}))},logout:function(t){var e=t.commit;aa.logout(),e("logout")}},mutations:{loginSuccess:function(t,e){t.status.loggedIn=!0,t.user=e},loginFailure:function(t){t.status.loggedIn=!1,t.user=null},logout:function(t){t.status.loggedIn=!1,t.user=null}}};s["a"].use(ta["a"]);var ia=new ta["a"].Store({modules:{auth:ra}});s["a"].use(Qe.a),s["a"].component("apexchart",Qe.a),s["a"].config.productionTip=!1,s["a"].use(Ze["a"]),new s["a"]({router:Ke,store:ia,render:function(t){return t(c)}}).$mount("#app")},"5afb":function(t,e,a){"use strict";a("8db6")},"5b60":function(t,e,a){"use strict";a("c317")},"64e7":function(t,e,a){"use strict";a("f501")},6782:function(t,e,a){},"68a7":function(t,e,a){"use strict";a("34bd")},"6d33":function(t,e,a){"use strict";a("3182")},"6e70":function(t,e,a){"use strict";a("8ba9")},7174:function(t,e,a){},"75bb":function(t,e,a){"use strict";a("4ca6")},"7f68":function(t,e,a){"use strict";a("d01b")},"85ec":function(t,e,a){},"8ba9":function(t,e,a){},"8d50":function(t,e,a){},"8db6":function(t,e,a){},"9aec":function(t,e,a){"use strict";a("47b0")},a6b6:function(t,e,a){},b702:function(t,e,a){"use strict";a("e69e")},c317:function(t,e,a){},d01b:function(t,e,a){},daac:function(t,e,a){},e69e:function(t,e,a){},efa6:function(t,e,a){"use strict";a("8d50")},f30e:function(t,e,a){"use strict";a("0ea0")},f501:function(t,e,a){}});
//# sourceMappingURL=app.cd8b5ce0.js.map